const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-CdDMWXga.js","assets/Book-x-EUmQLG.js","assets/Book-Dt5bGZAQ.css","assets/HomePage-CKgX5tol.css","assets/LoginPage-C0Jq711u.js","assets/Auth-Bd6CPmEC.js","assets/fields-fFkvK8Ri.js","assets/fields-DnNx9Kf9.css","assets/Auth-OaEkCUSM.css","assets/firebase-BKEigl4L.js","assets/UpcomingPage-6zX5Noi6.js","assets/EditTaskModal-BDf8xzgd.js","assets/MessageInfo-77TMxluC.js","assets/MessageInfo-BkmHZ-0N.css","assets/Checkbox-BV7o_ash.js","assets/Checkbox-CI3slMgr.css","assets/EditTaskModal-zuS8_M2o.css","assets/TasksList-enQylau-.js","assets/TasksList-CQFjBJJE.css","assets/UpcomingPage-DkOTVZN8.css","assets/RegistrationPage-r7vX9BPJ.js","assets/TodayPage-CElbnAEN.js","assets/TasksPage-Dq5ctWkg.js","assets/TomorrowPage-Bbh14FVU.js","assets/TagPage-DQAnA77f.js","assets/useTagSnapshot-Dk4oV0xZ.js","assets/CalendarPage-C_p2bgGh.js","assets/CalendarPage-BTJ_lexK.css","assets/TasksDay-B_B62mxB.js","assets/ResetPasswordPage-c1W-HNT6.js","assets/ActionPage-BLyS2D9O.js","assets/AboutPage-L5r-4qWS.js"])))=>i.map(i=>d[i]);
function BI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var vD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ul(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qI(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var Sd={exports:{}},cl={},Ad={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function HI(){if(Yy)return xe;Yy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function x(U,X,ge){this.props=U,this.context=X,this.refs=D,this.updater=ge||S}x.prototype.isReactComponent={},x.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function L(){}L.prototype=x.prototype;function z(U,X,ge){this.props=U,this.context=X,this.refs=D,this.updater=ge||S}var j=z.prototype=new L;j.constructor=z,k(j,x.prototype),j.isPureReactComponent=!0;var Y=Array.isArray,le=Object.prototype.hasOwnProperty,oe={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function A(U,X,ge){var ke,be={},Oe=null,$e=null;if(X!=null)for(ke in X.ref!==void 0&&($e=X.ref),X.key!==void 0&&(Oe=""+X.key),X)le.call(X,ke)&&!O.hasOwnProperty(ke)&&(be[ke]=X[ke]);var Be=arguments.length-2;if(Be===1)be.children=ge;else if(1<Be){for(var Ge=Array(Be),Tt=0;Tt<Be;Tt++)Ge[Tt]=arguments[Tt+2];be.children=Ge}if(U&&U.defaultProps)for(ke in Be=U.defaultProps,Be)be[ke]===void 0&&(be[ke]=Be[ke]);return{$$typeof:n,type:U,key:Oe,ref:$e,props:be,_owner:oe.current}}function C(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function P(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return X[ge]})}var N=/\/+/g;function R(U,X){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):X.toString(36)}function re(U,X,ge,ke,be){var Oe=typeof U;(Oe==="undefined"||Oe==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(Oe){case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case n:case e:$e=!0}}if($e)return $e=U,be=be($e),U=ke===""?"."+R($e,0):ke,Y(be)?(ge="",U!=null&&(ge=U.replace(N,"$&/")+"/"),re(be,X,ge,"",function(Tt){return Tt})):be!=null&&(V(be)&&(be=C(be,ge+(!be.key||$e&&$e.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+U)),X.push(be)),1;if($e=0,ke=ke===""?".":ke+":",Y(U))for(var Be=0;Be<U.length;Be++){Oe=U[Be];var Ge=ke+R(Oe,Be);$e+=re(Oe,X,ge,Ge,be)}else if(Ge=T(U),typeof Ge=="function")for(U=Ge.call(U),Be=0;!(Oe=U.next()).done;)Oe=Oe.value,Ge=ke+R(Oe,Be++),$e+=re(Oe,X,ge,Ge,be);else if(Oe==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return $e}function ae(U,X,ge){if(U==null)return U;var ke=[],be=0;return re(U,ke,"","",function(Oe){return X.call(ge,Oe,be++)}),ke}function Se(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var W={current:null},Q={transition:null},fe={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:Q,ReactCurrentOwner:oe};function se(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:ae,forEach:function(U,X,ge){ae(U,function(){X.apply(this,arguments)},ge)},count:function(U){var X=0;return ae(U,function(){X++}),X},toArray:function(U){return ae(U,function(X){return X})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},xe.Component=x,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=z,xe.StrictMode=r,xe.Suspense=d,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,xe.act=se,xe.cloneElement=function(U,X,ge){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ke=k({},U.props),be=U.key,Oe=U.ref,$e=U._owner;if(X!=null){if(X.ref!==void 0&&(Oe=X.ref,$e=oe.current),X.key!==void 0&&(be=""+X.key),U.type&&U.type.defaultProps)var Be=U.type.defaultProps;for(Ge in X)le.call(X,Ge)&&!O.hasOwnProperty(Ge)&&(ke[Ge]=X[Ge]===void 0&&Be!==void 0?Be[Ge]:X[Ge])}var Ge=arguments.length-2;if(Ge===1)ke.children=ge;else if(1<Ge){Be=Array(Ge);for(var Tt=0;Tt<Ge;Tt++)Be[Tt]=arguments[Tt+2];ke.children=Be}return{$$typeof:n,type:U.type,key:be,ref:Oe,props:ke,_owner:$e}},xe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},xe.createElement=A,xe.createFactory=function(U){var X=A.bind(null,U);return X.type=U,X},xe.createRef=function(){return{current:null}},xe.forwardRef=function(U){return{$$typeof:h,render:U}},xe.isValidElement=V,xe.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Se}},xe.memo=function(U,X){return{$$typeof:m,type:U,compare:X===void 0?null:X}},xe.startTransition=function(U){var X=Q.transition;Q.transition={};try{U()}finally{Q.transition=X}},xe.unstable_act=se,xe.useCallback=function(U,X){return W.current.useCallback(U,X)},xe.useContext=function(U){return W.current.useContext(U)},xe.useDebugValue=function(){},xe.useDeferredValue=function(U){return W.current.useDeferredValue(U)},xe.useEffect=function(U,X){return W.current.useEffect(U,X)},xe.useId=function(){return W.current.useId()},xe.useImperativeHandle=function(U,X,ge){return W.current.useImperativeHandle(U,X,ge)},xe.useInsertionEffect=function(U,X){return W.current.useInsertionEffect(U,X)},xe.useLayoutEffect=function(U,X){return W.current.useLayoutEffect(U,X)},xe.useMemo=function(U,X){return W.current.useMemo(U,X)},xe.useReducer=function(U,X,ge){return W.current.useReducer(U,X,ge)},xe.useRef=function(U){return W.current.useRef(U)},xe.useState=function(U){return W.current.useState(U)},xe.useSyncExternalStore=function(U,X,ge){return W.current.useSyncExternalStore(U,X,ge)},xe.useTransition=function(){return W.current.useTransition()},xe.version="18.3.1",xe}var Xy;function $l(){return Xy||(Xy=1,Ad.exports=HI()),Ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function WI(){if(Jy)return cl;Jy=1;var n=$l(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,d,m){var _,E={},T=null,S=null;m!==void 0&&(T=""+m),d.key!==void 0&&(T=""+d.key),d.ref!==void 0&&(S=d.ref);for(_ in d)r.call(d,_)&&!a.hasOwnProperty(_)&&(E[_]=d[_]);if(h&&h.defaultProps)for(_ in d=h.defaultProps,d)E[_]===void 0&&(E[_]=d[_]);return{$$typeof:e,type:h,key:T,ref:S,props:E,_owner:o.current}}return cl.Fragment=t,cl.jsx=u,cl.jsxs=u,cl}var Zy;function KI(){return Zy||(Zy=1,Sd.exports=WI()),Sd.exports}var Z=KI();const GI="modulepreload",QI=function(n){return"/todo-app/"+n},e_={},wn=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(t.map(d=>{if(d=QI(d),d in e_)return;e_[d]=!0;const m=d.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const E=document.createElement("link");if(E.rel=m?"stylesheet":GI,m||(E.as="script"),E.crossOrigin="",E.href=d,h&&E.setAttribute("nonce",h),document.head.appendChild(E),m)return new Promise((T,S)=>{E.addEventListener("load",T),E.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},YI="_root_4ymro_1",XI="_title_4ymro_8",JI="_body_4ymro_12",Rd={root:YI,title:XI,body:JI};var Cd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var t_;function ZI(){return t_||(t_=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(a=o(a,r(h)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var h in a)e.call(a,h)&&a[h]&&(u=o(u,h));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Cd)),Cd.exports}var eS=ZI();const Qt=Ul(eS),tS="_container_7vk3u_5",nS="_modal_7vk3u_10",rS="_root_7vk3u_15",iS="_root_dialog_7vk3u_19",sS="_overlay_7vk3u_25",oS="_root_popup_7vk3u_78",aS="_root_full_7vk3u_101",lS="_close_7vk3u_109",uS="_title_7vk3u_115",cS="_buttons_7vk3u_120",fS="_description_7vk3u_126",on={"body-open":"_body-open_7vk3u_1",container:tS,modal:nS,root:rS,root_dialog:iS,overlay:sS,"root_animation-fade":"_root_animation-fade_7vk3u_35","root_after-open-fade":"_root_after-open-fade_7vk3u_40","root_before-close-fade":"_root_before-close-fade_7vk3u_43","root_animation-slide":"_root_animation-slide_7vk3u_46","root_after-open-slide":"_root_after-open-slide_7vk3u_56","root_before-close-slide":"_root_before-close-slide_7vk3u_62",root_popup:oS,root_full:aS,close:lS,title:uS,buttons:cS,description:fS};var Ec={exports:{}},Pi={},kd={exports:{}},rn={},Pd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function hS(){return n_||(n_=1,function(n){function e(Q,fe){var se=Q.length;Q.push(fe);e:for(;0<se;){var U=se-1>>>1,X=Q[U];if(0<o(X,fe))Q[U]=fe,Q[se]=X,se=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var fe=Q[0],se=Q.pop();if(se!==fe){Q[0]=se;e:for(var U=0,X=Q.length,ge=X>>>1;U<ge;){var ke=2*(U+1)-1,be=Q[ke],Oe=ke+1,$e=Q[Oe];if(0>o(be,se))Oe<X&&0>o($e,be)?(Q[U]=$e,Q[Oe]=se,U=Oe):(Q[U]=be,Q[ke]=se,U=ke);else if(Oe<X&&0>o($e,se))Q[U]=$e,Q[Oe]=se,U=Oe;else break e}}return fe}function o(Q,fe){var se=Q.sortIndex-fe.sortIndex;return se!==0?se:Q.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],_=1,E=null,T=3,S=!1,k=!1,D=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Q){for(var fe=t(m);fe!==null;){if(fe.callback===null)r(m);else if(fe.startTime<=Q)r(m),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(m)}}function Y(Q){if(D=!1,j(Q),!k)if(t(d)!==null)k=!0,Se(le);else{var fe=t(m);fe!==null&&W(Y,fe.startTime-Q)}}function le(Q,fe){k=!1,D&&(D=!1,L(A),A=-1),S=!0;var se=T;try{for(j(fe),E=t(d);E!==null&&(!(E.expirationTime>fe)||Q&&!P());){var U=E.callback;if(typeof U=="function"){E.callback=null,T=E.priorityLevel;var X=U(E.expirationTime<=fe);fe=n.unstable_now(),typeof X=="function"?E.callback=X:E===t(d)&&r(d),j(fe)}else r(d);E=t(d)}if(E!==null)var ge=!0;else{var ke=t(m);ke!==null&&W(Y,ke.startTime-fe),ge=!1}return ge}finally{E=null,T=se,S=!1}}var oe=!1,O=null,A=-1,C=5,V=-1;function P(){return!(n.unstable_now()-V<C)}function N(){if(O!==null){var Q=n.unstable_now();V=Q;var fe=!0;try{fe=O(!0,Q)}finally{fe?R():(oe=!1,O=null)}}else oe=!1}var R;if(typeof z=="function")R=function(){z(N)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ae=re.port2;re.port1.onmessage=N,R=function(){ae.postMessage(null)}}else R=function(){x(N,0)};function Se(Q){O=Q,oe||(oe=!0,R())}function W(Q,fe){A=x(function(){Q(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){k||S||(k=!0,Se(le))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var se=T;T=fe;try{return Q()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var se=T;T=Q;try{return fe()}finally{T=se}},n.unstable_scheduleCallback=function(Q,fe,se){var U=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?U+se:U):se=U,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=se+X,Q={id:_++,callback:fe,priorityLevel:Q,startTime:se,expirationTime:X,sortIndex:-1},se>U?(Q.sortIndex=se,e(m,Q),t(d)===null&&Q===t(m)&&(D?(L(A),A=-1):D=!0,W(Y,se-U))):(Q.sortIndex=X,e(d,Q),k||S||(k=!0,Se(le))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var fe=T;return function(){var se=T;T=fe;try{return Q.apply(this,arguments)}finally{T=se}}}}(bd)),bd}var r_;function dS(){return r_||(r_=1,Pd.exports=hS()),Pd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function pS(){if(i_)return rn;i_=1;var n=$l(),e=dS();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function T(i){return d.call(E,i)?!0:d.call(_,i)?!1:m.test(i)?E[i]=!0:(_[i]=!0,!1)}function S(i,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,s,l,f){if(s===null||typeof s>"u"||S(i,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function D(i,s,l,f,p,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];x[s]=new D(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(L,z);x[s]=new D(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(L,z);x[s]=new D(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(L,z);x[s]=new D(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,s,l,f){var p=x.hasOwnProperty(s)?x[s]:null;(p!==null?p.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,p,f)&&(l=null),f||p===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,f=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,f?i.setAttributeNS(f,s,l):i.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),oe=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),Q=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var se=Object.assign,U;function X(i){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+i}var ge=!1;function ke(i,s){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var f=K}Reflect.construct(i,[],s)}else{try{s.call()}catch(K){f=K}i.call(s.prototype)}else{try{throw Error()}catch(K){f=K}i()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),y=f.stack.split(`
`),w=p.length-1,b=y.length-1;1<=w&&0<=b&&p[w]!==y[b];)b--;for(;1<=w&&0<=b;w--,b--)if(p[w]!==y[b]){if(w!==1||b!==1)do if(w--,b--,0>b||p[w]!==y[b]){var M=`
`+p[w].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=w&&0<=b);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function be(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case oe:return"Portal";case C:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case re:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case P:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case N:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ae:return s=i.displayName||null,s!==null?s:Oe(i.type)||"Memo";case Se:s=i._payload,i=i._init;try{return Oe(i(s))}catch{}}return null}function $e(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ge(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(i){var s=Ge(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){f=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Sr(i){i._valueTracker||(i._valueTracker=Tt(i))}function qs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=Ge(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function ii(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function es(i,s){var l=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Hs(i,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),i._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ga(i,s){s=s.checked,s!=null&&j(i,"checked",s,!1)}function ya(i,s){ga(i,s);var l=Be(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Ws(i,s.type,l):s.hasOwnProperty("defaultValue")&&Ws(i,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function su(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ws(i,s,l){(s!=="number"||ii(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ar=Array.isArray;function Rr(i,s,l,f){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function _a(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ks(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Ar(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Be(l)}}function Gs(i,s){var l=Be(s.value),f=Be(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),f!=null&&(i.defaultValue=""+f)}function va(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function mt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?mt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Cr,Ea=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,f,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Cr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function si(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ns=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(i){ns.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),ts[s]=ts[i]})});function wa(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ts.hasOwnProperty(i)&&ts[i]?(""+s).trim():s+"px"}function Ta(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,p=wa(l,s[l],f);l==="float"&&(l="cssFloat"),f?i.setProperty(l,p):i[l]=p}}var Ia=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(i,s){if(s){if(Ia[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Aa(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function Qs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,Tn=null,rr=null;function Xs(i){if(i=Qa(i)){if(typeof Ys!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Lu(s),Ys(i.stateNode,i.type,s))}}function ir(i){Tn?rr?rr.push(i):rr=[i]:Tn=i}function Ra(){if(Tn){var i=Tn,s=rr;if(rr=Tn=null,Xs(i),s)for(i=0;i<s.length;i++)Xs(s[i])}}function is(i,s){return i(s)}function Ca(){}var kr=!1;function ka(i,s,l){if(kr)return i(s,l);kr=!0;try{return is(i,s,l)}finally{kr=!1,(Tn!==null||rr!==null)&&(Ca(),Ra())}}function at(i,s){var l=i.stateNode;if(l===null)return null;var f=Lu(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Js=!1;if(h)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Js=!1}function ss(i,s,l,f,p,y,w,b,M){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(ne){this.onError(ne)}}var os=!1,Zs=null,Mn=!1,Pa=null,Jf={onError:function(i){os=!0,Zs=i}};function eo(i,s,l,f,p,y,w,b,M){os=!1,Zs=null,ss.apply(Jf,arguments)}function ou(i,s,l,f,p,y,w,b,M){if(eo.apply(this,arguments),os){if(os){var K=Zs;os=!1,Zs=null}else throw Error(t(198));Mn||(Mn=!0,Pa=K)}}function Fn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function as(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Un(i){if(Fn(i)!==i)throw Error(t(188))}function au(i){var s=i.alternate;if(!s){if(s=Fn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,f=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){l=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Un(p),i;if(y===f)return Un(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==f.return)l=p,f=y;else{for(var w=!1,b=p.child;b;){if(b===l){w=!0,l=p,f=y;break}if(b===f){w=!0,f=p,l=y;break}b=b.sibling}if(!w){for(b=y.child;b;){if(b===l){w=!0,l=y,f=p;break}if(b===f){w=!0,f=y,l=p;break}b=b.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function ba(i){return i=au(i),i!==null?to(i):null}function to(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=to(i);if(s!==null)return s;i=i.sibling}return null}var no=e.unstable_scheduleCallback,xa=e.unstable_cancelCallback,lu=e.unstable_shouldYield,Zf=e.unstable_requestPaint,Qe=e.unstable_now,uu=e.unstable_getCurrentPriorityLevel,ls=e.unstable_ImmediatePriority,oi=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Oa=e.unstable_LowPriority,cu=e.unstable_IdlePriority,us=null,hn=null;function fu(i){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(us,i,void 0,(i.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:du,Na=Math.log,hu=Math.LN2;function du(i){return i>>>=0,i===0?32:31-(Na(i)/hu|0)|0}var ro=64,io=4194304;function ai(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function cs(i,s){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,y=i.pingedLanes,w=l&268435455;if(w!==0){var b=w&~p;b!==0?f=ai(b):(y&=w,y!==0&&(f=ai(y)))}else w=l&~p,w!==0?f=ai(w):y!==0&&(f=ai(y));if(f===0)return 0;if(s!==0&&s!==f&&(s&p)===0&&(p=f&-f,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=f;0<s;)l=31-qt(s),p=1<<l,f|=i[l],s&=~p;return f}function eh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-qt(y),b=1<<w,M=p[w];M===-1?((b&l)===0||(b&f)!==0)&&(p[w]=eh(b,s)):M<=s&&(i.expiredLanes|=b),y&=~b}}function dn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function fs(){var i=ro;return ro<<=1,(ro&4194240)===0&&(ro=64),i}function li(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ui(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-qt(s),i[s]=l}function Ke(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-qt(l),y=1<<p;s[p]=0,f[p]=-1,i[p]=-1,l&=~y}}function ci(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-qt(l),p=1<<f;p&s|i[f]&s&&(i[f]|=s),l&=~p}}var Le=0;function fi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var pu,so,mu,gu,yu,Da=!1,sr=[],kt=null,$n=null,jn=null,hi=new Map,Sn=new Map,or=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(i,s){switch(i){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":hi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function Yt(i,s,l,f,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Qa(s),s!==null&&so(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function nh(i,s,l,f,p){switch(s){case"focusin":return kt=Yt(kt,i,s,l,f,p),!0;case"dragenter":return $n=Yt($n,i,s,l,f,p),!0;case"mouseover":return jn=Yt(jn,i,s,l,f,p),!0;case"pointerover":var y=p.pointerId;return hi.set(y,Yt(hi.get(y)||null,i,s,l,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Sn.set(y,Yt(Sn.get(y)||null,i,s,l,f,p)),!0}return!1}function vu(i){var s=gs(i.target);if(s!==null){var l=Fn(s);if(l!==null){if(s=l.tag,s===13){if(s=as(l),s!==null){i.blockedOn=s,yu(i.priority,function(){mu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function br(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=oo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);rs=f,l.target.dispatchEvent(f),rs=null}else return s=Qa(l),s!==null&&so(s),i.blockedOn=l,!1;s.shift()}return!0}function hs(i,s,l){br(i)&&l.delete(s)}function Eu(){Da=!1,kt!==null&&br(kt)&&(kt=null),$n!==null&&br($n)&&($n=null),jn!==null&&br(jn)&&(jn=null),hi.forEach(hs),Sn.forEach(hs)}function zn(i,s){i.blockedOn===s&&(i.blockedOn=null,Da||(Da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eu)))}function Bn(i){function s(p){return zn(p,i)}if(0<sr.length){zn(sr[0],i);for(var l=1;l<sr.length;l++){var f=sr[l];f.blockedOn===i&&(f.blockedOn=null)}}for(kt!==null&&zn(kt,i),$n!==null&&zn($n,i),jn!==null&&zn(jn,i),hi.forEach(s),Sn.forEach(s),l=0;l<or.length;l++)f=or[l],f.blockedOn===i&&(f.blockedOn=null);for(;0<or.length&&(l=or[0],l.blockedOn===null);)vu(l),l.blockedOn===null&&or.shift()}var xr=Y.ReactCurrentBatchConfig,di=!0;function et(i,s,l,f){var p=Le,y=xr.transition;xr.transition=null;try{Le=1,La(i,s,l,f)}finally{Le=p,xr.transition=y}}function rh(i,s,l,f){var p=Le,y=xr.transition;xr.transition=null;try{Le=4,La(i,s,l,f)}finally{Le=p,xr.transition=y}}function La(i,s,l,f){if(di){var p=oo(i,s,l,f);if(p===null)ph(i,s,f,ds,l),_u(i,f);else if(nh(p,i,s,l,f))f.stopPropagation();else if(_u(i,f),s&4&&-1<th.indexOf(i)){for(;p!==null;){var y=Qa(p);if(y!==null&&pu(y),y=oo(i,s,l,f),y===null&&ph(i,s,f,ds,l),y===p)break;p=y}p!==null&&f.stopPropagation()}else ph(i,s,f,null,l)}}var ds=null;function oo(i,s,l,f){if(ds=null,i=Qs(f),i=gs(i),i!==null)if(s=Fn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=as(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return ds=i,null}function Va(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uu()){case ls:return 1;case oi:return 4;case In:case Oa:return 16;case cu:return 536870912;default:return 16}default:return 16}}var pn=null,ao=null,Xt=null;function Ma(){if(Xt)return Xt;var i,s=ao,l=s.length,f,p="value"in pn?pn.value:pn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var w=l-i;for(f=1;f<=w&&s[l-f]===p[y-f];f++);return Xt=p.slice(i,1<f?1-f:void 0)}function lo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ar(){return!0}function Fa(){return!1}function Pt(i){function s(l,f,p,y,w){this._reactName=l,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(l=i[b],this[b]=l?l(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ar:Fa,this.isPropagationStopped=Fa,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),s}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Pt(qn),lr=se({},qn,{view:0,detail:0}),ih=Pt(lr),co,Or,pi,ps=se({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==pi&&(pi&&i.type==="mousemove"?(co=i.screenX-pi.screenX,Or=i.screenY-pi.screenY):Or=co=0,pi=i),co)},movementY:function(i){return"movementY"in i?i.movementY:Or}}),fo=Pt(ps),Ua=se({},ps,{dataTransfer:0}),wu=Pt(Ua),ho=se({},lr,{relatedTarget:0}),po=Pt(ho),Tu=se({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Pt(Tu),Iu=se({},qn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Su=Pt(Iu),Au=se({},qn,{data:0}),$a=Pt(Au),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ru[i])?!!s[i]:!1}function ur(){return Cu}var c=se({},lr,{key:function(i){if(i.key){var s=mo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ht[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(i){return i.type==="keypress"?lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Pt(c),v=se({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Pt(v),B=se({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),G=Pt(B),ce=se({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Pt(ce),yt=se({},ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Pt(yt),It=[9,13,27,32],ft=h&&"CompositionEvent"in window,An=null;h&&"documentMode"in document&&(An=document.documentMode);var mn=h&&"TextEvent"in window&&!An,ms=h&&(!ft||An&&8<An&&11>=An),go=" ",qm=!1;function Hm(i,s){switch(i){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yo=!1;function $T(i,s){switch(i){case"compositionend":return Wm(s);case"keypress":return s.which!==32?null:(qm=!0,go);case"textInput":return i=s.data,i===go&&qm?null:i;default:return null}}function jT(i,s){if(yo)return i==="compositionend"||!ft&&Hm(i,s)?(i=Ma(),Xt=ao=pn=null,yo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ms&&s.locale!=="ko"?null:s.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!zT[i.type]:s==="textarea"}function Gm(i,s,l,f){ir(f),s=Ou(s,"onChange"),0<s.length&&(l=new uo("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var ja=null,za=null;function BT(i){hg(i,0)}function ku(i){var s=To(i);if(qs(s))return i}function qT(i,s){if(i==="change")return s}var Qm=!1;if(h){var sh;if(h){var oh="oninput"in document;if(!oh){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),oh=typeof Ym.oninput=="function"}sh=oh}else sh=!1;Qm=sh&&(!document.documentMode||9<document.documentMode)}function Xm(){ja&&(ja.detachEvent("onpropertychange",Jm),za=ja=null)}function Jm(i){if(i.propertyName==="value"&&ku(za)){var s=[];Gm(s,za,i,Qs(i)),ka(BT,s)}}function HT(i,s,l){i==="focusin"?(Xm(),ja=s,za=l,ja.attachEvent("onpropertychange",Jm)):i==="focusout"&&Xm()}function WT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ku(za)}function KT(i,s){if(i==="click")return ku(s)}function GT(i,s){if(i==="input"||i==="change")return ku(s)}function QT(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Hn=typeof Object.is=="function"?Object.is:QT;function Ba(i,s){if(Hn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var p=l[f];if(!d.call(s,p)||!Hn(i[p],s[p]))return!1}return!0}function Zm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function eg(i,s){var l=Zm(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zm(l)}}function tg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?tg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ng(){for(var i=window,s=ii();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ii(i.document)}return s}function ah(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function YT(i){var s=ng(),l=i.focusedElem,f=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&tg(l.ownerDocument.documentElement,l)){if(f!==null&&ah(l)){if(s=f.start,i=f.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(f.start,p);f=f.end===void 0?y:Math.min(f.end,p),!i.extend&&y>f&&(p=f,f=y,y=p),p=eg(l,y);var w=eg(l,f);p&&w&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>f?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var XT=h&&"documentMode"in document&&11>=document.documentMode,_o=null,lh=null,qa=null,uh=!1;function rg(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uh||_o==null||_o!==ii(f)||(f=_o,"selectionStart"in f&&ah(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),qa&&Ba(qa,f)||(qa=f,f=Ou(lh,"onSelect"),0<f.length&&(s=new uo("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=_o)))}function Pu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var vo={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},ch={},ig={};h&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function bu(i){if(ch[i])return ch[i];if(!vo[i])return i;var s=vo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in ig)return ch[i]=s[l];return i}var sg=bu("animationend"),og=bu("animationiteration"),ag=bu("animationstart"),lg=bu("transitionend"),ug=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(i,s){ug.set(i,s),a(s,[i])}for(var fh=0;fh<cg.length;fh++){var hh=cg[fh],JT=hh.toLowerCase(),ZT=hh[0].toUpperCase()+hh.slice(1);mi(JT,"on"+ZT)}mi(sg,"onAnimationEnd"),mi(og,"onAnimationIteration"),mi(ag,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(lg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function fg(i,s,l){var f=i.type||"unknown-event";i.currentTarget=l,ou(f,s,void 0,i),i.currentTarget=null}function hg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],p=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var w=f.length-1;0<=w;w--){var b=f[w],M=b.instance,K=b.currentTarget;if(b=b.listener,M!==y&&p.isPropagationStopped())break e;fg(p,b,K),y=M}else for(w=0;w<f.length;w++){if(b=f[w],M=b.instance,K=b.currentTarget,b=b.listener,M!==y&&p.isPropagationStopped())break e;fg(p,b,K),y=M}}}if(Mn)throw i=Pa,Mn=!1,Pa=null,i}function Je(i,s){var l=s[Eh];l===void 0&&(l=s[Eh]=new Set);var f=i+"__bubble";l.has(f)||(dg(s,i,2,!1),l.add(f))}function dh(i,s,l){var f=0;s&&(f|=4),dg(l,i,f,s)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Wa(i){if(!i[xu]){i[xu]=!0,r.forEach(function(l){l!=="selectionchange"&&(eI.has(l)||dh(l,!1,i),dh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[xu]||(s[xu]=!0,dh("selectionchange",!1,s))}}function dg(i,s,l,f){switch(Va(s)){case 1:var p=et;break;case 4:p=rh;break;default:p=La}l=p.bind(null,s,l,i),p=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function ph(i,s,l,f,p){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var b=f.stateNode.containerInfo;if(b===p||b.nodeType===8&&b.parentNode===p)break;if(w===4)for(w=f.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;w=w.return}for(;b!==null;){if(w=gs(b),w===null)return;if(M=w.tag,M===5||M===6){f=y=w;continue e}b=b.parentNode}}f=f.return}ka(function(){var K=y,ne=Qs(l),ie=[];e:{var te=ug.get(i);if(te!==void 0){var de=uo,ye=i;switch(i){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":de=g;break;case"focusin":ye="focus",de=po;break;case"focusout":ye="blur",de=po;break;case"beforeblur":case"afterblur":de=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case sg:case og:case ag:de=Nr;break;case lg:de=He;break;case"scroll":de=ih;break;case"wheel":de=Me;break;case"copy":case"cut":case"paste":de=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=I}var _e=(s&4)!==0,lt=!_e&&i==="scroll",q=_e?te!==null?te+"Capture":null:te;_e=[];for(var $=K,H;$!==null;){H=$;var ue=H.stateNode;if(H.tag===5&&ue!==null&&(H=ue,q!==null&&(ue=at($,q),ue!=null&&_e.push(Ka($,ue,H)))),lt)break;$=$.return}0<_e.length&&(te=new de(te,ye,null,l,ne),ie.push({event:te,listeners:_e}))}}if((s&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",te&&l!==rs&&(ye=l.relatedTarget||l.fromElement)&&(gs(ye)||ye[Dr]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(ye=l.relatedTarget||l.toElement,de=K,ye=ye?gs(ye):null,ye!==null&&(lt=Fn(ye),ye!==lt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(de=null,ye=K),de!==ye)){if(_e=fo,ue="onMouseLeave",q="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(_e=I,ue="onPointerLeave",q="onPointerEnter",$="pointer"),lt=de==null?te:To(de),H=ye==null?te:To(ye),te=new _e(ue,$+"leave",de,l,ne),te.target=lt,te.relatedTarget=H,ue=null,gs(ne)===K&&(_e=new _e(q,$+"enter",ye,l,ne),_e.target=H,_e.relatedTarget=lt,ue=_e),lt=ue,de&&ye)t:{for(_e=de,q=ye,$=0,H=_e;H;H=Eo(H))$++;for(H=0,ue=q;ue;ue=Eo(ue))H++;for(;0<$-H;)_e=Eo(_e),$--;for(;0<H-$;)q=Eo(q),H--;for(;$--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=Eo(_e),q=Eo(q)}_e=null}else _e=null;de!==null&&pg(ie,te,de,_e,!1),ye!==null&&lt!==null&&pg(ie,lt,ye,_e,!0)}}e:{if(te=K?To(K):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var ve=qT;else if(Km(te))if(Qm)ve=GT;else{ve=WT;var Te=HT}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=KT);if(ve&&(ve=ve(i,K))){Gm(ie,ve,l,ne);break e}Te&&Te(i,te,K),i==="focusout"&&(Te=te._wrapperState)&&Te.controlled&&te.type==="number"&&Ws(te,"number",te.value)}switch(Te=K?To(K):window,i){case"focusin":(Km(Te)||Te.contentEditable==="true")&&(_o=Te,lh=K,qa=null);break;case"focusout":qa=lh=_o=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,rg(ie,l,ne);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":rg(ie,l,ne)}var Ie;if(ft)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else yo?Hm(i,l)&&(Re="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(ms&&l.locale!=="ko"&&(yo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&yo&&(Ie=Ma()):(pn=ne,ao="value"in pn?pn.value:pn.textContent,yo=!0)),Te=Ou(K,Re),0<Te.length&&(Re=new $a(Re,i,null,l,ne),ie.push({event:Re,listeners:Te}),Ie?Re.data=Ie:(Ie=Wm(l),Ie!==null&&(Re.data=Ie)))),(Ie=mn?$T(i,l):jT(i,l))&&(K=Ou(K,"onBeforeInput"),0<K.length&&(ne=new $a("onBeforeInput","beforeinput",null,l,ne),ie.push({event:ne,listeners:K}),ne.data=Ie))}hg(ie,s)})}function Ka(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ou(i,s){for(var l=s+"Capture",f=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=at(i,l),y!=null&&f.unshift(Ka(i,y,p)),y=at(i,s),y!=null&&f.push(Ka(i,y,p))),i=i.return}return f}function Eo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function pg(i,s,l,f,p){for(var y=s._reactName,w=[];l!==null&&l!==f;){var b=l,M=b.alternate,K=b.stateNode;if(M!==null&&M===f)break;b.tag===5&&K!==null&&(b=K,p?(M=at(l,y),M!=null&&w.unshift(Ka(l,M,b))):p||(M=at(l,y),M!=null&&w.push(Ka(l,M,b)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var tI=/\r\n?/g,nI=/\u0000|\uFFFD/g;function mg(i){return(typeof i=="string"?i:""+i).replace(tI,`
`).replace(nI,"")}function Nu(i,s,l){if(s=mg(s),mg(i)!==s&&l)throw Error(t(425))}function Du(){}var mh=null,gh=null;function yh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,rI=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,iI=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(i){return gg.resolve(null).then(i).catch(sI)}:_h;function sI(i){setTimeout(function(){throw i})}function vh(i,s){var l=s,f=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(f===0){i.removeChild(p),Bn(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=p}while(l);Bn(s)}function gi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function yg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var wo=Math.random().toString(36).slice(2),cr="__reactFiber$"+wo,Ga="__reactProps$"+wo,Dr="__reactContainer$"+wo,Eh="__reactEvents$"+wo,oI="__reactListeners$"+wo,aI="__reactHandles$"+wo;function gs(i){var s=i[cr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Dr]||l[cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=yg(i);i!==null;){if(l=i[cr])return l;i=yg(i)}return s}i=l,l=i.parentNode}return null}function Qa(i){return i=i[cr]||i[Dr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function To(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Lu(i){return i[Ga]||null}var wh=[],Io=-1;function yi(i){return{current:i}}function Ze(i){0>Io||(i.current=wh[Io],wh[Io]=null,Io--)}function Ye(i,s){Io++,wh[Io]=i.current,i.current=s}var _i={},Vt=yi(_i),Jt=yi(!1),ys=_i;function So(i,s){var l=i.type.contextTypes;if(!l)return _i;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function Zt(i){return i=i.childContextTypes,i!=null}function Vu(){Ze(Jt),Ze(Vt)}function _g(i,s,l){if(Vt.current!==_i)throw Error(t(168));Ye(Vt,s),Ye(Jt,l)}function vg(i,s,l){var f=i.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var p in f)if(!(p in s))throw Error(t(108,$e(i)||"Unknown",p));return se({},l,f)}function Mu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||_i,ys=Vt.current,Ye(Vt,i),Ye(Jt,Jt.current),!0}function Eg(i,s,l){var f=i.stateNode;if(!f)throw Error(t(169));l?(i=vg(i,s,ys),f.__reactInternalMemoizedMergedChildContext=i,Ze(Jt),Ze(Vt),Ye(Vt,i)):Ze(Jt),Ye(Jt,l)}var Lr=null,Fu=!1,Th=!1;function wg(i){Lr===null?Lr=[i]:Lr.push(i)}function lI(i){Fu=!0,wg(i)}function vi(){if(!Th&&Lr!==null){Th=!0;var i=0,s=Le;try{var l=Lr;for(Le=1;i<l.length;i++){var f=l[i];do f=f(!0);while(f!==null)}Lr=null,Fu=!1}catch(p){throw Lr!==null&&(Lr=Lr.slice(i+1)),no(ls,vi),p}finally{Le=s,Th=!1}}return null}var Ao=[],Ro=0,Uu=null,$u=0,Rn=[],Cn=0,_s=null,Vr=1,Mr="";function vs(i,s){Ao[Ro++]=$u,Ao[Ro++]=Uu,Uu=i,$u=s}function Tg(i,s,l){Rn[Cn++]=Vr,Rn[Cn++]=Mr,Rn[Cn++]=_s,_s=i;var f=Vr;i=Mr;var p=32-qt(f)-1;f&=~(1<<p),l+=1;var y=32-qt(s)+p;if(30<y){var w=p-p%5;y=(f&(1<<w)-1).toString(32),f>>=w,p-=w,Vr=1<<32-qt(s)+p|l<<p|f,Mr=y+i}else Vr=1<<y|l<<p|f,Mr=i}function Ih(i){i.return!==null&&(vs(i,1),Tg(i,1,0))}function Sh(i){for(;i===Uu;)Uu=Ao[--Ro],Ao[Ro]=null,$u=Ao[--Ro],Ao[Ro]=null;for(;i===_s;)_s=Rn[--Cn],Rn[Cn]=null,Mr=Rn[--Cn],Rn[Cn]=null,Vr=Rn[--Cn],Rn[Cn]=null}var gn=null,yn=null,tt=!1,Wn=null;function Ig(i,s){var l=xn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Sg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,gn=i,yn=gi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,gn=i,yn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=_s!==null?{id:Vr,overflow:Mr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=xn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,gn=i,yn=null,!0):!1;default:return!1}}function Ah(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rh(i){if(tt){var s=yn;if(s){var l=s;if(!Sg(i,s)){if(Ah(i))throw Error(t(418));s=gi(l.nextSibling);var f=gn;s&&Sg(i,s)?Ig(f,l):(i.flags=i.flags&-4097|2,tt=!1,gn=i)}}else{if(Ah(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,gn=i}}}function Ag(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function ju(i){if(i!==gn)return!1;if(!tt)return Ag(i),tt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!yh(i.type,i.memoizedProps)),s&&(s=yn)){if(Ah(i))throw Rg(),Error(t(418));for(;s;)Ig(i,s),s=gi(s.nextSibling)}if(Ag(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){yn=gi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}yn=null}}else yn=gn?gi(i.stateNode.nextSibling):null;return!0}function Rg(){for(var i=yn;i;)i=gi(i.nextSibling)}function Co(){yn=gn=null,tt=!1}function Ch(i){Wn===null?Wn=[i]:Wn.push(i)}var uI=Y.ReactCurrentBatchConfig;function Ya(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,i));var p=f,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var b=p.refs;w===null?delete b[y]:b[y]=w},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function zu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Cg(i){var s=i._init;return s(i._payload)}function kg(i){function s(q,$){if(i){var H=q.deletions;H===null?(q.deletions=[$],q.flags|=16):H.push($)}}function l(q,$){if(!i)return null;for(;$!==null;)s(q,$),$=$.sibling;return null}function f(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function p(q,$){return q=Ci(q,$),q.index=0,q.sibling=null,q}function y(q,$,H){return q.index=H,i?(H=q.alternate,H!==null?(H=H.index,H<$?(q.flags|=2,$):H):(q.flags|=2,$)):(q.flags|=1048576,$)}function w(q){return i&&q.alternate===null&&(q.flags|=2),q}function b(q,$,H,ue){return $===null||$.tag!==6?($=_d(H,q.mode,ue),$.return=q,$):($=p($,H),$.return=q,$)}function M(q,$,H,ue){var ve=H.type;return ve===O?ne(q,$,H.props.children,ue,H.key):$!==null&&($.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Se&&Cg(ve)===$.type)?(ue=p($,H.props),ue.ref=Ya(q,$,H),ue.return=q,ue):(ue=hc(H.type,H.key,H.props,null,q.mode,ue),ue.ref=Ya(q,$,H),ue.return=q,ue)}function K(q,$,H,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==H.containerInfo||$.stateNode.implementation!==H.implementation?($=vd(H,q.mode,ue),$.return=q,$):($=p($,H.children||[]),$.return=q,$)}function ne(q,$,H,ue,ve){return $===null||$.tag!==7?($=Cs(H,q.mode,ue,ve),$.return=q,$):($=p($,H),$.return=q,$)}function ie(q,$,H){if(typeof $=="string"&&$!==""||typeof $=="number")return $=_d(""+$,q.mode,H),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case le:return H=hc($.type,$.key,$.props,null,q.mode,H),H.ref=Ya(q,null,$),H.return=q,H;case oe:return $=vd($,q.mode,H),$.return=q,$;case Se:var ue=$._init;return ie(q,ue($._payload),H)}if(Ar($)||fe($))return $=Cs($,q.mode,H,null),$.return=q,$;zu(q,$)}return null}function te(q,$,H,ue){var ve=$!==null?$.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ve!==null?null:b(q,$,""+H,ue);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case le:return H.key===ve?M(q,$,H,ue):null;case oe:return H.key===ve?K(q,$,H,ue):null;case Se:return ve=H._init,te(q,$,ve(H._payload),ue)}if(Ar(H)||fe(H))return ve!==null?null:ne(q,$,H,ue,null);zu(q,H)}return null}function de(q,$,H,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(H)||null,b($,q,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case le:return q=q.get(ue.key===null?H:ue.key)||null,M($,q,ue,ve);case oe:return q=q.get(ue.key===null?H:ue.key)||null,K($,q,ue,ve);case Se:var Te=ue._init;return de(q,$,H,Te(ue._payload),ve)}if(Ar(ue)||fe(ue))return q=q.get(H)||null,ne($,q,ue,ve,null);zu($,ue)}return null}function ye(q,$,H,ue){for(var ve=null,Te=null,Ie=$,Re=$=0,Rt=null;Ie!==null&&Re<H.length;Re++){Ie.index>Re?(Rt=Ie,Ie=null):Rt=Ie.sibling;var ze=te(q,Ie,H[Re],ue);if(ze===null){Ie===null&&(Ie=Rt);break}i&&Ie&&ze.alternate===null&&s(q,Ie),$=y(ze,$,Re),Te===null?ve=ze:Te.sibling=ze,Te=ze,Ie=Rt}if(Re===H.length)return l(q,Ie),tt&&vs(q,Re),ve;if(Ie===null){for(;Re<H.length;Re++)Ie=ie(q,H[Re],ue),Ie!==null&&($=y(Ie,$,Re),Te===null?ve=Ie:Te.sibling=Ie,Te=Ie);return tt&&vs(q,Re),ve}for(Ie=f(q,Ie);Re<H.length;Re++)Rt=de(Ie,q,Re,H[Re],ue),Rt!==null&&(i&&Rt.alternate!==null&&Ie.delete(Rt.key===null?Re:Rt.key),$=y(Rt,$,Re),Te===null?ve=Rt:Te.sibling=Rt,Te=Rt);return i&&Ie.forEach(function(ki){return s(q,ki)}),tt&&vs(q,Re),ve}function _e(q,$,H,ue){var ve=fe(H);if(typeof ve!="function")throw Error(t(150));if(H=ve.call(H),H==null)throw Error(t(151));for(var Te=ve=null,Ie=$,Re=$=0,Rt=null,ze=H.next();Ie!==null&&!ze.done;Re++,ze=H.next()){Ie.index>Re?(Rt=Ie,Ie=null):Rt=Ie.sibling;var ki=te(q,Ie,ze.value,ue);if(ki===null){Ie===null&&(Ie=Rt);break}i&&Ie&&ki.alternate===null&&s(q,Ie),$=y(ki,$,Re),Te===null?ve=ki:Te.sibling=ki,Te=ki,Ie=Rt}if(ze.done)return l(q,Ie),tt&&vs(q,Re),ve;if(Ie===null){for(;!ze.done;Re++,ze=H.next())ze=ie(q,ze.value,ue),ze!==null&&($=y(ze,$,Re),Te===null?ve=ze:Te.sibling=ze,Te=ze);return tt&&vs(q,Re),ve}for(Ie=f(q,Ie);!ze.done;Re++,ze=H.next())ze=de(Ie,q,Re,ze.value,ue),ze!==null&&(i&&ze.alternate!==null&&Ie.delete(ze.key===null?Re:ze.key),$=y(ze,$,Re),Te===null?ve=ze:Te.sibling=ze,Te=ze);return i&&Ie.forEach(function(zI){return s(q,zI)}),tt&&vs(q,Re),ve}function lt(q,$,H,ue){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case le:e:{for(var ve=H.key,Te=$;Te!==null;){if(Te.key===ve){if(ve=H.type,ve===O){if(Te.tag===7){l(q,Te.sibling),$=p(Te,H.props.children),$.return=q,q=$;break e}}else if(Te.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Se&&Cg(ve)===Te.type){l(q,Te.sibling),$=p(Te,H.props),$.ref=Ya(q,Te,H),$.return=q,q=$;break e}l(q,Te);break}else s(q,Te);Te=Te.sibling}H.type===O?($=Cs(H.props.children,q.mode,ue,H.key),$.return=q,q=$):(ue=hc(H.type,H.key,H.props,null,q.mode,ue),ue.ref=Ya(q,$,H),ue.return=q,q=ue)}return w(q);case oe:e:{for(Te=H.key;$!==null;){if($.key===Te)if($.tag===4&&$.stateNode.containerInfo===H.containerInfo&&$.stateNode.implementation===H.implementation){l(q,$.sibling),$=p($,H.children||[]),$.return=q,q=$;break e}else{l(q,$);break}else s(q,$);$=$.sibling}$=vd(H,q.mode,ue),$.return=q,q=$}return w(q);case Se:return Te=H._init,lt(q,$,Te(H._payload),ue)}if(Ar(H))return ye(q,$,H,ue);if(fe(H))return _e(q,$,H,ue);zu(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,$!==null&&$.tag===6?(l(q,$.sibling),$=p($,H),$.return=q,q=$):(l(q,$),$=_d(H,q.mode,ue),$.return=q,q=$),w(q)):l(q,$)}return lt}var ko=kg(!0),Pg=kg(!1),Bu=yi(null),qu=null,Po=null,kh=null;function Ph(){kh=Po=qu=null}function bh(i){var s=Bu.current;Ze(Bu),i._currentValue=s}function xh(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function bo(i,s){qu=i,kh=Po=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(en=!0),i.firstContext=null)}function kn(i){var s=i._currentValue;if(kh!==i)if(i={context:i,memoizedValue:s,next:null},Po===null){if(qu===null)throw Error(t(308));Po=i,qu.dependencies={lanes:0,firstContext:i}}else Po=Po.next=i;return s}var Es=null;function Oh(i){Es===null?Es=[i]:Es.push(i)}function bg(i,s,l,f){var p=s.interleaved;return p===null?(l.next=l,Oh(s)):(l.next=p.next,p.next=l),s.interleaved=l,Fr(i,f)}function Fr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ei=!1;function Nh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ur(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function wi(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(je&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,Fr(i,l)}return p=f.interleaved,p===null?(s.next=s,Oh(f)):(s.next=p.next,p.next=s),f.interleaved=s,Fr(i,l)}function Hu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,ci(i,l)}}function Og(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,effects:f.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Wu(i,s,l,f){var p=i.updateQueue;Ei=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var M=b,K=M.next;M.next=null,w===null?y=K:w.next=K,w=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==w&&(b===null?ne.firstBaseUpdate=K:b.next=K,ne.lastBaseUpdate=M))}if(y!==null){var ie=p.baseState;w=0,ne=K=M=null,b=y;do{var te=b.lane,de=b.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ye=i,_e=b;switch(te=s,de=l,_e.tag){case 1:if(ye=_e.payload,typeof ye=="function"){ie=ye.call(de,ie,te);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=_e.payload,te=typeof ye=="function"?ye.call(de,ie,te):ye,te==null)break e;ie=se({},ie,te);break e;case 2:Ei=!0}}b.callback!==null&&b.lane!==0&&(i.flags|=64,te=p.effects,te===null?p.effects=[b]:te.push(b))}else de={eventTime:de,lane:te,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(K=ne=de,M=ie):ne=ne.next=de,w|=te;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;te=b,b=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);if(ne===null&&(M=ie),p.baseState=M,p.firstBaseUpdate=K,p.lastBaseUpdate=ne,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Is|=w,i.lanes=w,i.memoizedState=ie}}function Ng(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var f=i[s],p=f.callback;if(p!==null){if(f.callback=null,f=l,typeof p!="function")throw Error(t(191,p));p.call(f)}}}var Xa={},fr=yi(Xa),Ja=yi(Xa),Za=yi(Xa);function ws(i){if(i===Xa)throw Error(t(174));return i}function Dh(i,s){switch(Ye(Za,s),Ye(Ja,i),Ye(fr,Xa),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=gt(s,i)}Ze(fr),Ye(fr,s)}function xo(){Ze(fr),Ze(Ja),Ze(Za)}function Dg(i){ws(Za.current);var s=ws(fr.current),l=gt(s,i.type);s!==l&&(Ye(Ja,i),Ye(fr,l))}function Lh(i){Ja.current===i&&(Ze(fr),Ze(Ja))}var rt=yi(0);function Ku(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vh=[];function Mh(){for(var i=0;i<Vh.length;i++)Vh[i]._workInProgressVersionPrimary=null;Vh.length=0}var Gu=Y.ReactCurrentDispatcher,Fh=Y.ReactCurrentBatchConfig,Ts=0,it=null,_t=null,St=null,Qu=!1,el=!1,tl=0,cI=0;function Mt(){throw Error(t(321))}function Uh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Hn(i[l],s[l]))return!1;return!0}function $h(i,s,l,f,p,y){if(Ts=y,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gu.current=i===null||i.memoizedState===null?pI:mI,i=l(f,p),el){y=0;do{if(el=!1,tl=0,25<=y)throw Error(t(301));y+=1,St=_t=null,s.updateQueue=null,Gu.current=gI,i=l(f,p)}while(el)}if(Gu.current=Ju,s=_t!==null&&_t.next!==null,Ts=0,St=_t=it=null,Qu=!1,s)throw Error(t(300));return i}function jh(){var i=tl!==0;return tl=0,i}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?it.memoizedState=St=i:St=St.next=i,St}function Pn(){if(_t===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var s=St===null?it.memoizedState:St.next;if(s!==null)St=s,_t=i;else{if(i===null)throw Error(t(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?it.memoizedState=St=i:St=St.next=i}return St}function nl(i,s){return typeof s=="function"?s(i):s}function zh(i){var s=Pn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=_t,p=f.baseQueue,y=l.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}f.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,f=f.baseState;var b=w=null,M=null,K=y;do{var ne=K.lane;if((Ts&ne)===ne)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:i(f,K.action);else{var ie={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(b=M=ie,w=f):M=M.next=ie,it.lanes|=ne,Is|=ne}K=K.next}while(K!==null&&K!==y);M===null?w=f:M.next=b,Hn(f,s.memoizedState)||(en=!0),s.memoizedState=f,s.baseState=w,s.baseQueue=M,l.lastRenderedState=f}if(i=l.interleaved,i!==null){p=i;do y=p.lane,it.lanes|=y,Is|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Bh(i){var s=Pn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Hn(y,s.memoizedState)||(en=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,f]}function Lg(){}function Vg(i,s){var l=it,f=Pn(),p=s(),y=!Hn(f.memoizedState,p);if(y&&(f.memoizedState=p,en=!0),f=f.queue,qh(Ug.bind(null,l,f,i),[i]),f.getSnapshot!==s||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,rl(9,Fg.bind(null,l,f,p,s),void 0,null),At===null)throw Error(t(349));(Ts&30)!==0||Mg(l,s,p)}return p}function Mg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Fg(i,s,l,f){s.value=l,s.getSnapshot=f,$g(s)&&jg(i)}function Ug(i,s,l){return l(function(){$g(s)&&jg(i)})}function $g(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Hn(i,l)}catch{return!0}}function jg(i){var s=Fr(i,1);s!==null&&Yn(s,i,1,-1)}function zg(i){var s=hr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:i},s.queue=i,i=i.dispatch=dI.bind(null,it,i),[s.memoizedState,i]}function rl(i,s,l,f){return i={tag:i,create:s,destroy:l,deps:f,next:null},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i)),i}function Bg(){return Pn().memoizedState}function Yu(i,s,l,f){var p=hr();it.flags|=i,p.memoizedState=rl(1|s,l,void 0,f===void 0?null:f)}function Xu(i,s,l,f){var p=Pn();f=f===void 0?null:f;var y=void 0;if(_t!==null){var w=_t.memoizedState;if(y=w.destroy,f!==null&&Uh(f,w.deps)){p.memoizedState=rl(s,l,y,f);return}}it.flags|=i,p.memoizedState=rl(1|s,l,y,f)}function qg(i,s){return Yu(8390656,8,i,s)}function qh(i,s){return Xu(2048,8,i,s)}function Hg(i,s){return Xu(4,2,i,s)}function Wg(i,s){return Xu(4,4,i,s)}function Kg(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Gg(i,s,l){return l=l!=null?l.concat([i]):null,Xu(4,4,Kg.bind(null,s,i),l)}function Hh(){}function Qg(i,s){var l=Pn();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Uh(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function Yg(i,s){var l=Pn();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Uh(s,f[1])?f[0]:(i=i(),l.memoizedState=[i,s],i)}function Xg(i,s,l){return(Ts&21)===0?(i.baseState&&(i.baseState=!1,en=!0),i.memoizedState=l):(Hn(l,s)||(l=fs(),it.lanes|=l,Is|=l,i.baseState=!0),s)}function fI(i,s){var l=Le;Le=l!==0&&4>l?l:4,i(!0);var f=Fh.transition;Fh.transition={};try{i(!1),s()}finally{Le=l,Fh.transition=f}}function Jg(){return Pn().memoizedState}function hI(i,s,l){var f=Ai(i);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Zg(i))ey(s,l);else if(l=bg(i,s,l,f),l!==null){var p=Kt();Yn(l,i,f,p),ty(l,s,f)}}function dI(i,s,l){var f=Ai(i),p={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zg(i))ey(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,b=y(w,l);if(p.hasEagerState=!0,p.eagerState=b,Hn(b,w)){var M=s.interleaved;M===null?(p.next=p,Oh(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}l=bg(i,s,p,f),l!==null&&(p=Kt(),Yn(l,i,f,p),ty(l,s,f))}}function Zg(i){var s=i.alternate;return i===it||s!==null&&s===it}function ey(i,s){el=Qu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function ty(i,s,l){if((l&4194240)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,ci(i,l)}}var Ju={readContext:kn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},pI={readContext:kn,useCallback:function(i,s){return hr().memoizedState=[i,s===void 0?null:s],i},useContext:kn,useEffect:qg,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Yu(4194308,4,Kg.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Yu(4194308,4,i,s)},useInsertionEffect:function(i,s){return Yu(4,2,i,s)},useMemo:function(i,s){var l=hr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var f=hr();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},f.queue=i,i=i.dispatch=hI.bind(null,it,i),[f.memoizedState,i]},useRef:function(i){var s=hr();return i={current:i},s.memoizedState=i},useState:zg,useDebugValue:Hh,useDeferredValue:function(i){return hr().memoizedState=i},useTransition:function(){var i=zg(!1),s=i[0];return i=fI.bind(null,i[1]),hr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var f=it,p=hr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),At===null)throw Error(t(349));(Ts&30)!==0||Mg(f,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,qg(Ug.bind(null,f,y,i),[i]),f.flags|=2048,rl(9,Fg.bind(null,f,y,l,s),void 0,null),l},useId:function(){var i=hr(),s=At.identifierPrefix;if(tt){var l=Mr,f=Vr;l=(f&~(1<<32-qt(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=tl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=cI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},mI={readContext:kn,useCallback:Qg,useContext:kn,useEffect:qh,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Wg,useMemo:Yg,useReducer:zh,useRef:Bg,useState:function(){return zh(nl)},useDebugValue:Hh,useDeferredValue:function(i){var s=Pn();return Xg(s,_t.memoizedState,i)},useTransition:function(){var i=zh(nl)[0],s=Pn().memoizedState;return[i,s]},useMutableSource:Lg,useSyncExternalStore:Vg,useId:Jg,unstable_isNewReconciler:!1},gI={readContext:kn,useCallback:Qg,useContext:kn,useEffect:qh,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Wg,useMemo:Yg,useReducer:Bh,useRef:Bg,useState:function(){return Bh(nl)},useDebugValue:Hh,useDeferredValue:function(i){var s=Pn();return _t===null?s.memoizedState=i:Xg(s,_t.memoizedState,i)},useTransition:function(){var i=Bh(nl)[0],s=Pn().memoizedState;return[i,s]},useMutableSource:Lg,useSyncExternalStore:Vg,useId:Jg,unstable_isNewReconciler:!1};function Kn(i,s){if(i&&i.defaultProps){s=se({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Wh(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:se({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Zu={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var f=Kt(),p=Ai(i),y=Ur(f,p);y.payload=s,l!=null&&(y.callback=l),s=wi(i,y,p),s!==null&&(Yn(s,i,p,f),Hu(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=Kt(),p=Ai(i),y=Ur(f,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=wi(i,y,p),s!==null&&(Yn(s,i,p,f),Hu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Kt(),f=Ai(i),p=Ur(l,f);p.tag=2,s!=null&&(p.callback=s),s=wi(i,p,f),s!==null&&(Yn(s,i,f,l),Hu(s,i,f))}};function ny(i,s,l,f,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,w):s.prototype&&s.prototype.isPureReactComponent?!Ba(l,f)||!Ba(p,y):!0}function ry(i,s,l){var f=!1,p=_i,y=s.contextType;return typeof y=="object"&&y!==null?y=kn(y):(p=Zt(s)?ys:Vt.current,f=s.contextTypes,y=(f=f!=null)?So(i,p):_i),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zu,i.stateNode=s,s._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function iy(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&Zu.enqueueReplaceState(s,s.state,null)}function Kh(i,s,l,f){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Nh(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=kn(y):(y=Zt(s)?ys:Vt.current,p.context=So(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Wh(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Zu.enqueueReplaceState(p,p.state,null),Wu(i,l,p,f),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Oo(i,s){try{var l="",f=s;do l+=be(f),f=f.return;while(f);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Gh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Qh(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var yI=typeof WeakMap=="function"?WeakMap:Map;function sy(i,s,l){l=Ur(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){oc||(oc=!0,cd=f),Qh(i,s)},l}function oy(i,s,l){l=Ur(-1,l),l.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;l.payload=function(){return f(p)},l.callback=function(){Qh(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Qh(i,s),typeof f!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function ay(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new yI;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(l)||(p.add(l),i=xI.bind(null,i,s,l),s.then(i,i))}function ly(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function uy(i,s,l,f,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ur(-1,1),s.tag=2,wi(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var _I=Y.ReactCurrentOwner,en=!1;function Wt(i,s,l,f){s.child=i===null?Pg(s,null,l,f):ko(s,i.child,l,f)}function cy(i,s,l,f,p){l=l.render;var y=s.ref;return bo(s,p),f=$h(i,s,l,f,y,p),l=jh(),i!==null&&!en?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,$r(i,s,p)):(tt&&l&&Ih(s),s.flags|=1,Wt(i,s,f,p),s.child)}function fy(i,s,l,f,p){if(i===null){var y=l.type;return typeof y=="function"&&!yd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,hy(i,s,y,f,p)):(i=hc(l.type,null,f,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(w,f)&&i.ref===s.ref)return $r(i,s,p)}return s.flags|=1,i=Ci(y,f),i.ref=s.ref,i.return=s,s.child=i}function hy(i,s,l,f,p){if(i!==null){var y=i.memoizedProps;if(Ba(y,f)&&i.ref===s.ref)if(en=!1,s.pendingProps=f=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(en=!0);else return s.lanes=i.lanes,$r(i,s,p)}return Yh(i,s,l,f,p)}function dy(i,s,l){var f=s.pendingProps,p=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Do,_n),_n|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ye(Do,_n),_n|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:l,Ye(Do,_n),_n|=f}else y!==null?(f=y.baseLanes|l,s.memoizedState=null):f=l,Ye(Do,_n),_n|=f;return Wt(i,s,p,l),s.child}function py(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Yh(i,s,l,f,p){var y=Zt(l)?ys:Vt.current;return y=So(s,y),bo(s,p),l=$h(i,s,l,f,y,p),f=jh(),i!==null&&!en?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,$r(i,s,p)):(tt&&f&&Ih(s),s.flags|=1,Wt(i,s,l,p),s.child)}function my(i,s,l,f,p){if(Zt(l)){var y=!0;Mu(s)}else y=!1;if(bo(s,p),s.stateNode===null)tc(i,s),ry(s,l,f),Kh(s,l,f,p),f=!0;else if(i===null){var w=s.stateNode,b=s.memoizedProps;w.props=b;var M=w.context,K=l.contextType;typeof K=="object"&&K!==null?K=kn(K):(K=Zt(l)?ys:Vt.current,K=So(s,K));var ne=l.getDerivedStateFromProps,ie=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==f||M!==K)&&iy(s,w,f,K),Ei=!1;var te=s.memoizedState;w.state=te,Wu(s,f,w,p),M=s.memoizedState,b!==f||te!==M||Jt.current||Ei?(typeof ne=="function"&&(Wh(s,l,ne,f),M=s.memoizedState),(b=Ei||ny(s,l,b,f,te,M,K))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=M),w.props=f,w.state=M,w.context=K,f=b):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{w=s.stateNode,xg(i,s),b=s.memoizedProps,K=s.type===s.elementType?b:Kn(s.type,b),w.props=K,ie=s.pendingProps,te=w.context,M=l.contextType,typeof M=="object"&&M!==null?M=kn(M):(M=Zt(l)?ys:Vt.current,M=So(s,M));var de=l.getDerivedStateFromProps;(ne=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==ie||te!==M)&&iy(s,w,f,M),Ei=!1,te=s.memoizedState,w.state=te,Wu(s,f,w,p);var ye=s.memoizedState;b!==ie||te!==ye||Jt.current||Ei?(typeof de=="function"&&(Wh(s,l,de,f),ye=s.memoizedState),(K=Ei||ny(s,l,K,f,te,ye,M)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,ye,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,ye,M)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ye),w.props=f,w.state=ye,w.context=M,f=K):(typeof w.componentDidUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),f=!1)}return Xh(i,s,l,f,y,p)}function Xh(i,s,l,f,p,y){py(i,s);var w=(s.flags&128)!==0;if(!f&&!w)return p&&Eg(s,l,!1),$r(i,s,y);f=s.stateNode,_I.current=s;var b=w&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,i!==null&&w?(s.child=ko(s,i.child,null,y),s.child=ko(s,null,b,y)):Wt(i,s,b,y),s.memoizedState=f.state,p&&Eg(s,l,!0),s.child}function gy(i){var s=i.stateNode;s.pendingContext?_g(i,s.pendingContext,s.pendingContext!==s.context):s.context&&_g(i,s.context,!1),Dh(i,s.containerInfo)}function yy(i,s,l,f,p){return Co(),Ch(p),s.flags|=256,Wt(i,s,l,f),s.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Zh(i){return{baseLanes:i,cachePool:null,transitions:null}}function _y(i,s,l){var f=s.pendingProps,p=rt.current,y=!1,w=(s.flags&128)!==0,b;if((b=w)||(b=i!==null&&i.memoizedState===null?!1:(p&2)!==0),b?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ye(rt,p&1),i===null)return Rh(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=f.children,i=f.fallback,y?(f=s.mode,y=s.child,w={mode:"hidden",children:w},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=dc(w,f,0,null),i=Cs(i,f,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=Zh(l),s.memoizedState=Jh,i):ed(s,w));if(p=i.memoizedState,p!==null&&(b=p.dehydrated,b!==null))return vI(i,s,w,f,b,p,l);if(y){y=f.fallback,w=s.mode,p=i.child,b=p.sibling;var M={mode:"hidden",children:f.children};return(w&1)===0&&s.child!==p?(f=s.child,f.childLanes=0,f.pendingProps=M,s.deletions=null):(f=Ci(p,M),f.subtreeFlags=p.subtreeFlags&14680064),b!==null?y=Ci(b,y):(y=Cs(y,w,l,null),y.flags|=2),y.return=s,f.return=s,f.sibling=y,s.child=f,f=y,y=s.child,w=i.child.memoizedState,w=w===null?Zh(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~l,s.memoizedState=Jh,f}return y=i.child,i=y.sibling,f=Ci(y,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=f,s.memoizedState=null,f}function ed(i,s){return s=dc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ec(i,s,l,f){return f!==null&&Ch(f),ko(s,i.child,null,l),i=ed(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function vI(i,s,l,f,p,y,w){if(l)return s.flags&256?(s.flags&=-257,f=Gh(Error(t(422))),ec(i,s,w,f)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=f.fallback,p=s.mode,f=dc({mode:"visible",children:f.children},p,0,null),y=Cs(y,p,w,null),y.flags|=2,f.return=s,y.return=s,f.sibling=y,s.child=f,(s.mode&1)!==0&&ko(s,i.child,null,w),s.child.memoizedState=Zh(w),s.memoizedState=Jh,y);if((s.mode&1)===0)return ec(i,s,w,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var b=f.dgst;return f=b,y=Error(t(419)),f=Gh(y,f,void 0),ec(i,s,w,f)}if(b=(w&i.childLanes)!==0,en||b){if(f=At,f!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(f.suspendedLanes|w))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Fr(i,p),Yn(f,i,p,-1))}return gd(),f=Gh(Error(t(421))),ec(i,s,w,f)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=OI.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,yn=gi(p.nextSibling),gn=s,tt=!0,Wn=null,i!==null&&(Rn[Cn++]=Vr,Rn[Cn++]=Mr,Rn[Cn++]=_s,Vr=i.id,Mr=i.overflow,_s=s),s=ed(s,f.children),s.flags|=4096,s)}function vy(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),xh(i.return,s,l)}function td(i,s,l,f,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=p)}function Ey(i,s,l){var f=s.pendingProps,p=f.revealOrder,y=f.tail;if(Wt(i,s,f.children,l),f=rt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vy(i,l,s);else if(i.tag===19)vy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ye(rt,f),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Ku(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),td(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ku(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}td(s,!0,l,null,y);break;case"together":td(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function $r(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Is|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ci(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ci(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function EI(i,s,l){switch(s.tag){case 3:gy(s),Co();break;case 5:Dg(s);break;case 1:Zt(s.type)&&Mu(s);break;case 4:Dh(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,p=s.memoizedProps.value;Ye(Bu,f._currentValue),f._currentValue=p;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ye(rt,rt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?_y(i,s,l):(Ye(rt,rt.current&1),i=$r(i,s,l),i!==null?i.sibling:null);Ye(rt,rt.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(i.flags&128)!==0){if(f)return Ey(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(rt,rt.current),f)break;return null;case 22:case 23:return s.lanes=0,dy(i,s,l)}return $r(i,s,l)}var wy,nd,Ty,Iy;wy=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},nd=function(){},Ty=function(i,s,l,f){var p=i.memoizedProps;if(p!==f){i=s.stateNode,ws(fr.current);var y=null;switch(l){case"input":p=es(i,p),f=es(i,f),y=[];break;case"select":p=se({},p,{value:void 0}),f=se({},f,{value:void 0}),y=[];break;case"textarea":p=_a(i,p),f=_a(i,f),y=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Du)}Sa(l,f);var w;l=null;for(K in p)if(!f.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var b=p[K];for(w in b)b.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in f){var M=f[K];if(b=p!=null?p[K]:void 0,f.hasOwnProperty(K)&&M!==b&&(M!=null||b!=null))if(K==="style")if(b){for(w in b)!b.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in M)M.hasOwnProperty(w)&&b[w]!==M[w]&&(l||(l={}),l[w]=M[w])}else l||(y||(y=[]),y.push(K,l)),l=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,b=b?b.__html:void 0,M!=null&&b!==M&&(y=y||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&Je("scroll",i),y||b===M||(y=[])):(y=y||[]).push(K,M))}l&&(y=y||[]).push("style",l);var K=y;(s.updateQueue=K)&&(s.flags|=4)}},Iy=function(i,s,l,f){l!==f&&(s.flags|=4)};function il(i,s){if(!tt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ft(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function wI(i,s,l){var f=s.pendingProps;switch(Sh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Zt(s.type)&&Vu(),Ft(s),null;case 3:return f=s.stateNode,xo(),Ze(Jt),Ze(Vt),Mh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(ju(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wn!==null&&(dd(Wn),Wn=null))),nd(i,s),Ft(s),null;case 5:Lh(s);var p=ws(Za.current);if(l=s.type,i!==null&&s.stateNode!=null)Ty(i,s,l,f,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(i=ws(fr.current),ju(s)){f=s.stateNode,l=s.type;var y=s.memoizedProps;switch(f[cr]=s,f[Ga]=y,i=(s.mode&1)!==0,l){case"dialog":Je("cancel",f),Je("close",f);break;case"iframe":case"object":case"embed":Je("load",f);break;case"video":case"audio":for(p=0;p<Ha.length;p++)Je(Ha[p],f);break;case"source":Je("error",f);break;case"img":case"image":case"link":Je("error",f),Je("load",f);break;case"details":Je("toggle",f);break;case"input":Hs(f,y),Je("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Je("invalid",f);break;case"textarea":Ks(f,y),Je("invalid",f)}Sa(l,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var b=y[w];w==="children"?typeof b=="string"?f.textContent!==b&&(y.suppressHydrationWarning!==!0&&Nu(f.textContent,b,i),p=["children",b]):typeof b=="number"&&f.textContent!==""+b&&(y.suppressHydrationWarning!==!0&&Nu(f.textContent,b,i),p=["children",""+b]):o.hasOwnProperty(w)&&b!=null&&w==="onScroll"&&Je("scroll",f)}switch(l){case"input":Sr(f),su(f,y,!0);break;case"textarea":Sr(f),va(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Du)}f=p,s.updateQueue=f,f!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=mt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=w.createElement(l,{is:f.is}):(i=w.createElement(l),l==="select"&&(w=i,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):i=w.createElementNS(i,l),i[cr]=s,i[Ga]=f,wy(i,s,!1,!1),s.stateNode=i;e:{switch(w=Aa(l,f),l){case"dialog":Je("cancel",i),Je("close",i),p=f;break;case"iframe":case"object":case"embed":Je("load",i),p=f;break;case"video":case"audio":for(p=0;p<Ha.length;p++)Je(Ha[p],i);p=f;break;case"source":Je("error",i),p=f;break;case"img":case"image":case"link":Je("error",i),Je("load",i),p=f;break;case"details":Je("toggle",i),p=f;break;case"input":Hs(i,f),p=es(i,f),Je("invalid",i);break;case"option":p=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},p=se({},f,{value:void 0}),Je("invalid",i);break;case"textarea":Ks(i,f),p=_a(i,f),Je("invalid",i);break;default:p=f}Sa(l,p),b=p;for(y in b)if(b.hasOwnProperty(y)){var M=b[y];y==="style"?Ta(i,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ea(i,M)):y==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&si(i,M):typeof M=="number"&&si(i,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&Je("scroll",i):M!=null&&j(i,y,M,w))}switch(l){case"input":Sr(i),su(i,f,!1);break;case"textarea":Sr(i),va(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Be(f.value));break;case"select":i.multiple=!!f.multiple,y=f.value,y!=null?Rr(i,!!f.multiple,y,!1):f.defaultValue!=null&&Rr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Du)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(i&&s.stateNode!=null)Iy(i,s,i.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(t(166));if(l=ws(Za.current),ws(fr.current),ju(s)){if(f=s.stateNode,l=s.memoizedProps,f[cr]=s,(y=f.nodeValue!==l)&&(i=gn,i!==null))switch(i.tag){case 3:Nu(f.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Nu(f.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[cr]=s,s.stateNode=f}return Ft(s),null;case 13:if(Ze(rt),f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&yn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Rg(),Co(),s.flags|=98560,y=!1;else if(y=ju(s),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[cr]=s}else Co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),y=!1}else Wn!==null&&(dd(Wn),Wn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(rt.current&1)!==0?vt===0&&(vt=3):gd())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return xo(),nd(i,s),i===null&&Wa(s.stateNode.containerInfo),Ft(s),null;case 10:return bh(s.type._context),Ft(s),null;case 17:return Zt(s.type)&&Vu(),Ft(s),null;case 19:if(Ze(rt),y=s.memoizedState,y===null)return Ft(s),null;if(f=(s.flags&128)!==0,w=y.rendering,w===null)if(f)il(y,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(w=Ku(i),w!==null){for(s.flags|=128,il(y,!1),f=w.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)y=l,i=f,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ye(rt,rt.current&1|2),s.child}i=i.sibling}y.tail!==null&&Qe()>Lo&&(s.flags|=128,f=!0,il(y,!1),s.lanes=4194304)}else{if(!f)if(i=Ku(w),i!==null){if(s.flags|=128,f=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),il(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!tt)return Ft(s),null}else 2*Qe()-y.renderingStartTime>Lo&&l!==1073741824&&(s.flags|=128,f=!0,il(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Qe(),s.sibling=null,l=rt.current,Ye(rt,f?l&1|2:l&1),s):(Ft(s),null);case 22:case 23:return md(),f=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(_n&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function TI(i,s){switch(Sh(s),s.tag){case 1:return Zt(s.type)&&Vu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return xo(),Ze(Jt),Ze(Vt),Mh(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(Ze(rt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Co()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ze(rt),null;case 4:return xo(),null;case 10:return bh(s.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var nc=!1,Ut=!1,II=typeof WeakSet=="function"?WeakSet:Set,me=null;function No(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){ot(i,s,f)}else l.current=null}function rd(i,s,l){try{l()}catch(f){ot(i,s,f)}}var Sy=!1;function SI(i,s){if(mh=di,i=ng(),ah(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,b=-1,M=-1,K=0,ne=0,ie=i,te=null;t:for(;;){for(var de;ie!==l||p!==0&&ie.nodeType!==3||(b=w+p),ie!==y||f!==0&&ie.nodeType!==3||(M=w+f),ie.nodeType===3&&(w+=ie.nodeValue.length),(de=ie.firstChild)!==null;)te=ie,ie=de;for(;;){if(ie===i)break t;if(te===l&&++K===p&&(b=w),te===y&&++ne===f&&(M=w),(de=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=de}l=b===-1||M===-1?null:{start:b,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(gh={focusedElem:i,selectionRange:l},di=!1,me=s;me!==null;)if(s=me,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,me=i;else for(;me!==null;){s=me;try{var ye=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var _e=ye.memoizedProps,lt=ye.memoizedState,q=s.stateNode,$=q.getSnapshotBeforeUpdate(s.elementType===s.type?_e:Kn(s.type,_e),lt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){ot(s,s.return,ue)}if(i=s.sibling,i!==null){i.return=s.return,me=i;break}me=s.return}return ye=Sy,Sy=!1,ye}function sl(i,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&rd(s,l,y)}p=p.next}while(p!==f)}}function rc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function id(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Ay(i){var s=i.alternate;s!==null&&(i.alternate=null,Ay(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[cr],delete s[Ga],delete s[Eh],delete s[oI],delete s[aI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ry(i){return i.tag===5||i.tag===3||i.tag===4}function Cy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ry(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sd(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Du));else if(f!==4&&(i=i.child,i!==null))for(sd(i,s,l),i=i.sibling;i!==null;)sd(i,s,l),i=i.sibling}function od(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(od(i,s,l),i=i.sibling;i!==null;)od(i,s,l),i=i.sibling}var bt=null,Gn=!1;function Ti(i,s,l){for(l=l.child;l!==null;)ky(i,s,l),l=l.sibling}function ky(i,s,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(us,l)}catch{}switch(l.tag){case 5:Ut||No(l,s);case 6:var f=bt,p=Gn;bt=null,Ti(i,s,l),bt=f,Gn=p,bt!==null&&(Gn?(i=bt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Gn?(i=bt,l=l.stateNode,i.nodeType===8?vh(i.parentNode,l):i.nodeType===1&&vh(i,l),Bn(i)):vh(bt,l.stateNode));break;case 4:f=bt,p=Gn,bt=l.stateNode.containerInfo,Gn=!0,Ti(i,s,l),bt=f,Gn=p;break;case 0:case 11:case 14:case 15:if(!Ut&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&rd(l,s,w),p=p.next}while(p!==f)}Ti(i,s,l);break;case 1:if(!Ut&&(No(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(b){ot(l,s,b)}Ti(i,s,l);break;case 21:Ti(i,s,l);break;case 22:l.mode&1?(Ut=(f=Ut)||l.memoizedState!==null,Ti(i,s,l),Ut=f):Ti(i,s,l);break;default:Ti(i,s,l)}}function Py(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new II),s.forEach(function(f){var p=NI.bind(null,i,f);l.has(f)||(l.add(f),f.then(p,p))})}}function Qn(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];try{var y=i,w=s,b=w;e:for(;b!==null;){switch(b.tag){case 5:bt=b.stateNode,Gn=!1;break e;case 3:bt=b.stateNode.containerInfo,Gn=!0;break e;case 4:bt=b.stateNode.containerInfo,Gn=!0;break e}b=b.return}if(bt===null)throw Error(t(160));ky(y,w,p),bt=null,Gn=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(K){ot(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)by(s,i),s=s.sibling}function by(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(s,i),dr(i),f&4){try{sl(3,i,i.return),rc(3,i)}catch(_e){ot(i,i.return,_e)}try{sl(5,i,i.return)}catch(_e){ot(i,i.return,_e)}}break;case 1:Qn(s,i),dr(i),f&512&&l!==null&&No(l,l.return);break;case 5:if(Qn(s,i),dr(i),f&512&&l!==null&&No(l,l.return),i.flags&32){var p=i.stateNode;try{si(p,"")}catch(_e){ot(i,i.return,_e)}}if(f&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,w=l!==null?l.memoizedProps:y,b=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{b==="input"&&y.type==="radio"&&y.name!=null&&ga(p,y),Aa(b,w);var K=Aa(b,y);for(w=0;w<M.length;w+=2){var ne=M[w],ie=M[w+1];ne==="style"?Ta(p,ie):ne==="dangerouslySetInnerHTML"?Ea(p,ie):ne==="children"?si(p,ie):j(p,ne,ie,K)}switch(b){case"input":ya(p,y);break;case"textarea":Gs(p,y);break;case"select":var te=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?Rr(p,!!y.multiple,de,!1):te!==!!y.multiple&&(y.defaultValue!=null?Rr(p,!!y.multiple,y.defaultValue,!0):Rr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ga]=y}catch(_e){ot(i,i.return,_e)}}break;case 6:if(Qn(s,i),dr(i),f&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(_e){ot(i,i.return,_e)}}break;case 3:if(Qn(s,i),dr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Bn(s.containerInfo)}catch(_e){ot(i,i.return,_e)}break;case 4:Qn(s,i),dr(i);break;case 13:Qn(s,i),dr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(ud=Qe())),f&4&&Py(i);break;case 22:if(ne=l!==null&&l.memoizedState!==null,i.mode&1?(Ut=(K=Ut)||ne,Qn(s,i),Ut=K):Qn(s,i),dr(i),f&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(me=i,ne=i.child;ne!==null;){for(ie=me=ne;me!==null;){switch(te=me,de=te.child,te.tag){case 0:case 11:case 14:case 15:sl(4,te,te.return);break;case 1:No(te,te.return);var ye=te.stateNode;if(typeof ye.componentWillUnmount=="function"){f=te,l=te.return;try{s=f,ye.props=s.memoizedProps,ye.state=s.memoizedState,ye.componentWillUnmount()}catch(_e){ot(f,l,_e)}}break;case 5:No(te,te.return);break;case 22:if(te.memoizedState!==null){Ny(ie);continue}}de!==null?(de.return=te,me=de):Ny(ie)}ne=ne.sibling}e:for(ne=null,ie=i;;){if(ie.tag===5){if(ne===null){ne=ie;try{p=ie.stateNode,K?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(b=ie.stateNode,M=ie.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,b.style.display=wa("display",w))}catch(_e){ot(i,i.return,_e)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(_e){ot(i,i.return,_e)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Qn(s,i),dr(i),f&4&&Py(i);break;case 21:break;default:Qn(s,i),dr(i)}}function dr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Ry(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(si(p,""),f.flags&=-33);var y=Cy(i);od(i,y,p);break;case 3:case 4:var w=f.stateNode.containerInfo,b=Cy(i);sd(i,b,w);break;default:throw Error(t(161))}}catch(M){ot(i,i.return,M)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function AI(i,s,l){me=i,xy(i)}function xy(i,s,l){for(var f=(i.mode&1)!==0;me!==null;){var p=me,y=p.child;if(p.tag===22&&f){var w=p.memoizedState!==null||nc;if(!w){var b=p.alternate,M=b!==null&&b.memoizedState!==null||Ut;b=nc;var K=Ut;if(nc=w,(Ut=M)&&!K)for(me=p;me!==null;)w=me,M=w.child,w.tag===22&&w.memoizedState!==null?Dy(p):M!==null?(M.return=w,me=M):Dy(p);for(;y!==null;)me=y,xy(y),y=y.sibling;me=p,nc=b,Ut=K}Oy(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,me=y):Oy(i)}}function Oy(i){for(;me!==null;){var s=me;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ut||rc(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Ut)if(l===null)f.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Kn(s.type,l.memoizedProps);f.componentDidUpdate(p,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Ng(s,y,f);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ng(s,w,l)}break;case 5:var b=s.stateNode;if(l===null&&s.flags&4){l=b;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Bn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&id(s)}catch(te){ot(s,s.return,te)}}if(s===i){me=null;break}if(l=s.sibling,l!==null){l.return=s.return,me=l;break}me=s.return}}function Ny(i){for(;me!==null;){var s=me;if(s===i){me=null;break}var l=s.sibling;if(l!==null){l.return=s.return,me=l;break}me=s.return}}function Dy(i){for(;me!==null;){var s=me;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{rc(4,s)}catch(M){ot(s,l,M)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var p=s.return;try{f.componentDidMount()}catch(M){ot(s,p,M)}}var y=s.return;try{id(s)}catch(M){ot(s,y,M)}break;case 5:var w=s.return;try{id(s)}catch(M){ot(s,w,M)}}}catch(M){ot(s,s.return,M)}if(s===i){me=null;break}var b=s.sibling;if(b!==null){b.return=s.return,me=b;break}me=s.return}}var RI=Math.ceil,ic=Y.ReactCurrentDispatcher,ad=Y.ReactCurrentOwner,bn=Y.ReactCurrentBatchConfig,je=0,At=null,ht=null,xt=0,_n=0,Do=yi(0),vt=0,ol=null,Is=0,sc=0,ld=0,al=null,tn=null,ud=0,Lo=1/0,jr=null,oc=!1,cd=null,Ii=null,ac=!1,Si=null,lc=0,ll=0,fd=null,uc=-1,cc=0;function Kt(){return(je&6)!==0?Qe():uc!==-1?uc:uc=Qe()}function Ai(i){return(i.mode&1)===0?1:(je&2)!==0&&xt!==0?xt&-xt:uI.transition!==null?(cc===0&&(cc=fs()),cc):(i=Le,i!==0||(i=window.event,i=i===void 0?16:Va(i.type)),i)}function Yn(i,s,l,f){if(50<ll)throw ll=0,fd=null,Error(t(185));ui(i,l,f),((je&2)===0||i!==At)&&(i===At&&((je&2)===0&&(sc|=l),vt===4&&Ri(i,xt)),nn(i,f),l===1&&je===0&&(s.mode&1)===0&&(Lo=Qe()+500,Fu&&vi()))}function nn(i,s){var l=i.callbackNode;Pr(i,s);var f=cs(i,i===At?xt:0);if(f===0)l!==null&&xa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=f&-f,i.callbackPriority!==s){if(l!=null&&xa(l),s===1)i.tag===0?lI(Vy.bind(null,i)):wg(Vy.bind(null,i)),iI(function(){(je&6)===0&&vi()}),l=null;else{switch(fi(f)){case 1:l=ls;break;case 4:l=oi;break;case 16:l=In;break;case 536870912:l=cu;break;default:l=In}l=qy(l,Ly.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Ly(i,s){if(uc=-1,cc=0,(je&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Vo()&&i.callbackNode!==l)return null;var f=cs(i,i===At?xt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||s)s=fc(i,f);else{s=f;var p=je;je|=2;var y=Fy();(At!==i||xt!==s)&&(jr=null,Lo=Qe()+500,As(i,s));do try{PI();break}catch(b){My(i,b)}while(!0);Ph(),ic.current=y,je=p,ht!==null?s=0:(At=null,xt=0,s=vt)}if(s!==0){if(s===2&&(p=dn(i),p!==0&&(f=p,s=hd(i,p))),s===1)throw l=ol,As(i,0),Ri(i,f),nn(i,Qe()),l;if(s===6)Ri(i,f);else{if(p=i.current.alternate,(f&30)===0&&!CI(p)&&(s=fc(i,f),s===2&&(y=dn(i),y!==0&&(f=y,s=hd(i,y))),s===1))throw l=ol,As(i,0),Ri(i,f),nn(i,Qe()),l;switch(i.finishedWork=p,i.finishedLanes=f,s){case 0:case 1:throw Error(t(345));case 2:Rs(i,tn,jr);break;case 3:if(Ri(i,f),(f&130023424)===f&&(s=ud+500-Qe(),10<s)){if(cs(i,0)!==0)break;if(p=i.suspendedLanes,(p&f)!==f){Kt(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=_h(Rs.bind(null,i,tn,jr),s);break}Rs(i,tn,jr);break;case 4:if(Ri(i,f),(f&4194240)===f)break;for(s=i.eventTimes,p=-1;0<f;){var w=31-qt(f);y=1<<w,w=s[w],w>p&&(p=w),f&=~y}if(f=p,f=Qe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*RI(f/1960))-f,10<f){i.timeoutHandle=_h(Rs.bind(null,i,tn,jr),f);break}Rs(i,tn,jr);break;case 5:Rs(i,tn,jr);break;default:throw Error(t(329))}}}return nn(i,Qe()),i.callbackNode===l?Ly.bind(null,i):null}function hd(i,s){var l=al;return i.current.memoizedState.isDehydrated&&(As(i,s).flags|=256),i=fc(i,s),i!==2&&(s=tn,tn=l,s!==null&&dd(s)),i}function dd(i){tn===null?tn=i:tn.push.apply(tn,i)}function CI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var p=l[f],y=p.getSnapshot;p=p.value;try{if(!Hn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ri(i,s){for(s&=~ld,s&=~sc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-qt(s),f=1<<l;i[l]=-1,s&=~f}}function Vy(i){if((je&6)!==0)throw Error(t(327));Vo();var s=cs(i,0);if((s&1)===0)return nn(i,Qe()),null;var l=fc(i,s);if(i.tag!==0&&l===2){var f=dn(i);f!==0&&(s=f,l=hd(i,f))}if(l===1)throw l=ol,As(i,0),Ri(i,s),nn(i,Qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Rs(i,tn,jr),nn(i,Qe()),null}function pd(i,s){var l=je;je|=1;try{return i(s)}finally{je=l,je===0&&(Lo=Qe()+500,Fu&&vi())}}function Ss(i){Si!==null&&Si.tag===0&&(je&6)===0&&Vo();var s=je;je|=1;var l=bn.transition,f=Le;try{if(bn.transition=null,Le=1,i)return i()}finally{Le=f,bn.transition=l,je=s,(je&6)===0&&vi()}}function md(){_n=Do.current,Ze(Do)}function As(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,rI(l)),ht!==null)for(l=ht.return;l!==null;){var f=l;switch(Sh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Vu();break;case 3:xo(),Ze(Jt),Ze(Vt),Mh();break;case 5:Lh(f);break;case 4:xo();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:bh(f.type._context);break;case 22:case 23:md()}l=l.return}if(At=i,ht=i=Ci(i.current,null),xt=_n=s,vt=0,ol=null,ld=sc=Is=0,tn=al=null,Es!==null){for(s=0;s<Es.length;s++)if(l=Es[s],f=l.interleaved,f!==null){l.interleaved=null;var p=f.next,y=l.pending;if(y!==null){var w=y.next;y.next=p,f.next=w}l.pending=f}Es=null}return i}function My(i,s){do{var l=ht;try{if(Ph(),Gu.current=Ju,Qu){for(var f=it.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Qu=!1}if(Ts=0,St=_t=it=null,el=!1,tl=0,ad.current=null,l===null||l.return===null){vt=1,ol=s,ht=null;break}e:{var y=i,w=l.return,b=l,M=s;if(s=xt,b.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,ne=b,ie=ne.tag;if((ne.mode&1)===0&&(ie===0||ie===11||ie===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=ly(w);if(de!==null){de.flags&=-257,uy(de,w,b,y,s),de.mode&1&&ay(y,K,s),s=de,M=K;var ye=s.updateQueue;if(ye===null){var _e=new Set;_e.add(M),s.updateQueue=_e}else ye.add(M);break e}else{if((s&1)===0){ay(y,K,s),gd();break e}M=Error(t(426))}}else if(tt&&b.mode&1){var lt=ly(w);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),uy(lt,w,b,y,s),Ch(Oo(M,b));break e}}y=M=Oo(M,b),vt!==4&&(vt=2),al===null?al=[y]:al.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var q=sy(y,M,s);Og(y,q);break e;case 1:b=M;var $=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ii===null||!Ii.has(H)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=oy(y,b,s);Og(y,ue);break e}}y=y.return}while(y!==null)}$y(l)}catch(ve){s=ve,ht===l&&l!==null&&(ht=l=l.return);continue}break}while(!0)}function Fy(){var i=ic.current;return ic.current=Ju,i===null?Ju:i}function gd(){(vt===0||vt===3||vt===2)&&(vt=4),At===null||(Is&268435455)===0&&(sc&268435455)===0||Ri(At,xt)}function fc(i,s){var l=je;je|=2;var f=Fy();(At!==i||xt!==s)&&(jr=null,As(i,s));do try{kI();break}catch(p){My(i,p)}while(!0);if(Ph(),je=l,ic.current=f,ht!==null)throw Error(t(261));return At=null,xt=0,vt}function kI(){for(;ht!==null;)Uy(ht)}function PI(){for(;ht!==null&&!lu();)Uy(ht)}function Uy(i){var s=By(i.alternate,i,_n);i.memoizedProps=i.pendingProps,s===null?$y(i):ht=s,ad.current=null}function $y(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=wI(l,s,_n),l!==null){ht=l;return}}else{if(l=TI(l,s),l!==null){l.flags&=32767,ht=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{vt=6,ht=null;return}}if(s=s.sibling,s!==null){ht=s;return}ht=s=i}while(s!==null);vt===0&&(vt=5)}function Rs(i,s,l){var f=Le,p=bn.transition;try{bn.transition=null,Le=1,bI(i,s,l,f)}finally{bn.transition=p,Le=f}return null}function bI(i,s,l,f){do Vo();while(Si!==null);if((je&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ke(i,y),i===At&&(ht=At=null,xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ac||(ac=!0,qy(In,function(){return Vo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=bn.transition,bn.transition=null;var w=Le;Le=1;var b=je;je|=4,ad.current=null,SI(i,l),by(l,i),YT(gh),di=!!mh,gh=mh=null,i.current=l,AI(l),Zf(),je=b,Le=w,bn.transition=y}else i.current=l;if(ac&&(ac=!1,Si=i,lc=p),y=i.pendingLanes,y===0&&(Ii=null),fu(l.stateNode),nn(i,Qe()),s!==null)for(f=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],f(p.value,{componentStack:p.stack,digest:p.digest});if(oc)throw oc=!1,i=cd,cd=null,i;return(lc&1)!==0&&i.tag!==0&&Vo(),y=i.pendingLanes,(y&1)!==0?i===fd?ll++:(ll=0,fd=i):ll=0,vi(),null}function Vo(){if(Si!==null){var i=fi(lc),s=bn.transition,l=Le;try{if(bn.transition=null,Le=16>i?16:i,Si===null)var f=!1;else{if(i=Si,Si=null,lc=0,(je&6)!==0)throw Error(t(331));var p=je;for(je|=4,me=i.current;me!==null;){var y=me,w=y.child;if((me.flags&16)!==0){var b=y.deletions;if(b!==null){for(var M=0;M<b.length;M++){var K=b[M];for(me=K;me!==null;){var ne=me;switch(ne.tag){case 0:case 11:case 15:sl(8,ne,y)}var ie=ne.child;if(ie!==null)ie.return=ne,me=ie;else for(;me!==null;){ne=me;var te=ne.sibling,de=ne.return;if(Ay(ne),ne===K){me=null;break}if(te!==null){te.return=de,me=te;break}me=de}}}var ye=y.alternate;if(ye!==null){var _e=ye.child;if(_e!==null){ye.child=null;do{var lt=_e.sibling;_e.sibling=null,_e=lt}while(_e!==null)}}me=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,me=w;else e:for(;me!==null;){if(y=me,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:sl(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,me=q;break e}me=y.return}}var $=i.current;for(me=$;me!==null;){w=me;var H=w.child;if((w.subtreeFlags&2064)!==0&&H!==null)H.return=w,me=H;else e:for(w=$;me!==null;){if(b=me,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:rc(9,b)}}catch(ve){ot(b,b.return,ve)}if(b===w){me=null;break e}var ue=b.sibling;if(ue!==null){ue.return=b.return,me=ue;break e}me=b.return}}if(je=p,vi(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(us,i)}catch{}f=!0}return f}finally{Le=l,bn.transition=s}}return!1}function jy(i,s,l){s=Oo(l,s),s=sy(i,s,1),i=wi(i,s,1),s=Kt(),i!==null&&(ui(i,1,s),nn(i,s))}function ot(i,s,l){if(i.tag===3)jy(i,i,l);else for(;s!==null;){if(s.tag===3){jy(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ii===null||!Ii.has(f))){i=Oo(l,i),i=oy(s,i,1),s=wi(s,i,1),i=Kt(),s!==null&&(ui(s,1,i),nn(s,i));break}}s=s.return}}function xI(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),s=Kt(),i.pingedLanes|=i.suspendedLanes&l,At===i&&(xt&l)===l&&(vt===4||vt===3&&(xt&130023424)===xt&&500>Qe()-ud?As(i,0):ld|=l),nn(i,s)}function zy(i,s){s===0&&((i.mode&1)===0?s=1:(s=io,io<<=1,(io&130023424)===0&&(io=4194304)));var l=Kt();i=Fr(i,s),i!==null&&(ui(i,s,l),nn(i,l))}function OI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),zy(i,l)}function NI(i,s){var l=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(s),zy(i,l)}var By;By=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||Jt.current)en=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return en=!1,EI(i,s,l);en=(i.flags&131072)!==0}else en=!1,tt&&(s.flags&1048576)!==0&&Tg(s,$u,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;tc(i,s),i=s.pendingProps;var p=So(s,Vt.current);bo(s,l),p=$h(null,s,f,i,p,l);var y=jh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zt(f)?(y=!0,Mu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Nh(s),p.updater=Zu,s.stateNode=p,p._reactInternals=s,Kh(s,f,i,l),s=Xh(null,s,f,!0,y,l)):(s.tag=0,tt&&y&&Ih(s),Wt(null,s,p,l),s=s.child),s;case 16:f=s.elementType;e:{switch(tc(i,s),i=s.pendingProps,p=f._init,f=p(f._payload),s.type=f,p=s.tag=LI(f),i=Kn(f,i),p){case 0:s=Yh(null,s,f,i,l);break e;case 1:s=my(null,s,f,i,l);break e;case 11:s=cy(null,s,f,i,l);break e;case 14:s=fy(null,s,f,Kn(f.type,i),l);break e}throw Error(t(306,f,""))}return s;case 0:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Kn(f,p),Yh(i,s,f,p,l);case 1:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Kn(f,p),my(i,s,f,p,l);case 3:e:{if(gy(s),i===null)throw Error(t(387));f=s.pendingProps,y=s.memoizedState,p=y.element,xg(i,s),Wu(s,f,null,l);var w=s.memoizedState;if(f=w.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Oo(Error(t(423)),s),s=yy(i,s,f,l,p);break e}else if(f!==p){p=Oo(Error(t(424)),s),s=yy(i,s,f,l,p);break e}else for(yn=gi(s.stateNode.containerInfo.firstChild),gn=s,tt=!0,Wn=null,l=Pg(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Co(),f===p){s=$r(i,s,l);break e}Wt(i,s,f,l)}s=s.child}return s;case 5:return Dg(s),i===null&&Rh(s),f=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,w=p.children,yh(f,p)?w=null:y!==null&&yh(f,y)&&(s.flags|=32),py(i,s),Wt(i,s,w,l),s.child;case 6:return i===null&&Rh(s),null;case 13:return _y(i,s,l);case 4:return Dh(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=ko(s,null,f,l):Wt(i,s,f,l),s.child;case 11:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Kn(f,p),cy(i,s,f,p,l);case 7:return Wt(i,s,s.pendingProps,l),s.child;case 8:return Wt(i,s,s.pendingProps.children,l),s.child;case 12:return Wt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,p=s.pendingProps,y=s.memoizedProps,w=p.value,Ye(Bu,f._currentValue),f._currentValue=w,y!==null)if(Hn(y.value,w)){if(y.children===p.children&&!Jt.current){s=$r(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){w=y.child;for(var M=b.firstContext;M!==null;){if(M.context===f){if(y.tag===1){M=Ur(-1,l&-l),M.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),K.pending=M}}y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),xh(y.return,l,s),b.lanes|=l;break}M=M.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,b=w.alternate,b!==null&&(b.lanes|=l),xh(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Wt(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,f=s.pendingProps.children,bo(s,l),p=kn(p),f=f(p),s.flags|=1,Wt(i,s,f,l),s.child;case 14:return f=s.type,p=Kn(f,s.pendingProps),p=Kn(f.type,p),fy(i,s,f,p,l);case 15:return hy(i,s,s.type,s.pendingProps,l);case 17:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Kn(f,p),tc(i,s),s.tag=1,Zt(f)?(i=!0,Mu(s)):i=!1,bo(s,l),ry(s,f,p),Kh(s,f,p,l),Xh(null,s,f,!0,i,l);case 19:return Ey(i,s,l);case 22:return dy(i,s,l)}throw Error(t(156,s.tag))};function qy(i,s){return no(i,s)}function DI(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,s,l,f){return new DI(i,s,l,f)}function yd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function LI(i){if(typeof i=="function")return yd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===N)return 11;if(i===ae)return 14}return 2}function Ci(i,s){var l=i.alternate;return l===null?(l=xn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function hc(i,s,l,f,p,y){var w=2;if(f=i,typeof i=="function")yd(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case O:return Cs(l.children,p,y,s);case A:w=8,p|=8;break;case C:return i=xn(12,l,s,p|2),i.elementType=C,i.lanes=y,i;case R:return i=xn(13,l,s,p),i.elementType=R,i.lanes=y,i;case re:return i=xn(19,l,s,p),i.elementType=re,i.lanes=y,i;case W:return dc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:w=10;break e;case P:w=9;break e;case N:w=11;break e;case ae:w=14;break e;case Se:w=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=xn(w,l,s,p),s.elementType=i,s.type=f,s.lanes=y,s}function Cs(i,s,l,f){return i=xn(7,i,f,s),i.lanes=l,i}function dc(i,s,l,f){return i=xn(22,i,f,s),i.elementType=W,i.lanes=l,i.stateNode={isHidden:!1},i}function _d(i,s,l){return i=xn(6,i,null,s),i.lanes=l,i}function vd(i,s,l){return s=xn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function VI(i,s,l,f,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=li(0),this.expirationTimes=li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Ed(i,s,l,f,p,y,w,b,M){return i=new VI(i,s,l,b,M),s===1?(s=1,y===!0&&(s|=8)):s=0,y=xn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nh(y),i}function MI(i,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:f==null?null:""+f,children:i,containerInfo:s,implementation:l}}function Hy(i){if(!i)return _i;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Zt(l))return vg(i,l,s)}return s}function Wy(i,s,l,f,p,y,w,b,M){return i=Ed(l,f,!0,i,p,y,w,b,M),i.context=Hy(null),l=i.current,f=Kt(),p=Ai(l),y=Ur(f,p),y.callback=s??null,wi(l,y,p),i.current.lanes=p,ui(i,p,f),nn(i,f),i}function pc(i,s,l,f){var p=s.current,y=Kt(),w=Ai(p);return l=Hy(l),s.context===null?s.context=l:s.pendingContext=l,s=Ur(y,w),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=wi(p,s,w),i!==null&&(Yn(i,p,w,y),Hu(i,p,w)),w}function mc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ky(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function wd(i,s){Ky(i,s),(i=i.alternate)&&Ky(i,s)}function FI(){return null}var Gy=typeof reportError=="function"?reportError:function(i){console.error(i)};function Td(i){this._internalRoot=i}gc.prototype.render=Td.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));pc(i,s,null,null)},gc.prototype.unmount=Td.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ss(function(){pc(null,i,null,null)}),s[Dr]=null}};function gc(i){this._internalRoot=i}gc.prototype.unstable_scheduleHydration=function(i){if(i){var s=gu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<or.length&&s!==0&&s<or[l].priority;l++);or.splice(l,0,i),l===0&&vu(i)}};function Id(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function yc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function UI(i,s,l,f,p){if(p){if(typeof f=="function"){var y=f;f=function(){var K=mc(w);y.call(K)}}var w=Wy(s,f,i,0,null,!1,!1,"",Qy);return i._reactRootContainer=w,i[Dr]=w.current,Wa(i.nodeType===8?i.parentNode:i),Ss(),w}for(;p=i.lastChild;)i.removeChild(p);if(typeof f=="function"){var b=f;f=function(){var K=mc(M);b.call(K)}}var M=Ed(i,0,!1,null,null,!1,!1,"",Qy);return i._reactRootContainer=M,i[Dr]=M.current,Wa(i.nodeType===8?i.parentNode:i),Ss(function(){pc(s,M,l,f)}),M}function _c(i,s,l,f,p){var y=l._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var b=p;p=function(){var M=mc(w);b.call(M)}}pc(s,w,i,p)}else w=UI(l,s,i,p,f);return mc(w)}pu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=ai(s.pendingLanes);l!==0&&(ci(s,l|1),nn(s,Qe()),(je&6)===0&&(Lo=Qe()+500,vi()))}break;case 13:Ss(function(){var f=Fr(i,1);if(f!==null){var p=Kt();Yn(f,i,1,p)}}),wd(i,1)}},so=function(i){if(i.tag===13){var s=Fr(i,134217728);if(s!==null){var l=Kt();Yn(s,i,134217728,l)}wd(i,134217728)}},mu=function(i){if(i.tag===13){var s=Ai(i),l=Fr(i,s);if(l!==null){var f=Kt();Yn(l,i,s,f)}wd(i,s)}},gu=function(){return Le},yu=function(i,s){var l=Le;try{return Le=i,s()}finally{Le=l}},Ys=function(i,s,l){switch(s){case"input":if(ya(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var p=Lu(f);if(!p)throw Error(t(90));qs(f),ya(f,p)}}}break;case"textarea":Gs(i,l);break;case"select":s=l.value,s!=null&&Rr(i,!!l.multiple,s,!1)}},is=pd,Ca=Ss;var $I={usingClientEntryPoint:!1,Events:[Qa,To,Lu,ir,Ra,pd]},ul={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jI={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ba(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||FI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{us=vc.inject(jI),hn=vc}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$I,rn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(s))throw Error(t(200));return MI(i,s,null,l)},rn.createRoot=function(i,s){if(!Id(i))throw Error(t(299));var l=!1,f="",p=Gy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Ed(i,1,!1,null,null,l,!1,f,p),i[Dr]=s.current,Wa(i.nodeType===8?i.parentNode:i),new Td(s)},rn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ba(s),i=i===null?null:i.stateNode,i},rn.flushSync=function(i){return Ss(i)},rn.hydrate=function(i,s,l){if(!yc(s))throw Error(t(200));return _c(null,i,s,!0,l)},rn.hydrateRoot=function(i,s,l){if(!Id(i))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,p=!1,y="",w=Gy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=Wy(s,null,i,1,l??null,p,!1,y,w),i[Dr]=s.current,Wa(i),f)for(i=0;i<f.length;i++)l=f[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new gc(s)},rn.render=function(i,s,l){if(!yc(s))throw Error(t(200));return _c(null,i,s,!1,l)},rn.unmountComponentAtNode=function(i){if(!yc(i))throw Error(t(40));return i._reactRootContainer?(Ss(function(){_c(null,null,i,!1,function(){i._reactRootContainer=null,i[Dr]=null})}),!0):!1},rn.unstable_batchedUpdates=pd,rn.unstable_renderSubtreeIntoContainer=function(i,s,l,f){if(!yc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return _c(i,s,l,!1,f)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var s_;function Np(){if(s_)return kd.exports;s_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kd.exports=pS(),kd.exports}var xd={exports:{}},Od,o_;function mS(){if(o_)return Od;o_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Od=n,Od}var Nd,a_;function gS(){if(a_)return Nd;a_=1;var n=mS();function e(){}function t(){}return t.resetWarningCache=e,Nd=function(){function r(u,h,d,m,_,E){if(E!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Nd}var l_;function _0(){return l_||(l_=1,xd.exports=gS()()),xd.exports}var wc={exports:{}},On={},Tc={exports:{}},u_;function v0(){return u_||(u_=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=_;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",r="contents",o=/^(input|select|textarea|button|object|iframe)$/;function a(E,T){return T.getPropertyValue("overflow")!=="visible"||E.scrollWidth<=0&&E.scrollHeight<=0}function u(E){var T=E.offsetWidth<=0&&E.offsetHeight<=0;if(T&&!E.innerHTML)return!0;try{var S=window.getComputedStyle(E),k=S.getPropertyValue("display");return T?k!==r&&a(E,S):k===t}catch{return console.warn("Failed to inspect element style"),!1}}function h(E){for(var T=E,S=E.getRootNode&&E.getRootNode();T&&T!==document.body;){if(S&&T===S&&(T=S.host.parentNode),u(T))return!1;T=T.parentNode}return!0}function d(E,T){var S=E.nodeName.toLowerCase(),k=o.test(S)&&!E.disabled||S==="a"&&E.href||T;return k&&h(E)}function m(E){var T=E.getAttribute("tabindex");T===null&&(T=void 0);var S=isNaN(T);return(S||T>=0)&&d(E,!S)}function _(E){var T=[].slice.call(E.querySelectorAll("*"),0).reduce(function(S,k){return S.concat(k.shadowRoot?_(k.shadowRoot):[k])},[]);return T.filter(m)}n.exports=e.default}(Tc,Tc.exports)),Tc.exports}var c_;function yS(){if(c_)return On;c_=1,Object.defineProperty(On,"__esModule",{value:!0}),On.resetState=u,On.log=h,On.handleBlur=d,On.handleFocus=m,On.markForFocusLater=_,On.returnFocus=E,On.popWithoutFocus=T,On.setupScopedFocus=S,On.teardownScopedFocus=k;var n=v0(),e=t(n);function t(D){return D&&D.__esModule?D:{default:D}}var r=[],o=null,a=!1;function u(){r=[]}function h(){}function d(){a=!0}function m(){if(a){if(a=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var D=(0,e.default)(o)[0]||o;D.focus()}},0)}}function _(){r.push(document.activeElement)}function E(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=null;try{r.length!==0&&(x=r.pop(),x.focus({preventScroll:D}));return}catch{console.warn(["You tried to return focus to",x,"but it is not in the DOM anymore"].join(" "))}}function T(){r.length>0&&r.pop()}function S(D){o=D,window.addEventListener?(window.addEventListener("blur",d,!1),document.addEventListener("focus",m,!0)):(window.attachEvent("onBlur",d),document.attachEvent("onFocus",m))}function k(){o=null,window.addEventListener?(window.removeEventListener("blur",d),document.removeEventListener("focus",m)):(window.detachEvent("onBlur",d),document.detachEvent("onFocus",m))}return On}var Ic={exports:{}},f_;function _S(){return f_||(f_=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=v0(),r=o(t);function o(h){return h&&h.__esModule?h:{default:h}}function a(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return h.activeElement.shadowRoot?a(h.activeElement.shadowRoot):h.activeElement}function u(h,d){var m=(0,r.default)(h);if(!m.length){d.preventDefault();return}var _=void 0,E=d.shiftKey,T=m[0],S=m[m.length-1],k=a();if(h===k){if(!E)return;_=S}if(S===k&&!E&&(_=T),T===k&&E&&(_=S),_){d.preventDefault(),_.focus();return}var D=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),x=D!=null&&D[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(x){var L=m.indexOf(k);if(L>-1&&(L+=E?-1:1),_=m[L],typeof _>"u"){d.preventDefault(),_=E?S:T,_.focus();return}d.preventDefault(),_.focus()}}n.exports=e.default}(Ic,Ic.exports)),Ic.exports}var Xn={},Dd,h_;function vS(){if(h_)return Dd;h_=1;var n=function(){};return Dd=n,Dd}var pr={},Ld={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var d_;function ES(){return d_||(d_=1,function(n){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};n.exports?n.exports=t:window.ExecutionEnvironment=t})()}(Ld)),Ld.exports}var p_;function Dp(){if(p_)return pr;p_=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.canUseDOM=pr.SafeNodeList=pr.SafeHTMLCollection=void 0;var n=ES(),e=t(n);function t(a){return a&&a.__esModule?a:{default:a}}var r=e.default,o=r.canUseDOM?window.HTMLElement:{};return pr.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},pr.SafeNodeList=r.canUseDOM?window.NodeList:{},pr.canUseDOM=r.canUseDOM,pr.default=o,pr}var m_;function E0(){if(m_)return Xn;m_=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.resetState=a,Xn.log=u,Xn.assertNodeList=h,Xn.setElement=d,Xn.validateElement=m,Xn.hide=_,Xn.show=E,Xn.documentNotReadyOrSSRTesting=T;var n=vS(),e=r(n),t=Dp();function r(S){return S&&S.__esModule?S:{default:S}}var o=null;function a(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(S){return S.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(S){return S.removeAttribute("aria-hidden")})),o=null}function u(){}function h(S,k){if(!S||!S.length)throw new Error("react-modal: No elements were found for selector "+k+".")}function d(S){var k=S;if(typeof k=="string"&&t.canUseDOM){var D=document.querySelectorAll(k);h(D,k),k=D}return o=k||o,o}function m(S){var k=S||o;return k?Array.isArray(k)||k instanceof HTMLCollection||k instanceof NodeList?k:[k]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function _(S){var k=!0,D=!1,x=void 0;try{for(var L=m(S)[Symbol.iterator](),z;!(k=(z=L.next()).done);k=!0){var j=z.value;j.setAttribute("aria-hidden","true")}}catch(Y){D=!0,x=Y}finally{try{!k&&L.return&&L.return()}finally{if(D)throw x}}}function E(S){var k=!0,D=!1,x=void 0;try{for(var L=m(S)[Symbol.iterator](),z;!(k=(z=L.next()).done);k=!0){var j=z.value;j.removeAttribute("aria-hidden")}}catch(Y){D=!0,x=Y}finally{try{!k&&L.return&&L.return()}finally{if(D)throw x}}}function T(){o=null}return Xn}var ks={},g_;function wS(){if(g_)return ks;g_=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.resetState=r,ks.log=o;var n={},e={};function t(m,_){m.classList.remove(_)}function r(){var m=document.getElementsByTagName("html")[0];for(var _ in n)t(m,n[_]);var E=document.body;for(var T in e)t(E,e[T]);n={},e={}}function o(){}var a=function(_,E){return _[E]||(_[E]=0),_[E]+=1,E},u=function(_,E){return _[E]&&(_[E]-=1),E},h=function(_,E,T){T.forEach(function(S){a(E,S),_.add(S)})},d=function(_,E,T){T.forEach(function(S){u(E,S),E[S]===0&&_.remove(S)})};return ks.add=function(_,E){return h(_.classList,_.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},ks.remove=function(_,E){return d(_.classList,_.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},ks}var Mo={},y_;function w0(){if(y_)return Mo;y_=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.log=r,Mo.resetState=o;function n(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var e=function a(){var u=this;n(this,a),this.register=function(h){u.openInstances.indexOf(h)===-1&&(u.openInstances.push(h),u.emit("register"))},this.deregister=function(h){var d=u.openInstances.indexOf(h);d!==-1&&(u.openInstances.splice(d,1),u.emit("deregister"))},this.subscribe=function(h){u.subscribers.push(h)},this.emit=function(h){u.subscribers.forEach(function(d){return d(h,u.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function r(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function o(){t=new e}return Mo.default=t,Mo}var fl={},__;function TS(){if(__)return fl;__=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.resetState=u,fl.log=h;var n=w0(),e=t(n);function t(_){return _&&_.__esModule?_:{default:_}}var r=void 0,o=void 0,a=[];function u(){for(var _=[r,o],E=0;E<_.length;E++){var T=_[E];T&&T.parentNode&&T.parentNode.removeChild(T)}r=o=null,a=[]}function h(){console.log("bodyTrap ----------"),console.log(a.length);for(var _=[r,o],E=0;E<_.length;E++){var T=_[E],S=T||{};console.log(S.nodeName,S.className,S.id)}console.log("edn bodyTrap ----------")}function d(){a.length!==0&&a[a.length-1].focusContent()}function m(_,E){!r&&!o&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",d),o=r.cloneNode(),o.addEventListener("focus",d)),a=E,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(r.parentElement&&r.parentElement.removeChild(r),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(m),fl}var v_;function IS(){return v_||(v_=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(re){for(var ae=1;ae<arguments.length;ae++){var Se=arguments[ae];for(var W in Se)Object.prototype.hasOwnProperty.call(Se,W)&&(re[W]=Se[W])}return re},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},o=function(){function re(ae,Se){for(var W=0;W<Se.length;W++){var Q=Se[W];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ae,Q.key,Q)}}return function(ae,Se,W){return Se&&re(ae.prototype,Se),W&&re(ae,W),ae}}(),a=$l(),u=_0(),h=le(u),d=yS(),m=Y(d),_=_S(),E=le(_),T=E0(),S=Y(T),k=wS(),D=Y(k),x=Dp(),L=le(x),z=w0(),j=le(z);TS();function Y(re){if(re&&re.__esModule)return re;var ae={};if(re!=null)for(var Se in re)Object.prototype.hasOwnProperty.call(re,Se)&&(ae[Se]=re[Se]);return ae.default=re,ae}function le(re){return re&&re.__esModule?re:{default:re}}function oe(re,ae){if(!(re instanceof ae))throw new TypeError("Cannot call a class as a function")}function O(re,ae){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:re}function A(re,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);re.prototype=Object.create(ae&&ae.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(re,ae):re.__proto__=ae)}var C={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},V=function(ae){return ae.code==="Tab"||ae.keyCode===9},P=function(ae){return ae.code==="Escape"||ae.keyCode===27},N=0,R=function(re){A(ae,re);function ae(Se){oe(this,ae);var W=O(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,Se));return W.setOverlayRef=function(Q){W.overlay=Q,W.props.overlayRef&&W.props.overlayRef(Q)},W.setContentRef=function(Q){W.content=Q,W.props.contentRef&&W.props.contentRef(Q)},W.afterClose=function(){var Q=W.props,fe=Q.appElement,se=Q.ariaHideApp,U=Q.htmlOpenClassName,X=Q.bodyOpenClassName,ge=Q.parentSelector,ke=ge&&ge().ownerDocument||document;X&&D.remove(ke.body,X),U&&D.remove(ke.getElementsByTagName("html")[0],U),se&&N>0&&(N-=1,N===0&&S.show(fe)),W.props.shouldFocusAfterRender&&(W.props.shouldReturnFocusAfterClose?(m.returnFocus(W.props.preventScroll),m.teardownScopedFocus()):m.popWithoutFocus()),W.props.onAfterClose&&W.props.onAfterClose(),j.default.deregister(W)},W.open=function(){W.beforeOpen(),W.state.afterOpen&&W.state.beforeClose?(clearTimeout(W.closeTimer),W.setState({beforeClose:!1})):(W.props.shouldFocusAfterRender&&(m.setupScopedFocus(W.node),m.markForFocusLater()),W.setState({isOpen:!0},function(){W.openAnimationFrame=requestAnimationFrame(function(){W.setState({afterOpen:!0}),W.props.isOpen&&W.props.onAfterOpen&&W.props.onAfterOpen({overlayEl:W.overlay,contentEl:W.content})})}))},W.close=function(){W.props.closeTimeoutMS>0?W.closeWithTimeout():W.closeWithoutTimeout()},W.focusContent=function(){return W.content&&!W.contentHasFocus()&&W.content.focus({preventScroll:!0})},W.closeWithTimeout=function(){var Q=Date.now()+W.props.closeTimeoutMS;W.setState({beforeClose:!0,closesAt:Q},function(){W.closeTimer=setTimeout(W.closeWithoutTimeout,W.state.closesAt-Date.now())})},W.closeWithoutTimeout=function(){W.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},W.afterClose)},W.handleKeyDown=function(Q){V(Q)&&(0,E.default)(W.content,Q),W.props.shouldCloseOnEsc&&P(Q)&&(Q.stopPropagation(),W.requestClose(Q))},W.handleOverlayOnClick=function(Q){W.shouldClose===null&&(W.shouldClose=!0),W.shouldClose&&W.props.shouldCloseOnOverlayClick&&(W.ownerHandlesClose()?W.requestClose(Q):W.focusContent()),W.shouldClose=null},W.handleContentOnMouseUp=function(){W.shouldClose=!1},W.handleOverlayOnMouseDown=function(Q){!W.props.shouldCloseOnOverlayClick&&Q.target==W.overlay&&Q.preventDefault()},W.handleContentOnClick=function(){W.shouldClose=!1},W.handleContentOnMouseDown=function(){W.shouldClose=!1},W.requestClose=function(Q){return W.ownerHandlesClose()&&W.props.onRequestClose(Q)},W.ownerHandlesClose=function(){return W.props.onRequestClose},W.shouldBeClosed=function(){return!W.state.isOpen&&!W.state.beforeClose},W.contentHasFocus=function(){return document.activeElement===W.content||W.content.contains(document.activeElement)},W.buildClassName=function(Q,fe){var se=(typeof fe>"u"?"undefined":r(fe))==="object"?fe:{base:C[Q],afterOpen:C[Q]+"--after-open",beforeClose:C[Q]+"--before-close"},U=se.base;return W.state.afterOpen&&(U=U+" "+se.afterOpen),W.state.beforeClose&&(U=U+" "+se.beforeClose),typeof fe=="string"&&fe?U+" "+fe:U},W.attributesFromObject=function(Q,fe){return Object.keys(fe).reduce(function(se,U){return se[Q+"-"+U]=fe[U],se},{})},W.state={afterOpen:!1,beforeClose:!1},W.shouldClose=null,W.moveFromContentToOverlay=null,W}return o(ae,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(W,Q){this.props.isOpen&&!W.isOpen?this.open():!this.props.isOpen&&W.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Q.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var W=this.props,Q=W.appElement,fe=W.ariaHideApp,se=W.htmlOpenClassName,U=W.bodyOpenClassName,X=W.parentSelector,ge=X&&X().ownerDocument||document;U&&D.add(ge.body,U),se&&D.add(ge.getElementsByTagName("html")[0],se),fe&&(N+=1,S.hide(Q)),j.default.register(this)}},{key:"render",value:function(){var W=this.props,Q=W.id,fe=W.className,se=W.overlayClassName,U=W.defaultStyles,X=W.children,ge=fe?{}:U.content,ke=se?{}:U.overlay;if(this.shouldBeClosed())return null;var be={ref:this.setOverlayRef,className:this.buildClassName("overlay",se),style:t({},ke,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Oe=t({id:Q,ref:this.setContentRef,style:t({},ge,this.props.style.content),className:this.buildClassName("content",fe),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),$e=this.props.contentElement(Oe,X);return this.props.overlayElement(be,$e)}}]),ae}(a.Component);R.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},R.propTypes={isOpen:h.default.bool.isRequired,defaultStyles:h.default.shape({content:h.default.object,overlay:h.default.object}),style:h.default.shape({content:h.default.object,overlay:h.default.object}),className:h.default.oneOfType([h.default.string,h.default.object]),overlayClassName:h.default.oneOfType([h.default.string,h.default.object]),parentSelector:h.default.func,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,ariaHideApp:h.default.bool,appElement:h.default.oneOfType([h.default.instanceOf(L.default),h.default.instanceOf(x.SafeHTMLCollection),h.default.instanceOf(x.SafeNodeList),h.default.arrayOf(h.default.instanceOf(L.default))]),onAfterOpen:h.default.func,onAfterClose:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,role:h.default.string,contentLabel:h.default.string,aria:h.default.object,data:h.default.object,children:h.default.node,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func,testId:h.default.string},e.default=R,n.exports=e.default}(wc,wc.exports)),wc.exports}function T0(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function I0(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function S0(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}T0.__suppressDeprecationWarning=!0;I0.__suppressDeprecationWarning=!0;S0.__suppressDeprecationWarning=!0;function SS(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,o=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||r!==null||o!==null){var a=n.displayName||n.name,u=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+u+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=T0,e.componentWillReceiveProps=I0),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=S0;var h=e.componentDidUpdate;e.componentDidUpdate=function(m,_,E){var T=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;h.call(this,m,_,T)}}return n}const AS=Object.freeze(Object.defineProperty({__proto__:null,polyfill:SS},Symbol.toStringTag,{value:"Module"})),RS=qI(AS);var E_;function CS(){if(E_)return Pi;E_=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.bodyOpenClassName=Pi.portalClassName=void 0;var n=Object.assign||function(P){for(var N=1;N<arguments.length;N++){var R=arguments[N];for(var re in R)Object.prototype.hasOwnProperty.call(R,re)&&(P[re]=R[re])}return P},e=function(){function P(N,R){for(var re=0;re<R.length;re++){var ae=R[re];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(N,ae.key,ae)}}return function(N,R,re){return R&&P(N.prototype,R),re&&P(N,re),N}}(),t=$l(),r=x(t),o=Np(),a=x(o),u=_0(),h=x(u),d=IS(),m=x(d),_=E0(),E=D(_),T=Dp(),S=x(T),k=RS;function D(P){if(P&&P.__esModule)return P;var N={};if(P!=null)for(var R in P)Object.prototype.hasOwnProperty.call(P,R)&&(N[R]=P[R]);return N.default=P,N}function x(P){return P&&P.__esModule?P:{default:P}}function L(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")}function z(P,N){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:P}function j(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);P.prototype=Object.create(N&&N.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(P,N):P.__proto__=N)}var Y=Pi.portalClassName="ReactModalPortal",le=Pi.bodyOpenClassName="ReactModal__Body--open",oe=T.canUseDOM&&a.default.createPortal!==void 0,O=function(N){return document.createElement(N)},A=function(){return oe?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function C(P){return P()}var V=function(P){j(N,P);function N(){var R,re,ae,Se;L(this,N);for(var W=arguments.length,Q=Array(W),fe=0;fe<W;fe++)Q[fe]=arguments[fe];return Se=(re=(ae=z(this,(R=N.__proto__||Object.getPrototypeOf(N)).call.apply(R,[this].concat(Q))),ae),ae.removePortal=function(){!oe&&a.default.unmountComponentAtNode(ae.node);var se=C(ae.props.parentSelector);se&&se.contains(ae.node)?se.removeChild(ae.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ae.portalRef=function(se){ae.portal=se},ae.renderPortal=function(se){var U=A(),X=U(ae,r.default.createElement(m.default,n({defaultStyles:N.defaultStyles},se)),ae.node);ae.portalRef(X)},re),z(ae,Se)}return e(N,[{key:"componentDidMount",value:function(){if(T.canUseDOM){oe||(this.node=O("div")),this.node.className=this.props.portalClassName;var re=C(this.props.parentSelector);re.appendChild(this.node),!oe&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(re){var ae=C(re.parentSelector),Se=C(this.props.parentSelector);return{prevParent:ae,nextParent:Se}}},{key:"componentDidUpdate",value:function(re,ae,Se){if(T.canUseDOM){var W=this.props,Q=W.isOpen,fe=W.portalClassName;re.portalClassName!==fe&&(this.node.className=fe);var se=Se.prevParent,U=Se.nextParent;U!==se&&(se.removeChild(this.node),U.appendChild(this.node)),!(!re.isOpen&&!Q)&&!oe&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!T.canUseDOM||!this.node||!this.portal)){var re=this.portal.state,ae=Date.now(),Se=re.isOpen&&this.props.closeTimeoutMS&&(re.closesAt||ae+this.props.closeTimeoutMS);Se?(re.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,Se-ae)):this.removePortal()}}},{key:"render",value:function(){if(!T.canUseDOM||!oe)return null;!this.node&&oe&&(this.node=O("div"));var re=A();return re(r.default.createElement(m.default,n({ref:this.portalRef,defaultStyles:N.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(re){E.setElement(re)}}]),N}(t.Component);return V.propTypes={isOpen:h.default.bool.isRequired,style:h.default.shape({content:h.default.object,overlay:h.default.object}),portalClassName:h.default.string,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,className:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),overlayClassName:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),appElement:h.default.oneOfType([h.default.instanceOf(S.default),h.default.instanceOf(T.SafeHTMLCollection),h.default.instanceOf(T.SafeNodeList),h.default.arrayOf(h.default.instanceOf(S.default))]),onAfterOpen:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,ariaHideApp:h.default.bool,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,parentSelector:h.default.func,aria:h.default.object,data:h.default.object,role:h.default.string,contentLabel:h.default.string,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func},V.defaultProps={isOpen:!1,portalClassName:Y,bodyOpenClassName:le,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(N,R){return r.default.createElement("div",N,R)},contentElement:function(N,R){return r.default.createElement("div",N,R)}},V.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,k.polyfill)(V),Pi.default=V,Pi}var w_;function kS(){return w_||(w_=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=CS(),r=o(t);function o(a){return a&&a.__esModule?a:{default:a}}e.default=r.default,n.exports=e.default}(Ec,Ec.exports)),Ec.exports}var PS=kS();const A0=Ul(PS),bS="_wrapper_1u7sg_1",xS="_wrapper_large_1u7sg_5",OS="_skeleton_1u7sg_10",NS="_button_1u7sg_16",DS="_button_circle_1u7sg_40",hl={wrapper:bS,wrapper_large:xS,skeleton:OS,button:NS,button_circle:DS},LS="_icon_1vh8w_1",VS={icon:LS},MS=({children:n,className:e})=>Z.jsx("span",{className:Qt("material-symbols-outlined",VS.icon,e),"aria-hidden":"true",children:n}),FS="_wrapper_19a1s_9",US="_wrapper_disabled_19a1s_17",$S="_body_19a1s_20",jS="_spinner_19a1s_24",zr={wrapper:FS,wrapper_disabled:US,"wrapper_spinner-small":"_wrapper_spinner-small_19a1s_20",body:$S,spinner:jS,"spinner-wrapper":"_spinner-wrapper_19a1s_30"},zS="_loader_1dv2z_1",BS={loader:zS},T_="ToDo",R0=0,C0=99972349199e3,ED=4096,wD=8,TD=350,ID=80,SD=30,AD=4,RD=10,CD=10,kD=3,qS={emailRequired:"Email ",emailIncorrect:" email",passwordRequired:" ",passwordUpperCase:"        ",passwordLowerCase:"        ",passwordNumber:"      ",passwordMin:n=>`   ${n} `,passwordMax:n=>`   ${n} `,nameMax:n=>`   ${n} `,passwordRepeatRequired:"   ",passwordRepeatIncorrect:"  ",policyRequired:"    ",policyCheckbox:"    ",dateRequired:" ",nameTaskMax:n=>`    ${n} `,nameTaskRequired:"  ",nameTagMax:n=>`    ${n} `,nameTagRequired:"  ",hexColorInvalid:"    HEX",colorRequired:" ",dateRange:()=>{const n=new Date(R0).getFullYear(),e=new Date(C0).getFullYear();return`      ${n}.  ${e}.`}},PD={"auth/too-many-requests":"  ,  ","auth/user-not-found":"   ","auth/wrong-password":"   ","auth/invalid-credential":"   ","auth/invalid-display-name":" ","auth/invalid-email":" email","auth/invalid-password":" ","auth/password-does-not-meet-requirements":" ","auth/email-already-in-use":"   Email  ","auth/expired-action-code":"   ","auth/invalid-action-code":" ",unknown:" ,  "},HS={userLoading:"  ,   ",updateTask:"  ,   ",tasksLoading:"    ,   ",tasksLoadingShort:"  ",quantityUpcomingTasksLoading:"      ,   ",addTask:"  ,   ",saveTask:"  ,   ",deleteTask:"  ,   ",addTag:"  ,   ",saveTag:"  ,   ",deleteTag:"  ,   ",tagNameLoading:"   ,   ",tagLoading:"  ,   ",tagsLoading:"    ,   ",signOut:" ,   ",unknown:" ,  "},k0={common:"...",tasks:" ...",tags:" ..."},bD={todayTasks:"   ",tomorrowTasks:"   ",nearTasks:"  ",tags:" ",tasks:" ",tagSet:"  "},xD={addTask:" ",saveTask:" ",deleteTask:" ",addTag:" ",saveTag:" ",deleteTag:" ",resetPassword:"  email       ",confirmPasswordReset:"  "},WS=({isLoading:n,hiddenMessage:e=k0.common,children:t})=>Z.jsxs(Z.Fragment,{children:[Z.jsx("span",{className:Qt("visually-hidden",BS.loader),role:"status",children:n&&e}),t]});var F=$l();const Ue=Ul(F),OD=BI({__proto__:null,default:Ue},[F]),KS=Ue.createContext({}),P0=!0;function GS({baseColor:n,highlightColor:e,width:t,height:r,borderRadius:o,circle:a,direction:u,duration:h,enableAnimation:d=P0,customHighlightBackground:m}){const _={};return u==="rtl"&&(_["--animation-direction"]="reverse"),typeof h=="number"&&(_["--animation-duration"]=`${h}s`),d||(_["--pseudo-element-display"]="none"),(typeof t=="string"||typeof t=="number")&&(_.width=t),(typeof r=="string"||typeof r=="number")&&(_.height=r),(typeof o=="string"||typeof o=="number")&&(_.borderRadius=o),a&&(_.borderRadius="50%"),typeof n<"u"&&(_["--base-color"]=n),typeof e<"u"&&(_["--highlight-color"]=e),typeof m=="string"&&(_["--custom-highlight-background"]=m),_}function QS({count:n=1,wrapper:e,className:t,containerClassName:r,containerTestId:o,circle:a=!1,style:u,...h}){var d,m,_;const E=Ue.useContext(KS),T={...h};for(const[j,Y]of Object.entries(h))typeof Y>"u"&&delete T[j];const S={...E,...T,circle:a},k={...u,...GS(S)};let D="react-loading-skeleton";t&&(D+=` ${t}`);const x=(d=S.inline)!==null&&d!==void 0?d:!1,L=[],z=Math.ceil(n);for(let j=0;j<z;j++){let Y=k;if(z>n&&j===z-1){const oe=(m=Y.width)!==null&&m!==void 0?m:"100%",O=n%1,A=typeof oe=="number"?oe*O:`calc(${oe} * ${O})`;Y={...Y,width:A}}const le=Ue.createElement("span",{className:D,style:Y,key:j},"");x?L.push(le):L.push(Ue.createElement(Ue.Fragment,{key:j},le,Ue.createElement("br",null)))}return Ue.createElement("span",{className:r,"data-testid":o,"aria-live":"polite","aria-busy":(_=S.enableAnimation)!==null&&_!==void 0?_:P0},e?L.map((j,Y)=>Ue.createElement(e,{key:Y},j)):L)}const YS=n=>{const[e,t]=F.useState(n);return F.useEffect(()=>{let r;return n?r=setTimeout(()=>t(!0),300):t(!1),()=>clearTimeout(r)},[n]),e};var dl={},I_;function XS(){if(I_)return dl;I_=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.parse=u,dl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,S){const k=new a,D=T.length;if(D<2)return k;const x=(S==null?void 0:S.decode)||_;let L=0;do{const z=T.indexOf("=",L);if(z===-1)break;const j=T.indexOf(";",L),Y=j===-1?D:j;if(z>Y){L=T.lastIndexOf(";",z-1)+1;continue}const le=h(T,L,z),oe=d(T,z,le),O=T.slice(le,oe);if(k[O]===void 0){let A=h(T,z+1,Y),C=d(T,Y,A);const V=x(T.slice(A,C));k[O]=V}L=Y+1}while(L<D);return k}function h(T,S,k){do{const D=T.charCodeAt(S);if(D!==32&&D!==9)return S}while(++S<k);return k}function d(T,S,k){for(;S>k;){const D=T.charCodeAt(--S);if(D!==32&&D!==9)return S+1}return k}function m(T,S,k){const D=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const x=D(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let L=T+"="+x;if(!k)return L;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);L+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);L+="; Domain="+k.domain}if(k.path){if(!r.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);L+="; Path="+k.path}if(k.expires){if(!E(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);L+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(L+="; HttpOnly"),k.secure&&(L+="; Secure"),k.partitioned&&(L+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return L}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return o.call(T)==="[object Date]"}return dl}XS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S_="popstate";function JS(n={}){function e(r,o){let{pathname:a,search:u,hash:h}=r.location;return ep("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Al(o)}return eA(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZS(){return Math.random().toString(36).substring(2,10)}function A_(n,e){return{usr:n.state,key:n.key,idx:e}}function ep(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:t,key:e&&e.key||r||ZS()}}function Al({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function aa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function eA(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",d=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function E(){h="POP";let x=_(),L=x==null?null:x-m;m=x,d&&d({action:h,location:D.location,delta:L})}function T(x,L){h="PUSH";let z=ep(D.location,x,L);m=_()+1;let j=A_(z,m),Y=D.createHref(z);try{u.pushState(j,"",Y)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(Y)}a&&d&&d({action:h,location:D.location,delta:1})}function S(x,L){h="REPLACE";let z=ep(D.location,x,L);m=_();let j=A_(z,m),Y=D.createHref(z);u.replaceState(j,"",Y),a&&d&&d({action:h,location:D.location,delta:0})}function k(x){let L=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof x=="string"?x:Al(x);return z=z.replace(/ $/,"%20"),nt(L,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,L)}let D={get action(){return h},get location(){return n(o,u)},listen(x){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(S_,E),d=x,()=>{o.removeEventListener(S_,E),d=null}},createHref(x){return e(o,x)},createURL:k,encodeLocation(x){let L=k(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:S,go(x){return u.go(x)}};return D}function b0(n,e,t="/"){return tA(n,e,t,!1)}function tA(n,e,t,r){let o=typeof e=="string"?aa(e):e,a=Bi(o.pathname||"/",t);if(a==null)return null;let u=x0(n);nA(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=dA(a);h=fA(u[d],m,r)}return h}function x0(n,e=[],t=[],r=""){let o=(a,u,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(nt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=Kr([r,d.relativePath]),_=t.concat(d);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),x0(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:uA(m,a.index),routesMeta:_})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let d of O0(a.path))o(a,u,d)}),e}function O0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=O0(r.join("/")),h=[];return h.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function nA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var rA=/^:[\w-]+$/,iA=3,sA=2,oA=1,aA=10,lA=-2,R_=n=>n==="*";function uA(n,e){let t=n.split("/"),r=t.length;return t.some(R_)&&(r+=lA),e&&(r+=sA),t.filter(o=>!R_(o)).reduce((o,a)=>o+(rA.test(a)?iA:a===""?oA:aA),r)}function cA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function fA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=Qc({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},_),T=d.route;if(!E&&m&&t&&!r[r.length-1].route.index&&(E=Qc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Kr([a,E.pathname]),pathnameBase:yA(Kr([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Kr([a,E.pathnameBase]))}return u}function Qc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=hA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:E},T)=>{if(_==="*"){let k=h[T]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const S=h[T];return E&&!S?m[_]=void 0:m[_]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function hA(n,e=!1,t=!0){er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function dA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function pA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?aa(n):n;return{pathname:t?t.startsWith("/")?t:mA(t,e):e,search:_A(r),hash:vA(o)}}function mA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vd(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Lp(n){let e=gA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Vp(n,e,t,r=!1){let o;typeof n=="string"?o=aa(n):(o={...n},nt(!o.pathname||!o.pathname.includes("?"),Vd("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Vd("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Vd("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}h=E>=0?e[E]:"/"}let d=pA(o,h),m=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||_)&&(d.pathname+="/"),d}var Kr=n=>n.join("/").replace(/\/\/+/g,"/"),yA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_A=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var wA=["GET",...N0];new Set(wA);var la=F.createContext(null);la.displayName="DataRouter";var vf=F.createContext(null);vf.displayName="DataRouterState";var D0=F.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var TA=F.createContext(new Map);TA.displayName="Fetchers";var IA=F.createContext(null);IA.displayName="Await";var nr=F.createContext(null);nr.displayName="Navigation";var jl=F.createContext(null);jl.displayName="Location";var Ln=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var Mp=F.createContext(null);Mp.displayName="RouteError";function SA(n,{relative:e}={}){nt(ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(nr),{hash:o,pathname:a,search:u}=zl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Kr([t,a])),r.createHref({pathname:h,search:u,hash:o})}function ua(){return F.useContext(jl)!=null}function Yi(){return nt(ua(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(jl).location}var L0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V0(n){F.useContext(nr).static||F.useLayoutEffect(n)}function M0(){let{isDataRoute:n}=F.useContext(Ln);return n?UA():AA()}function AA(){nt(ua(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(la),{basename:e,navigator:t}=F.useContext(nr),{matches:r}=F.useContext(Ln),{pathname:o}=Yi(),a=JSON.stringify(Lp(r)),u=F.useRef(!1);return V0(()=>{u.current=!0}),F.useCallback((d,m={})=>{if(er(u.current,L0),!u.current)return;if(typeof d=="number"){t.go(d);return}let _=Vp(d,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Kr([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}var RA=F.createContext(null);function CA(n){let e=F.useContext(Ln).outlet;return e&&F.createElement(RA.Provider,{value:n},e)}function ND(){let{matches:n}=F.useContext(Ln),e=n[n.length-1];return e?e.params:{}}function zl(n,{relative:e}={}){let{matches:t}=F.useContext(Ln),{pathname:r}=Yi(),o=JSON.stringify(Lp(t));return F.useMemo(()=>Vp(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function kA(n,e){return F0(n,e)}function F0(n,e,t,r){var z;nt(ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=F.useContext(nr),{matches:u}=F.useContext(Ln),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",_=h?h.pathnameBase:"/",E=h&&h.route;{let j=E&&E.path||"";U0(m,!E||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let T=Yi(),S;if(e){let j=typeof e=="string"?aa(e):e;nt(_==="/"||((z=j.pathname)==null?void 0:z.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=T;let k=S.pathname||"/",D=k;if(_!=="/"){let j=_.replace(/^\//,"").split("/");D="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:b0(n,{pathname:D});er(E||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),er(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=NA(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Kr([_,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:Kr([_,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,r);return e&&L?F.createElement(jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function PA(){let n=FA(),e=EA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,u)}var bA=F.createElement(PA,null),xA=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Ln.Provider,{value:this.props.routeContext},F.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OA({routeContext:n,match:e,children:t}){let r=F.useContext(la);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ln.Provider,{value:n},t)}function NA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let d=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:_,errors:E}=t,T=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||T){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,_)=>{let E,T=!1,S=null,k=null;t&&(E=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||bA,u&&(h<0&&_===0?(U0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,k=null):h===_&&(T=!0,k=m.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,_+1)),x=()=>{let L;return E?L=S:T?L=k:m.route.Component?L=F.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=d,F.createElement(OA,{match:m,routeContext:{outlet:d,matches:D,isDataRoute:t!=null},children:L})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?F.createElement(xA,{location:t.location,revalidation:t.revalidation,component:S,error:E,children:x(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):x()},null)}function Fp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(n){let e=F.useContext(la);return nt(e,Fp(n)),e}function LA(n){let e=F.useContext(vf);return nt(e,Fp(n)),e}function VA(n){let e=F.useContext(Ln);return nt(e,Fp(n)),e}function Up(n){let e=VA(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function MA(){return Up("useRouteId")}function FA(){var r;let n=F.useContext(Mp),e=LA("useRouteError"),t=Up("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function UA(){let{router:n}=DA("useNavigate"),e=Up("useNavigate"),t=F.useRef(!1);return V0(()=>{t.current=!0}),F.useCallback(async(o,a={})=>{er(t.current,L0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var C_={};function U0(n,e,t){!e&&!C_[n]&&(C_[n]=!0,er(!1,t))}F.memo($A);function $A({routes:n,future:e,state:t}){return F0(n,void 0,t,e)}function k_({to:n,replace:e,state:t,relative:r}){nt(ua(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(nr);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Ln),{pathname:u}=Yi(),h=M0(),d=Vp(n,Lp(a),u,r==="path"),m=JSON.stringify(d);return F.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:r})},[h,m,r,e,t]),null}function jA(n){return CA(n.context)}function Ot(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){nt(!ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=aa(t));let{pathname:d="/",search:m="",hash:_="",state:E=null,key:T="default"}=t,S=F.useMemo(()=>{let k=Bi(d,u);return k==null?null:{location:{pathname:k,search:m,hash:_,state:E,key:T},navigationType:r}},[u,d,m,_,E,T,r]);return er(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:F.createElement(nr.Provider,{value:h},F.createElement(jl.Provider,{children:e,value:S}))}function BA({children:n,location:e}){return kA(tp(n),e)}function tp(n,e=[]){let t=[];return F.Children.forEach(n,(r,o)=>{if(!F.isValidElement(r))return;let a=[...e,o];if(r.type===F.Fragment){t.push.apply(t,tp(r.props.children,a));return}nt(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=tp(r.props.children,a)),t.push(u)}),t}var Dc="get",Lc="application/x-www-form-urlencoded";function Ef(n){return n!=null&&typeof n.tagName=="string"}function qA(n){return Ef(n)&&n.tagName.toLowerCase()==="button"}function HA(n){return Ef(n)&&n.tagName.toLowerCase()==="form"}function WA(n){return Ef(n)&&n.tagName.toLowerCase()==="input"}function KA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GA(n,e){return n.button===0&&(!e||e==="_self")&&!KA(n)}var Sc=null;function QA(){if(Sc===null)try{new FormData(document.createElement("form"),0),Sc=!1}catch{Sc=!0}return Sc}var YA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(n){return n!=null&&!YA.has(n)?(er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lc}"`),null):n}function XA(n,e){let t,r,o,a,u;if(HA(n)){let h=n.getAttribute("action");r=h?Bi(h,e):null,t=n.getAttribute("method")||Dc,o=Md(n.getAttribute("enctype"))||Lc,a=new FormData(n)}else if(qA(n)||WA(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Bi(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Dc,o=Md(n.getAttribute("formenctype"))||Md(h.getAttribute("enctype"))||Lc,a=new FormData(h,n),!QA()){let{name:m,type:_,value:E}=n;if(_==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,E)}}else{if(Ef(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dc,r=null,o=Lc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function $p(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function JA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eR(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await JA(a,t);return u.links?u.links():[]}return[]}));return iR(r.flat(1).filter(ZA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function P_(n,e,t,r,o,a){let u=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>{var _;return t[m].pathname!==d.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):a==="data"?e.filter((d,m)=>{var E;let _=r.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function tR(n,e,{includeHydrateFallback:t}={}){return nR(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function nR(n){return[...new Set(n)]}function rR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function iR(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(rR(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function sR(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function oR(){let n=F.useContext(la);return $p(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aR(){let n=F.useContext(vf);return $p(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jp=F.createContext(void 0);jp.displayName="FrameworkContext";function $0(){let n=F.useContext(jp);return $p(n,"You must render this element inside a <HydratedRouter> element"),n}function lR(n,e){let t=F.useContext(jp),[r,o]=F.useState(!1),[a,u]=F.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:_,onTouchStart:E}=e,T=F.useRef(null);F.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=L=>{L.forEach(z=>{u(z.isIntersecting)})},x=new IntersectionObserver(D,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[n]),F.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let S=()=>{o(!0)},k=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:pl(h,S),onBlur:pl(d,k),onMouseEnter:pl(m,S),onMouseLeave:pl(_,k),onTouchStart:pl(E,S)}]:[!1,T,{}]}function pl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uR({page:n,...e}){let{router:t}=oR(),r=F.useMemo(()=>b0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(fR,{page:n,matches:r,...e}):null}function cR(n){let{manifest:e,routeModules:t}=$0(),[r,o]=F.useState([]);return F.useEffect(()=>{let a=!1;return eR(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function fR({page:n,matches:e,...t}){let r=Yi(),{manifest:o,routeModules:a}=$0(),{loaderData:u,matches:h}=aR(),d=F.useMemo(()=>P_(n,e,h,o,r,"data"),[n,e,h,o,r]),m=F.useMemo(()=>P_(n,e,h,o,r,"assets"),[n,e,h,o,r]),_=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(x=>{var z;let L=o.routes[x.route.id];!L||!L.hasLoader||(!d.some(j=>j.route.id===x.route.id)&&x.route.id in u&&((z=a[x.route.id])!=null&&z.shouldRevalidate)||L.hasClientLoader?k=!0:S.add(x.route.id))}),S.size===0)return[];let D=sR(n);return k&&S.size>0&&D.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[D.pathname+D.search]},[u,r,o,d,e,n,a]),E=F.useMemo(()=>tR(m,o),[m,o]),T=cR(m);return F.createElement(F.Fragment,null,_.map(S=>F.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),E.map(S=>F.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),T.map(({key:S,link:k})=>F.createElement("link",{key:S,...k})))}function hR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.2.0")}catch{}function dR({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=JS({window:t,v5Compat:!0}));let o=r.current,[a,u]=F.useState({action:o.action,location:o.location}),h=F.useCallback(d=>{F.startTransition(()=>u(d))},[u]);return F.useLayoutEffect(()=>o.listen(h),[o,h]),F.createElement(zA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zp=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:d,to:m,preventScrollReset:_,viewTransition:E,...T},S){let{basename:k}=F.useContext(nr),D=typeof m=="string"&&z0.test(m),x,L=!1;if(typeof m=="string"&&D&&(x=m,j0))try{let C=new URL(window.location.href),V=m.startsWith("//")?new URL(C.protocol+m):new URL(m),P=Bi(V.pathname,k);V.origin===C.origin&&P!=null?m=P+V.search+V.hash:L=!0}catch{er(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=SA(m,{relative:o}),[j,Y,le]=lR(r,T),oe=yR(m,{replace:u,state:h,target:d,preventScrollReset:_,relative:o,viewTransition:E});function O(C){e&&e(C),C.defaultPrevented||oe(C)}let A=F.createElement("a",{...T,...le,href:x||z,onClick:L||a?e:O,ref:hR(S,Y),target:d,"data-discover":!D&&t==="render"?"true":void 0});return j&&!D?F.createElement(F.Fragment,null,A,F.createElement(uR,{page:z})):A});zp.displayName="Link";var pR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:d,...m},_){let E=zl(u,{relative:m.relative}),T=Yi(),S=F.useContext(vf),{navigator:k,basename:D}=F.useContext(nr),x=S!=null&&TR(E)&&h===!0,L=k.encodeLocation?k.encodeLocation(E).pathname:E.pathname,z=T.pathname,j=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),j=j?j.toLowerCase():null,L=L.toLowerCase()),j&&D&&(j=Bi(j,D)||j);const Y=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let le=z===L||!o&&z.startsWith(L)&&z.charAt(Y)==="/",oe=j!=null&&(j===L||!o&&j.startsWith(L)&&j.charAt(L.length)==="/"),O={isActive:le,isPending:oe,isTransitioning:x},A=le?e:void 0,C;typeof r=="function"?C=r(O):C=[r,le?"active":null,oe?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(O):a;return F.createElement(zp,{...m,"aria-current":A,className:C,ref:_,style:V,to:u,viewTransition:h},typeof d=="function"?d(O):d)});pR.displayName="NavLink";var mR=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Dc,action:h,onSubmit:d,relative:m,preventScrollReset:_,viewTransition:E,...T},S)=>{let k=ER(),D=wR(h,{relative:m}),x=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&z0.test(h),z=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let Y=j.nativeEvent.submitter,le=(Y==null?void 0:Y.getAttribute("formmethod"))||u;k(Y||j.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:E})};return F.createElement("form",{ref:S,method:x,action:D,onSubmit:r?d:z,...T,"data-discover":!L&&n==="render"?"true":void 0})});mR.displayName="Form";function gR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B0(n){let e=F.useContext(la);return nt(e,gR(n)),e}function yR(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=M0(),d=Yi(),m=zl(n,{relative:a});return F.useCallback(_=>{if(GA(_,e)){_.preventDefault();let E=t!==void 0?t:Al(d)===Al(m);h(n,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[d,h,m,t,r,e,n,o,a,u])}var _R=0,vR=()=>`__${String(++_R)}__`;function ER(){let{router:n}=B0("useSubmit"),{basename:e}=F.useContext(nr),t=MA();return F.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:d,body:m}=XA(r,e);if(o.navigate===!1){let _=o.fetcherKey||vR();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function wR(n,{relative:e}={}){let{basename:t}=F.useContext(nr),r=F.useContext(Ln);nt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...zl(n||".",{relative:e})},u=Yi();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(E=>E).forEach(E=>h.append("index",E));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Kr([t,a.pathname])),Al(a)}function TR(n,e={}){let t=F.useContext(D0);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=B0("useViewTransitionState"),o=zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Bi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Bi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qc(o.pathname,u)!=null||Qc(o.pathname,a)!=null}new TextEncoder;const q0=({type:n,to:e,isSkeleton:t,isLoading:r=!1,isLoadingSkeleton:o=!1,isSpinnerSmall:a=!0,disabled:u,className:h,children:d,...m})=>{const _=YS(r),E=a?d:Z.jsxs("span",{className:zr.body,children:[_&&Z.jsx("span",{className:zr.spinner}),d]}),T=Qt(zr.button,h==null?void 0:h.button),S=u||r;return Z.jsxs("div",{className:Qt(zr.wrapper,h==null?void 0:h.wrapper,{[zr.wrapper_disabled]:S,[zr["wrapper_spinner-small"]]:a}),children:[Z.jsx(WS,{isLoading:o,children:t?Z.jsx(QS,{className:Qt(zr.skeleton,h==null?void 0:h.skeleton)}):Z.jsx(Z.Fragment,{children:e!==void 0?Z.jsx(zp,{to:e,className:T,...m,children:E}):Z.jsx("button",{type:n??"button",className:T,disabled:S,...m,children:E})})}),_&&a&&Z.jsx("span",{className:zr["spinner-wrapper"],children:Z.jsx("span",{className:zr.spinner})})]})},IR=({hiddenName:n,styleType:e="default",size:t="default",className:r,children:o,...a})=>Z.jsxs(q0,{...a,className:{wrapper:Qt(hl.wrapper,hl[`wrapper_${t}`],r),button:Qt(hl.button,hl[`button_${e}`]),skeleton:hl.skeleton},children:[Z.jsx("span",{className:"visually-hidden",children:n}),Z.jsx(MS,{children:o})]}),SR=()=>{const n=F.createContext(void 0);return[()=>{const r=F.useContext(n);if(!r)throw new Error("This component can only be called inside the parent component.");return r},({children:r,value:o})=>Z.jsx(n.Provider,{value:o,children:r})]},[AR,RR]=SR(),wf=({role:n="dialog",styleModal:e="popup",isOpen:t,children:r,animation:o="fade",className:a,onClose:u,"aria-labelledby":h,"aria-describedby":d})=>Z.jsx(RR,{value:{onClose:u},children:Z.jsx(A0,{contentRef:m=>m==null?void 0:m.removeAttribute("aria-modal"),role:n,isOpen:t,onRequestClose:u,bodyOpenClassName:e!=="dialog"?on["body-open"]:null,shouldCloseOnOverlayClick:e!=="dialog",className:Qt(on.modal,a==null?void 0:a.modal),closeTimeoutMS:o==="fade"?200:600,overlayClassName:{base:Qt(on.root,on[`root_${e}`],on[`root_animation-${o}`],a==null?void 0:a.root),afterOpen:on[`root_after-open-${o}`],beforeClose:on[`root_before-close-${o}`]},aria:{labelledby:h,describedby:d},overlayElement:(m,_)=>Z.jsxs("div",{...m,children:[Z.jsx("div",{className:on.overlay}),Z.jsx("div",{className:on.container,children:_})]}),children:r})}),CR=({id:n,children:e})=>{const{onClose:t}=AR();return Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:on.close,children:Z.jsx(IR,{className:on.close,size:"large",hiddenName:"",onClick:t,children:"close"})}),Z.jsx("div",{id:n,className:Qt("h2",on.title),children:e})]})};wf.Title=CR;const kR=({children:n})=>Z.jsx("div",{className:on.buttons,children:n});wf.Buttons=kR;const PR=({className:n,children:e})=>Z.jsx("div",{className:Qt(on.description,n),children:e});wf.Description=PR;const bR="_button_45jc2_1",xR="_button_medium_45jc2_26",OR="_button_small_45jc2_29",NR="_button_border_45jc2_35",DR="_button_delete_45jc2_58",LR="_wrapper_45jc2_81",VR="_wrapper_small_45jc2_86",MR="_wrapper_medium_45jc2_90",FR="_wrapper_full_45jc2_93",UR="_skeleton_45jc2_102",$R="_skeleton_full_45jc2_106",Ps={button:bR,button_medium:xR,button_small:OR,button_border:NR,button_delete:DR,wrapper:LR,wrapper_small:VR,wrapper_medium:MR,wrapper_full:FR,skeleton:UR,skeleton_full:$R},H0=({size:n="default",styleType:e="default",children:t,isFull:r,className:o,...a})=>Z.jsx(q0,{isSpinnerSmall:n==="small",className:{wrapper:Qt(Ps.wrapper,Ps[`wrapper_${n}`],o,{[Ps.wrapper_full]:r}),button:Qt(Ps.button,Ps[`button_${n}`],Ps[`button_${e}`]),skeleton:Qt(Ps.skeleton)},...a,children:t});var Fd,b_;function jR(){if(b_)return Fd;b_=1;function n(L){this._maxSize=L,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(L){return this._values[L]},n.prototype.set=function(L,z){return this._size>=this._maxSize&&this.clear(),L in this._values||this._size++,this._values[L]=z};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,r=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,h=new n(u),d=new n(u),m=new n(u);Fd={Cache:n,split:E,normalizePath:_,setter:function(L){var z=_(L);return d.get(L)||d.set(L,function(Y,le){for(var oe=0,O=z.length,A=Y;oe<O-1;){var C=z[oe];if(C==="__proto__"||C==="constructor"||C==="prototype")return Y;A=A[z[oe++]]}A[z[oe]]=le})},getter:function(L,z){var j=_(L);return m.get(L)||m.set(L,function(le){for(var oe=0,O=j.length;oe<O;)if(le!=null||!z)le=le[j[oe++]];else return;return le})},join:function(L){return L.reduce(function(z,j){return z+(S(j)||t.test(j)?"["+j+"]":(z?".":"")+j)},"")},forEach:function(L,z,j){T(Array.isArray(L)?L:E(L),z,j)}};function _(L){return h.get(L)||h.set(L,E(L).map(function(z){return z.replace(a,"$2")}))}function E(L){return L.match(e)||[""]}function T(L,z,j){var Y=L.length,le,oe,O,A;for(oe=0;oe<Y;oe++)le=L[oe],le&&(x(le)&&(le='"'+le+'"'),A=S(le),O=!A&&/^\d+$/.test(le),z.call(j,le,A,O,oe,L))}function S(L){return typeof L=="string"&&L&&["'",'"'].indexOf(L.charAt(0))!==-1}function k(L){return L.match(r)&&!L.match(t)}function D(L){return o.test(L)}function x(L){return!S(L)&&(k(L)||D(L))}return Fd}var Os=jR(),Ud,x_;function zR(){if(x_)return Ud;x_=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=_=>_.match(n)||[],t=_=>_[0].toUpperCase()+_.slice(1),r=(_,E)=>e(_).join(E).toLowerCase(),o=_=>e(_).reduce((E,T)=>`${E}${E?T[0].toUpperCase()+T.slice(1).toLowerCase():T.toLowerCase()}`,"");return Ud={words:e,upperFirst:t,camelCase:o,pascalCase:_=>t(o(_)),snakeCase:_=>r(_,"_"),kebabCase:_=>r(_,"-"),sentenceCase:_=>t(r(_," ")),titleCase:_=>e(_).map(t).join(" ")},Ud}var $d=zR(),Ac={exports:{}},O_;function BR(){if(O_)return Ac.exports;O_=1,Ac.exports=function(o){return n(e(o),o)},Ac.exports.array=n;function n(o,a){var u=o.length,h=new Array(u),d={},m=u,_=t(a),E=r(o);for(a.forEach(function(S){if(!E.has(S[0])||!E.has(S[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});m--;)d[m]||T(o[m],m,new Set);return h;function T(S,k,D){if(D.has(S)){var x;try{x=", node was:"+JSON.stringify(S)}catch{x=""}throw new Error("Cyclic dependency"+x)}if(!E.has(S))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(S));if(!d[k]){d[k]=!0;var L=_.get(S)||new Set;if(L=Array.from(L),k=L.length){D.add(S);do{var z=L[--k];T(z,E.get(z),D)}while(k);D.delete(S)}h[--u]=S}}}function e(o){for(var a=new Set,u=0,h=o.length;u<h;u++){var d=o[u];a.add(d[0]),a.add(d[1])}return Array.from(a)}function t(o){for(var a=new Map,u=0,h=o.length;u<h;u++){var d=o[u];a.has(d[0])||a.set(d[0],new Set),a.has(d[1])||a.set(d[1],new Set),a.get(d[0]).add(d[1])}return a}function r(o){for(var a=new Map,u=0,h=o.length;u<h;u++)a.set(o[u],u);return a}return Ac.exports}var qR=BR();const HR=Ul(qR),WR=Object.prototype.toString,KR=Error.prototype.toString,GR=RegExp.prototype.toString,QR=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",YR=/^Symbol\((.*)\)(.*)$/;function XR(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function N_(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return XR(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return QR.call(n).replace(YR,"Symbol($1)");const r=WR.call(n).slice(8,-1);return r==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):r==="Error"||n instanceof Error?"["+KR.call(n)+"]":r==="RegExp"?GR.call(n):null}function Gr(n,e){let t=N_(n,e);return t!==null?t:JSON.stringify(n,function(r,o){let a=N_(this[r],e);return a!==null?a:o},2)}function W0(n){return n==null?[]:[].concat(n)}let K0,G0,Q0,JR=/\$\{\s*(\w+)\s*\}/g;K0=Symbol.toStringTag;class D_{constructor(e,t,r,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[K0]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=o,this.errors=[],this.inner=[],W0(e).forEach(a=>{if(ln.isError(a)){this.errors.push(...a.errors);const u=a.inner.length?a.inner:[a];this.inner.push(...u)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}G0=Symbol.hasInstance;Q0=Symbol.toStringTag;class ln extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),typeof e=="string"?e.replace(JR,(o,a)=>Gr(t[a])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,o,a){const u=new D_(e,t,r,o);if(a)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Q0]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ln)}static[G0](e){return D_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let mr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:r})=>{const o=r!=null&&r!==t?` (cast from the value \`${Gr(r,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Gr(t,!0)}\``+o:`${n} must match the configured type. The validated value was: \`${Gr(t,!0)}\``+o}},sn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},xi={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},np={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},rp={isValue:"${path} field must be ${value}"},Vc={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Mc={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},ZR={notType:n=>{const{path:e,value:t,spec:r}=n,o=r.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${Gr(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${Gr(t,!0)}\``}return ln.formatError(mr.notType,n)}};var eC=Object.assign(Object.create(null),{mixed:mr,string:sn,number:xi,date:np,object:Vc,array:Mc,boolean:rp,tuple:ZR});const Tf=n=>n&&n.__isYupSchema__;class Yc{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:o,otherwise:a}=t,u=typeof r=="function"?r:(...h)=>h.every(d=>d===r);return new Yc(e,(h,d)=>{var m;let _=u(...h)?o:a;return(m=_==null?void 0:_(d))!=null?m:d})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(a=>a.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(r,e,t);if(o===void 0||o===e)return e;if(!Tf(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const Rc={context:"$",value:"."};function DD(n,e){return new Xi(n,e)}class Xi{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Rc.context,this.isValue=this.key[0]===Rc.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Rc.context:this.isValue?Rc.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Os.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let o=this.isContext?r:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Xi.prototype.__isYupRef=!0;const Jn=n=>n==null;function Fo(n){function e({value:t,path:r="",options:o,originalValue:a,schema:u},h,d){const{name:m,test:_,params:E,message:T,skipAbsent:S}=n;let{parent:k,context:D,abortEarly:x=u.spec.abortEarly,disableStackTrace:L=u.spec.disableStackTrace}=o;function z(P){return Xi.isRef(P)?P.getValue(t,k,D):P}function j(P={}){const N=Object.assign({value:t,originalValue:a,label:u.spec.label,path:P.path||r,spec:u.spec,disableStackTrace:P.disableStackTrace||L},E,P.params);for(const re of Object.keys(N))N[re]=z(N[re]);const R=new ln(ln.formatError(P.message||T,N),t,N.path,P.type||m,N.disableStackTrace);return R.params=N,R}const Y=x?h:d;let le={path:r,parent:k,type:m,from:o.from,createError:j,resolve:z,options:o,originalValue:a,schema:u};const oe=P=>{ln.isError(P)?Y(P):P?d(null):Y(j())},O=P=>{ln.isError(P)?Y(P):h(P)};if(S&&Jn(t))return oe(!0);let C;try{var V;if(C=_.call(le,t,le),typeof((V=C)==null?void 0:V.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${le.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(oe,O)}}catch(P){O(P);return}oe(C)}return e.OPTIONS=n,e}function tC(n,e,t,r=t){let o,a,u;return e?(Os.forEach(e,(h,d,m)=>{let _=d?h.slice(1,h.length-1):h;n=n.resolve({context:r,parent:o,value:t});let E=n.type==="tuple",T=m?parseInt(_,10):0;if(n.innerType||E){if(E&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(t&&T>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${h}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[T],n=E?n.spec.types[T]:n.innerType}if(!m){if(!n.fields||!n.fields[_])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${n.type}")`);o=t,t=t&&t[_],n=n.fields[_]}a=_,u=d?"["+h+"]":"."+h}),{schema:n,parent:o,parentPath:a}):{parent:o,parentPath:e,schema:n}}class Xc extends Set{describe(){const e=[];for(const t of this.values())e.push(Xi.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new Xc(this.values())}merge(e,t){const r=this.clone();return e.forEach(o=>r.add(o)),t.forEach(o=>r.delete(o)),r}}function Bo(n,e=new Map){if(Tf(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let r=0;r<n.length;r++)t[r]=Bo(n[r],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[r,o]of n.entries())t.set(r,Bo(o,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const r of n)t.add(Bo(r,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[r,o]of Object.entries(n))t[r]=Bo(o,e)}else throw Error(`Unable to clone ${n}`);return t}class En{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Xc,this._blacklist=new Xc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(mr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Bo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const o=Object.assign({},t.spec,r.spec);return r.spec=o,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(a=>{e.tests.forEach(u=>{a.test(u.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((o,a)=>a.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,o,a;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",a=r._cast(e,t);if(t.assert!==!1&&!r.isType(a)){if(o&&Jn(a))return a;let u=Gr(e),h=Gr(a);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${u} 
`+(h!==u?`result of cast: ${h}`:""))}return a}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((o,a)=>a.call(this,o,e,this),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,o){let{path:a,originalValue:u=e,strict:h=this.spec.strict}=t,d=e;h||(d=this._cast(d,Object.assign({assert:!1},t)));let m=[];for(let _ of Object.values(this.internalTests))_&&m.push(_);this.runTests({path:a,value:d,originalValue:u,options:t,tests:m},r,_=>{if(_.length)return o(_,d);this.runTests({path:a,value:d,originalValue:u,options:t,tests:this.tests},r,o)})}runTests(e,t,r){let o=!1,{tests:a,value:u,originalValue:h,path:d,options:m}=e,_=D=>{o||(o=!0,t(D,u))},E=D=>{o||(o=!0,r(D,u))},T=a.length,S=[];if(!T)return E([]);let k={value:u,originalValue:h,path:d,options:m,schema:this};for(let D=0;D<a.length;D++){const x=a[D];x(k,_,function(z){z&&(Array.isArray(z)?S.push(...z):S.push(z)),--T<=0&&E(S)})}}asNestedTest({key:e,index:t,parent:r,parentPath:o,originalParent:a,options:u}){const h=e??t;if(h==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof h=="number";let m=r[h];const _=Object.assign({},u,{strict:!0,parent:r,value:m,originalValue:a[h],key:void 0,[d?"index":"key"]:h,path:d||h.includes(".")?`${o||""}[${d?h:`"${h}"`}]`:(o?`${o}.`:"")+e});return(E,T,S)=>this.resolve(_)._validate(m,_,T,S)}validate(e,t){var r;let o=this.resolve(Object.assign({},t,{value:e})),a=(r=t==null?void 0:t.disableStackTrace)!=null?r:o.spec.disableStackTrace;return new Promise((u,h)=>o._validate(e,t,(d,m)=>{ln.isError(d)&&(d.value=m),h(d)},(d,m)=>{d.length?h(new ln(d,m,void 0,void 0,a)):u(m)}))}validateSync(e,t){var r;let o=this.resolve(Object.assign({},t,{value:e})),a,u=(r=t==null?void 0:t.disableStackTrace)!=null?r:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(h,d)=>{throw ln.isError(h)&&(h.value=d),h},(h,d)=>{if(h.length)throw new ln(h,e,void 0,void 0,u);a=d}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(ln.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(ln.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Bo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=Fo({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=Fo({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=mr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=mr.notNull){return this.nullability(!1,e)}required(e=mr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=mr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),o=Fo(t),a=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(u=>!(u.OPTIONS.name===t.name&&(a||u.OPTIONS.test===o.OPTIONS.test))),r.tests.push(o),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),o=W0(e).map(a=>new Xi(a));return o.forEach(a=>{a.isSibling&&r.deps.push(a.key)}),r.conditions.push(typeof t=="function"?new Yc(o,t):Yc.fromOptions(o,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=Fo({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=mr.oneOf){let r=this.clone();return e.forEach(o=>{r._whitelist.add(o),r._blacklist.delete(o)}),r.internalTests.whiteList=Fo({message:t,name:"oneOf",skipAbsent:!0,test(o){let a=this.schema._whitelist,u=a.resolveAll(this.resolve);return u.includes(o)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:u}})}}),r}notOneOf(e,t=mr.notOneOf){let r=this.clone();return e.forEach(o=>{r._blacklist.add(o),r._whitelist.delete(o)}),r.internalTests.blacklist=Fo({message:t,name:"notOneOf",test(o){let a=this.schema._blacklist,u=a.resolveAll(this.resolve);return u.includes(o)?this.createError({params:{values:Array.from(a).join(", "),resolved:u}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:o,optional:a,nullable:u}=t.spec;return{meta:o,label:r,optional:a,nullable:u,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(d=>({name:d.OPTIONS.name,params:d.OPTIONS.params})).filter((d,m,_)=>_.findIndex(E=>E.name===d.name)===m)}}}En.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])En.prototype[`${n}At`]=function(e,t,r={}){const{parent:o,parentPath:a,schema:u}=tC(this,e,t,r.context);return u[n](o&&o[a],Object.assign({},r,{parent:o,path:e}))};for(const n of["equals","is"])En.prototype[n]=En.prototype.oneOf;for(const n of["not","nope"])En.prototype[n]=En.prototype.notOneOf;function Y0(){return new X0}class X0 extends En{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=rp.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return Jn(t)||t===!0}})}isFalse(e=rp.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return Jn(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Y0.prototype=X0.prototype;const nC=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function rC(n){const e=ip(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function ip(n){var e,t;const r=nC.exec(n);return r?{year:Br(r[1]),month:Br(r[2],1)-1,day:Br(r[3],1),hour:Br(r[4]),minute:Br(r[5]),second:Br(r[6]),millisecond:r[7]?Br(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Br(r[10]),minuteOffset:Br(r[11])}:null}function Br(n,e=0){return Number(n)||e}let iC=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,sC=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,oC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,aC="^\\d{4}-\\d{2}-\\d{2}",lC="\\d{2}:\\d{2}:\\d{2}",uC="(([+-]\\d{2}(:?\\d{2})?)|Z)",cC=new RegExp(`${aC}T${lC}(\\.\\d+)?${uC}$`),fC=n=>Jn(n)||n===n.trim(),hC={}.toString();function dC(){return new J0}class J0 extends En{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===hC?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||mr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=sn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=sn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=sn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,o,a;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:o,name:a}=t:o=t),this.test({name:a||"matches",message:o||sn.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&r||u.search(e)!==-1})}email(e=sn.email){return this.matches(iC,{name:"email",message:e,excludeEmptyString:!0})}url(e=sn.url){return this.matches(sC,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=sn.uuid){return this.matches(oC,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,o;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:o=void 0}=e:t=e),this.matches(cC,{name:"datetime",message:t||sn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||sn.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:a=>{if(!a||r)return!0;const u=ip(a);return u?!!u.z:!1}}).test({name:"datetime_precision",message:t||sn.datetime_precision,params:{precision:o},skipAbsent:!0,test:a=>{if(!a||o==null)return!0;const u=ip(a);return u?u.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=sn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:fC})}lowercase(e=sn.lowercase){return this.transform(t=>Jn(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Jn(t)||t===t.toLowerCase()})}uppercase(e=sn.uppercase){return this.transform(t=>Jn(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Jn(t)||t===t.toUpperCase()})}}dC.prototype=J0.prototype;let pC=n=>n!=+n;function mC(){return new Z0}class Z0 extends En{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!pC(e)}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce)return e;let o=e;if(typeof o=="string"){if(o=o.replace(/\s/g,""),o==="")return NaN;o=+o}return r.isType(o)||o===null?o:parseFloat(o)})})}min(e,t=xi.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,t=xi.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,t=xi.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,t=xi.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=xi.positive){return this.moreThan(0,e)}negative(e=xi.negative){return this.lessThan(0,e)}integer(e=xi.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>Jn(e)?e:e|0)}round(e){var t;let r=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(o=>Jn(o)?o:Math[e](o))}}mC.prototype=Z0.prototype;let eE=new Date(""),gC=n=>Object.prototype.toString.call(n)==="[object Date]";function Bp(){return new Bl}class Bl extends En{constructor(){super({type:"date",check(e){return gC(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=rC(e),isNaN(e)?Bl.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(Xi.isRef(e))r=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=o}return r}min(e,t=np.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(r)}})}max(e,t=np.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(r)}})}}Bl.INVALID_DATE=eE;Bp.prototype=Bl.prototype;Bp.INVALID_DATE=eE;function yC(n,e=[]){let t=[],r=new Set,o=new Set(e.map(([u,h])=>`${u}-${h}`));function a(u,h){let d=Os.split(u)[0];r.add(d),o.has(`${h}-${d}`)||t.push([h,d])}for(const u of Object.keys(n)){let h=n[u];r.add(u),Xi.isRef(h)&&h.isSibling?a(h.path,u):Tf(h)&&"deps"in h&&h.deps.forEach(d=>a(d,u))}return HR.array(Array.from(r),t).reverse()}function L_(n,e){let t=1/0;return n.some((r,o)=>{var a;if((a=e.path)!=null&&a.includes(r))return t=o,!0}),t}function tE(n){return(e,t)=>L_(n,e)-L_(n,t)}const nE=(n,e,t)=>{if(typeof n!="string")return n;let r=n;try{r=JSON.parse(n)}catch{}return t.isType(r)?r:n};function Fc(n){if("fields"in n){const e={};for(const[t,r]of Object.entries(n.fields))e[t]=Fc(r);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Fc(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Fc)}):"optional"in n?n.optional():n}const _C=(n,e)=>{const t=[...Os.normalizePath(e)];if(t.length===1)return t[0]in n;let r=t.pop(),o=Os.getter(Os.join(t),!0)(n);return!!(o&&r in o)};let V_=n=>Object.prototype.toString.call(n)==="[object Object]";function M_(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const vC=tE([]);function rE(n){return new iE(n)}class iE extends En{constructor(e){super({type:"object",check(t){return V_(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=vC,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let a=this.fields,u=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,h=[].concat(this._nodes,Object.keys(o).filter(E=>!this._nodes.includes(E))),d={},m=Object.assign({},t,{parent:d,__validating:t.__validating||!1}),_=!1;for(const E of h){let T=a[E],S=E in o;if(T){let k,D=o[E];m.path=(t.path?`${t.path}.`:"")+E,T=T.resolve({value:D,context:t.context,parent:d});let x=T instanceof En?T.spec:void 0,L=x==null?void 0:x.strict;if(x!=null&&x.strip){_=_||E in o;continue}k=!t.__validating||!L?T.cast(o[E],m):o[E],k!==void 0&&(d[E]=k)}else S&&!u&&(d[E]=o[E]);(S!==E in d||d[E]!==o[E])&&(_=!0)}return _?d:o}_validate(e,t={},r,o){let{from:a=[],originalValue:u=e,recursive:h=this.spec.recursive}=t;t.from=[{schema:this,value:u},...a],t.__validating=!0,t.originalValue=u,super._validate(e,t,r,(d,m)=>{if(!h||!V_(m)){o(d,m);return}u=u||m;let _=[];for(let E of this._nodes){let T=this.fields[E];!T||Xi.isRef(T)||_.push(T.asNestedTest({options:t,key:E,parent:m,parentPath:t.path,originalParent:u}))}this.runTests({tests:_,value:m,originalValue:u,options:t},r,E=>{o(E.sort(this._sortErrors).concat(d),m)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[o,a]of Object.entries(this.fields)){const u=r[o];r[o]=u===void 0?a:u}return t.withMutation(o=>o.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var o;const a=this.fields[r];let u=e;(o=u)!=null&&o.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[r]})),t[r]=a&&"getDefault"in a?a.getDefault(u):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=yC(e,t),r._sortErrors=tE(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let o=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),o)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Fc(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,o])=>e.includes(r)&&e.includes(o)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let o=Os.getter(e,!0);return this.transform(a=>{if(!a)return a;let u=a;return _C(a,e)&&(u=Object.assign({},a),r||delete u[e],u[t]=o(a)),u})}json(){return this.transform(nE)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Vc.exact,test(t){if(t==null)return!0;const r=M_(this.schema,t);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Vc.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const a=M_(this.schema,o);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=Vc.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const o of Object.keys(t))r[e(o)]=t[o];return r})}camelCase(){return this.transformKeys($d.camelCase)}snakeCase(){return this.transformKeys($d.snakeCase)}constantCase(){return this.transformKeys(e=>$d.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[a,u]of Object.entries(t.fields)){var o;let h=e;(o=h)!=null&&o.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[a]})),r.fields[a]=u.describe(h)}return r}}rE.prototype=iE.prototype;function EC(n){return new sE(n)}class sE extends En{constructor(e){super({type:"array",spec:{types:e},check(t){return Array.isArray(t)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let o=!1;const a=r.map((u,h)=>{const d=this.innerType.cast(u,Object.assign({},t,{path:`${t.path||""}[${h}]`}));return d!==u&&(o=!0),d});return o?a:r}_validate(e,t={},r,o){var a;let u=this.innerType,h=(a=t.recursive)!=null?a:this.spec.recursive;t.originalValue!=null&&t.originalValue,super._validate(e,t,r,(d,m)=>{var _;if(!h||!u||!this._typeCheck(m)){o(d,m);return}let E=new Array(m.length);for(let S=0;S<m.length;S++){var T;E[S]=u.asNestedTest({options:t,index:S,parent:m,parentPath:t.path,originalParent:(T=t.originalValue)!=null?T:e})}this.runTests({value:m,tests:E,originalValue:(_=t.originalValue)!=null?_:e,options:t},r,S=>o(S.concat(d),m))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(nE)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Tf(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Gr(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=Mc.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t){return t=t||Mc.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t){return t=t||Mc.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:t==null?[]:[].concat(t))}compact(e){let t=e?(r,o,a)=>!e(r,o,a):r=>!!r;return this.transform(r=>r!=null?r.filter(t):r)}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);if(t.innerType){var o;let a=e;(o=a)!=null&&o.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[0]})),r.innerType=t.innerType.describe(a)}return r}}EC.prototype=sE.prototype;function wC(n){Object.keys(n).forEach(e=>{Object.keys(n[e]).forEach(t=>{eC[e][t]=n[e][t]})})}const TC=rE({accept:Y0().required(),end:Bp().required()}),IC=()=>{const n=new Date;n.setDate(n.getDate()+14);const e={accept:!0,end:n};localStorage.setItem("cookie-accept",JSON.stringify(e))},SC=async()=>{const n=localStorage.getItem("cookie-accept");if(!n)return!1;try{const e=JSON.parse(n),t=await TC.validate(e),r=new Date,o=new Date(t.end);return t.accept&&r<o}catch(e){return console.error(e),console.error('The "cookie-accept" parameter of the local storage has been cleared'),localStorage.removeItem("cookie-accept"),!1}},AC=()=>{const[n,e]=F.useState(!1);F.useEffect(()=>{(async()=>await SC()||e(!0))()},[]);const t=()=>{e(!1),IC()},r=F.useId();return Z.jsxs(wf,{role:"alertdialog",styleModal:"dialog","aria-labelledby":r,isOpen:n,onClose:t,className:{root:Rd.root},children:[Z.jsx("h2",{id:r,className:Qt("h2",Rd.title),children:"Cookie"}),Z.jsxs("div",{className:Rd.body,children:[Z.jsx("div",{children:"    "}),Z.jsx(H0,{size:"medium",onClick:t,children:""})]})]})},RC=()=>Z.jsxs(Z.Fragment,{children:[Z.jsx("main",{children:Z.jsx(jA,{})}),Z.jsx(AC,{})]});var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},CC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,d=o+2<n.length,m=d?n[o+2]:0,_=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|m>>6,S=m&63;d||(S=64,u||(T=64)),r.push(t[_],t[E],t[T],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||E==null)throw new kC;const T=a<<2|h>>4;if(r.push(T),m!==64){const S=h<<4&240|m>>2;if(r.push(S),E!==64){const k=m<<6&192|E;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PC=function(n){const e=oE(n);return aE.encodeByteArray(e,!0)},Jc=function(n){return PC(n).replace(/\./g,"")},lE=function(n){try{return aE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=()=>bC().__FIREBASE_DEFAULTS__,OC=()=>{if(typeof process>"u"||typeof F_>"u")return;const n=F_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lE(n[1]);return e&&JSON.parse(e)},If=()=>{try{return xC()||OC()||NC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uE=n=>{var e,t;return(t=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},DC=n=>{const e=uE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cE=()=>{var n;return(n=If())===null||n===void 0?void 0:n.config},fE=n=>{var e;return(e=If())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jc(JSON.stringify(t)),Jc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function FC(){var n;const e=(n=If())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $C(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){const n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BC(){return!FC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qC(){try{return typeof indexedDB=="object"}catch{return!1}}function HC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="FirebaseError";class ti extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=WC,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?KC(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new ti(o,h,r)}}function KC(n,e){return n.replace(GC,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const GC=/\{\$([^}]+)}/g;function QC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(U_(a)&&U_(u)){if(!Zc(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function U_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ml(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function gl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function YC(n,e){const t=new XC(n,e);return t.subscribe.bind(t)}class XC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");JC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class Ls{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new LC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t1(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e1(n){return n===bs?void 0:n}function t1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const r1={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},i1=Ne.INFO,s1={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},o1=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=s1[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=i1,this._logHandler=o1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const a1=(n,e)=>e.some(t=>n instanceof t);let $_,j_;function l1(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u1(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,sp=new WeakMap,dE=new WeakMap,zd=new WeakMap,Hp=new WeakMap;function c1(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Mi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&hE.set(t,n)}).catch(()=>{}),Hp.set(e,n),e}function f1(n){if(sp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});sp.set(n,e)}let op={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function h1(n){op=n(op)}function d1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Bd(this),e,...t);return dE.set(r,e.sort?e.sort():[e]),Mi(r)}:u1().includes(n)?function(...e){return n.apply(Bd(this),e),Mi(hE.get(this))}:function(...e){return Mi(n.apply(Bd(this),e))}}function p1(n){return typeof n=="function"?d1(n):(n instanceof IDBTransaction&&f1(n),a1(n,l1())?new Proxy(n,op):n)}function Mi(n){if(n instanceof IDBRequest)return c1(n);if(zd.has(n))return zd.get(n);const e=p1(n);return e!==n&&(zd.set(n,e),Hp.set(e,n)),e}const Bd=n=>Hp.get(n);function m1(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=Mi(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Mi(u.result),d.oldVersion,d.newVersion,Mi(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const g1=["get","getKey","getAll","getAllKeys","count"],y1=["put","add","delete","clear"],qd=new Map;function z_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=y1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||g1.includes(t)))return;const a=async function(u,...h){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&d.done]))[0]};return qd.set(e,a),a}h1(n=>({...n,get:(e,t,r)=>z_(e,t)||n.get(e,t,r),has:(e,t)=>!!z_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(v1(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function v1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ap="@firebase/app",B_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new qp("@firebase/app"),E1="@firebase/app-compat",w1="@firebase/analytics-compat",T1="@firebase/analytics",I1="@firebase/app-check-compat",S1="@firebase/app-check",A1="@firebase/auth",R1="@firebase/auth-compat",C1="@firebase/database",k1="@firebase/data-connect",P1="@firebase/database-compat",b1="@firebase/functions",x1="@firebase/functions-compat",O1="@firebase/installations",N1="@firebase/installations-compat",D1="@firebase/messaging",L1="@firebase/messaging-compat",V1="@firebase/performance",M1="@firebase/performance-compat",F1="@firebase/remote-config",U1="@firebase/remote-config-compat",$1="@firebase/storage",j1="@firebase/storage-compat",z1="@firebase/firestore",B1="@firebase/vertexai",q1="@firebase/firestore-compat",H1="firebase",W1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",K1={[ap]:"fire-core",[E1]:"fire-core-compat",[T1]:"fire-analytics",[w1]:"fire-analytics-compat",[S1]:"fire-app-check",[I1]:"fire-app-check-compat",[A1]:"fire-auth",[R1]:"fire-auth-compat",[C1]:"fire-rtdb",[k1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[b1]:"fire-fn",[x1]:"fire-fn-compat",[O1]:"fire-iid",[N1]:"fire-iid-compat",[D1]:"fire-fcm",[L1]:"fire-fcm-compat",[V1]:"fire-perf",[M1]:"fire-perf-compat",[F1]:"fire-rc",[U1]:"fire-rc-compat",[$1]:"fire-gcs",[j1]:"fire-gcs-compat",[z1]:"fire-fst",[q1]:"fire-fst-compat",[B1]:"fire-vertex","fire-js":"fire-js",[H1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Map,G1=new Map,up=new Map;function q_(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xo(n){const e=n.name;if(up.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,n);for(const t of ef.values())q_(t,n);for(const t of G1.values())q_(t,n);return!0}function Wp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new ql("app","Firebase",Q1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=W1;function pE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(t||(t=cE()),!t)throw Fi.create("no-options");const a=ef.get(o);if(a){if(Zc(t,a.options)&&Zc(r,a.config))return a;throw Fi.create("duplicate-app",{appName:o})}const u=new n1(o);for(const d of up.values())u.addComponent(d);const h=new Y1(t,r,u);return ef.set(o,h),h}function mE(n=lp){const e=ef.get(n);if(!e&&n===lp&&cE())return pE();if(!e)throw Fi.create("no-app",{appName:n});return e}function Ui(n,e,t){var r;let o=(r=K1[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(h.join(" "));return}Xo(new Ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebase-heartbeat-database",J1=1,Rl="firebase-heartbeat-store";let Hd=null;function gE(){return Hd||(Hd=m1(X1,J1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fi.create("idb-open",{originalErrorMessage:n.message})})),Hd}async function Z1(n){try{const t=(await gE()).transaction(Rl),r=await t.objectStore(Rl).get(yE(n));return await t.done,r}catch(e){if(e instanceof ti)Yr.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(t.message)}}}async function H_(n,e){try{const r=(await gE()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,yE(n)),await r.done}catch(t){if(t instanceof ti)Yr.warn(t.message);else{const r=Fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Yr.warn(r.message)}}}function yE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=1024,tk=30;class nk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ik(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>tk){const u=sk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:r,unsentEntries:o}=rk(this._heartbeatsCache.heartbeats),a=Jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Yr.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function rk(n,e=ek){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),K_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),K_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class ik{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qC()?HC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Z1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return H_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return H_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function K_(n){return Jc(JSON.stringify({version:2,heartbeats:n})).length}function sk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){Xo(new Ls("platform-logger",e=>new _1(e),"PRIVATE")),Xo(new Ls("heartbeat",e=>new nk(e),"PRIVATE")),Ui(ap,B_,n),Ui(ap,B_,"esm2017"),Ui("fire-js","")}ok("");function Kp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function _E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ak=_E,vE=new ql("auth","Firebase",_E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new qp("@firebase/auth");function lk(n,...e){tf.logLevel<=Ne.WARN&&tf.warn(`Auth (${ca}): ${n}`,...e)}function Uc(n,...e){tf.logLevel<=Ne.ERROR&&tf.error(`Auth (${ca}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(n,...e){throw Gp(n,...e)}function yr(n,...e){return Gp(n,...e)}function EE(n,e,t){const r=Object.assign(Object.assign({},ak()),{[e]:t});return new ql("auth","Firebase",r).create(e,{appName:n.name})}function Qr(n){return EE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return vE.create(n,...e)}function Ee(n,e,...t){if(!n)throw Gp(e,...t)}function qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uc(e),new Error(e)}function Xr(n,e){n||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uk(){return G_()==="http:"||G_()==="https:"}function G_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uk()||$C()||"connection"in navigator)?navigator.onLine:!0}function fk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=MC()||jC()}get(){return ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(n,e){Xr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Wl(3e4,6e4);function Tr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ir(n,e,t,r,o={}){return TE(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Hl(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:d},a);return UC()||(m.referrerPolicy="no-referrer"),wE.fetch()(IE(n,n.config.apiHost,t,h),m)})}async function TE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},hk),e);try{const o=new mk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Cc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Cc(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Cc(n,"user-disabled",u);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw EE(n,_,m);Dn(n,_)}}catch(o){if(o instanceof ti)throw o;Dn(n,"network-request-failed",{message:String(o)})}}async function Kl(n,e,t,r,o={}){const a=await Ir(n,e,t,r,o);return"mfaPendingCredential"in a&&Dn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function IE(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?Qp(n.config,o):`${n.config.apiScheme}://${o}`}function pk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),dk.get())})}}function Cc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=yr(n,e,r);return o.customData._tokenResponse=t,o}function Q_(n){return n!==void 0&&n.enterprise!==void 0}class gk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yk(n,e){return Ir(n,"GET","/v2/recaptchaConfig",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e){return Ir(n,"POST","/v1/accounts:delete",e)}async function SE(n,e){return Ir(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vk(n,e=!1){const t=ct(n),r=await t.getIdToken(e),o=Yp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:wl(Wd(o.auth_time)),issuedAtTime:wl(Wd(o.iat)),expirationTime:wl(Wd(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Wd(n){return Number(n)*1e3}function Yp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=lE(t);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Y_(n){const e=Yp(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ti&&Ek(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Ek({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Cl(n,SE(t,{idToken:r}));Ee(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?AE(a.providerUserInfo):[],h=Ik(n.providerData,u),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=d?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new fp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function Tk(n){const e=ct(n);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ik(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function AE(n){return n.map(e=>{var{providerId:t}=e,r=Kp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(n,e){const t=await TE(n,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=IE(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",wE.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ak(n,e){return Ir(n,"POST","/v2/accounts:revokeToken",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Y_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Sk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Wo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Hr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return vk(this,e)}reload(){return Tk(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Cl(this,_k(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,h,d,m,_;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:j,emailVerified:Y,isAnonymous:le,providerData:oe,stsTokenManager:O}=t;Ee(j&&O,e,"internal-error");const A=Wo.fromJSON(this.name,O);Ee(typeof j=="string",e,"internal-error"),bi(E,e.name),bi(T,e.name),Ee(typeof Y=="boolean",e,"internal-error"),Ee(typeof le=="boolean",e,"internal-error"),bi(S,e.name),bi(k,e.name),bi(D,e.name),bi(x,e.name),bi(L,e.name),bi(z,e.name);const C=new Hr({uid:j,auth:e,email:T,emailVerified:Y,displayName:E,isAnonymous:le,photoURL:k,phoneNumber:S,tenantId:D,stsTokenManager:A,createdAt:L,lastLoginAt:z});return oe&&Array.isArray(oe)&&(C.providerData=oe.map(V=>Object.assign({},V))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,t,r=!1){const o=new Wo;o.updateFromServerResponse(t);const a=new Hr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await nf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?AE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new Wo;h.updateFromIdToken(r);const d=new Hr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function Wr(n){Xr(n instanceof Function,"Expected a class definition");let e=X_.get(n);return e?(Xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,X_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RE.type="NONE";const J_=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n,e,t){return`firebase:${n}:${e}:${t}`}class Ko{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,a),this.fullPersistenceKey=$c("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ko(Wr(J_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Wr(J_);const u=$c(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const _=await m._get(u);if(_){const E=Hr._fromJSON(e,_);m!==a&&(h=E),a=m;break}}catch{}const d=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Ko(a,e,r):(a=d[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ko(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OE(e))return"Blackberry";if(NE(e))return"Webos";if(kE(e))return"Safari";if((e.includes("chrome/")||PE(e))&&!e.includes("edge/"))return"Chrome";if(xE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CE(n=Bt()){return/firefox\//i.test(n)}function kE(n=Bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PE(n=Bt()){return/crios\//i.test(n)}function bE(n=Bt()){return/iemobile/i.test(n)}function xE(n=Bt()){return/android/i.test(n)}function OE(n=Bt()){return/blackberry/i.test(n)}function NE(n=Bt()){return/webos/i.test(n)}function Xp(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Rk(n=Bt()){var e;return Xp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ck(){return zC()&&document.documentMode===10}function DE(n=Bt()){return Xp(n)||xE(n)||NE(n)||OE(n)||/windows phone/i.test(n)||bE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n,e=[]){let t;switch(n){case"Browser":t=Z_(Bt());break;case"Worker":t=`${Z_(Bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const d=e(a);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(n,e={}){return Ir(n,"GET","/v2/passwordPolicy",Tr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=6;class xk{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:bk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new kk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await SE(this,{idToken:e}),r=await Hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(o=d.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Qr(this));const t=e?ct(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pk(this),t=new xk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ak(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,o);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ni(n){return ct(n)}class ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=YC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nk(n){Sf=n}function VE(n){return Sf.loadJS(n)}function Dk(){return Sf.recaptchaEnterpriseScript}function Lk(){return Sf.gapiScript}function Vk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Mk{constructor(){this.enterprise=new Fk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Fk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Uk="recaptcha-enterprise",ME="NO_RECAPTCHA";class $k{constructor(e){this.type=Uk,this.auth=ni(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{yk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new gk(d);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function o(a,u,h){const d=window.grecaptcha;Q_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(ME)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&Q_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Dk();d.length!==0&&(d+=h),VE(d).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function tv(n,e,t,r=!1,o=!1){const a=new $k(n);let u;if(o)u=ME;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function rf(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await tv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await tv(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n,e){const t=Wp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Zc(a,e??{}))return o;Dn(o,"already-initialized")}return t.initialize({options:e})}function zk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Bk(n,e,t){const r=ni(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=FE(e),{host:u,port:h}=qk(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),Hk()}function FE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function qk(n){const e=FE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:nv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:nv(u)}}}function nv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Hk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(n,e){return Ir(n,"POST","/v1/accounts:resetPassword",Tr(n,e))}async function Wk(n,e){return Ir(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(n,e){return Kl(n,"POST","/v1/accounts:signInWithPassword",Tr(n,e))}async function Gk(n,e){return Ir(n,"POST","/v1/accounts:sendOobCode",Tr(n,e))}async function Qk(n,e){return Gk(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e){return Kl(n,"POST","/v1/accounts:signInWithEmailLink",Tr(n,e))}async function Xk(n,e){return Kl(n,"POST","/v1/accounts:signInWithEmailLink",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Jp{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new kl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new kl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rf(e,t,"signInWithPassword",Kk);case"emailLink":return Yk(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rf(e,r,"signUpPassword",Wk);case"emailLink":return Xk(e,{idToken:t,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n,e){return Kl(n,"POST","/v1/accounts:signInWithIdp",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="http://localhost";class Vs extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Kp(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Vs(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Go(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Go(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}buildRequest(){const e={requestUri:Jk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eP(n){const e=ml(gl(n)).link,t=e?ml(gl(e)).deep_link_id:null,r=ml(gl(n)).deep_link_id;return(r?ml(gl(r)).link:null)||r||t||e||n}class Af{constructor(e){var t,r,o,a,u,h;const d=ml(gl(e)),m=(t=d.apiKey)!==null&&t!==void 0?t:null,_=(r=d.oobCode)!==null&&r!==void 0?r:null,E=Zk((o=d.mode)!==null&&o!==void 0?o:null);Ee(m&&_&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=_,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=eP(e);try{return new Af(t)}catch{return null}}}function LD(n){return Af.parseLink(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,t){return kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Af.parseLink(t);return Ee(r,"argument-error"),kl._fromEmailAndCode(e,r.code,r.tenantId)}}fa.PROVIDER_ID="password";fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends $E{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Gl{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ni.credential(t,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Gl{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Gl{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(n,e){return Kl(n,"POST","/v1/accounts:signUp",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Hr._fromIdTokenResponse(e,r,o),u=rv(r);return new Ms({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=rv(r);return new Ms({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function rv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends ti{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new sf(e,t,r,o)}}function jE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(n,a,e,r):a})}async function nP(n,e,t=!1){const r=await Cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ms._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(n,e,t=!1){const{auth:r}=n;if(Nn(r.app))return Promise.reject(Qr(r));const o="reauthenticate";try{const a=await Cl(n,jE(r,o,e,n),t);Ee(a.idToken,r,"internal-error");const u=Yp(a.idToken);Ee(u,r,"internal-error");const{sub:h}=u;return Ee(n.uid===h,r,"user-mismatch"),Ms._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zE(n,e,t=!1){if(Nn(n.app))return Promise.reject(Qr(n));const r="signIn",o=await jE(n,r,e),a=await Ms._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function iP(n,e){return zE(ni(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?em._fromServerResponse(e,t):"totpInfo"in t?tm._fromServerResponse(e,t):Dn(e,"internal-error")}}class em extends Zp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new em(t)}}class tm extends Zp{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new tm(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n,e,t){var r;Ee(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),Ee(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Ee(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ee(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ee(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(n){const e=ni(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oP(n,e,t){const r=ni(n),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&sP(r,o,t),await rf(r,o,"getOobCode",Qk)}async function VD(n,e,t){await UE(ct(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nm(n),r})}async function MD(n,e){const t=ct(n),r=await UE(t,{oobCode:e}),o=r.requestType;switch(Ee(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(r.mfaInfo,t,"internal-error");default:Ee(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Zp._fromServerResponse(ni(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:o}}async function aP(n,e,t){if(Nn(n.app))return Promise.reject(Qr(n));const r=ni(n),u=await rf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&nm(n),d}),h=await Ms._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function lP(n,e,t){return Nn(n.app)?Promise.reject(Qr(n)):iP(ct(n),fa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nm(n),r})}function uP(n,e,t,r){return ct(n).onIdTokenChanged(e,t,r)}function cP(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function fP(n,e,t,r){return ct(n).onAuthStateChanged(e,t,r)}const of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=1e3,dP=10;class qE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Ck()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dP):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},hP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qE.type="LOCAL";const pP=qE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HE.type="SESSION";const WE=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),d=await mP(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,d)=>{const m=rm("",20);o.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(_),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function yP(n){_r().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function _P(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function EP(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firebaseLocalStorageDb",wP=1,af="firebaseLocalStorage",QE="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cf(n,e){return n.transaction([af],e?"readwrite":"readonly").objectStore(af)}function TP(){const n=indexedDB.deleteDatabase(GE);return new Ql(n).toPromise()}function hp(){const n=indexedDB.open(GE,wP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(af,{keyPath:QE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(af)?e(r):(r.close(),await TP(),e(await hp()))})})}async function iv(n,e,t){const r=Cf(n,!0).put({[QE]:e,value:t});return new Ql(r).toPromise()}async function IP(n,e){const t=Cf(n,!1).get(e),r=await new Ql(t).toPromise();return r===void 0?null:r.value}function sv(n,e){const t=Cf(n,!0).delete(e);return new Ql(t).toPromise()}const SP=800,AP=3;class YE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>AP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(EP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _P(),!this.activeServiceWorker)return;this.sender=new gP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await iv(e,of,"1"),await sv(e,of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>iv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>IP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Cf(o,!1).getAll();return new Ql(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YE.type="LOCAL";const RP=YE;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n,e){return e?Wr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kP(n){return zE(n.auth,new im(n),n.bypassAuthState)}function PP(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),rP(t,new im(n),n.bypassAuthState)}async function bP(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),nP(t,new im(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kP;case"linkViaPopup":case"linkViaRedirect":return bP;case"reauthViaPopup":case"reauthViaRedirect":return PP;default:Dn(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new Wl(2e3,1e4);class qo extends XE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xP.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="pendingRedirect",jc=new Map;class NP extends XE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const r=await DP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DP(n,e){const t=MP(e),r=VP(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function LP(n,e){jc.set(n._key(),e)}function VP(n){return Wr(n._redirectPersistence)}function MP(n){return $c(OP,n.config.apiKey,n.name)}async function FP(n,e,t=!1){if(Nn(n.app))return Promise.reject(Qr(n));const r=ni(n),o=CP(r,e),u=await new NP(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=10*60*1e3;class $P{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UP&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(e))}saveEventToCache(e){this.cachedEventUids.add(ov(e)),this.lastProcessedEventTime=Date.now()}}function ov(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(n,e={}){return Ir(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qP=/^https?/;async function HP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zP(n);for(const t of e)try{if(WP(t))return}catch{}Dn(n,"unauthorized-domain")}function WP(n){const e=cp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!qP.test(t))return!1;if(BP.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new Wl(3e4,6e4);function av(){const n=_r().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function GP(n){return new Promise((e,t)=>{var r,o,a;function u(){av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{av(),t(yr(n,"network-request-failed"))},timeout:KP.get()})}if(!((o=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=_r().gapi)===null||a===void 0)&&a.load)u();else{const h=Vk("iframefcb");return _r()[h]=()=>{gapi.load?u():t(yr(n,"network-request-failed"))},VE(`${Lk()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw zc=null,e})}let zc=null;function QP(n){return zc=zc||GP(n),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new Wl(5e3,15e3),XP="__/auth/iframe",JP="emulator/auth/iframe",ZP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tb(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qp(e,JP):`https://${n.config.authDomain}/${XP}`,r={apiKey:e.apiKey,appName:n.name,v:ca},o=eb.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Hl(r).slice(1)}`}async function nb(n){const e=await QP(n),t=_r().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:tb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=yr(n,"network-request-failed"),h=_r().setTimeout(()=>{a(u)},YP.get());function d(){_r().clearTimeout(h),o(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ib=500,sb=600,ob="_blank",ab="http://localhost";class lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lb(n,e,t,r=ib,o=sb){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},rb),{width:r.toString(),height:o.toString(),top:a,left:u}),m=Bt().toLowerCase();t&&(h=PE(m)?ob:t),CE(m)&&(e=e||ab,d.scrollbars="yes");const _=Object.entries(d).reduce((T,[S,k])=>`${T}${S}=${k},`,"");if(Rk(m)&&h!=="_self")return ub(e||"",h),new lv(null);const E=window.open(e||"",h,_);Ee(E,n,"popup-blocked");try{E.focus()}catch{}return new lv(E)}function ub(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__/auth/handler",fb="emulator/auth/handler",hb=encodeURIComponent("fac");async function uv(n,e,t,r,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ca,eventId:o};if(e instanceof $E){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",QC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof Gl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),m=d?`#${hb}=${encodeURIComponent(d)}`:"";return`${db(n)}?${Hl(h).slice(1)}${m}`}function db({config:n}){return n.emulator?Qp(n,fb):`https://${n.authDomain}/${cb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class pb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WE,this._completeRedirectFn=FP,this._overrideRedirectResult=LP}async _openPopup(e,t,r,o){var a;Xr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await uv(e,t,r,cp(),o);return lb(e,u,rm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await uv(e,t,r,cp(),o);return yP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Xr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await nb(e),r=new $P(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kd,{type:Kd},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Kd];u!==void 0&&t(!!u),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DE()||kE()||Xp()}}const mb=pb;var cv="@firebase/auth",fv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _b(n){Xo(new Ls("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(n)},m=new Ok(r,o,a,d);return zk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xo(new Ls("auth-internal",e=>{const t=ni(e.getProvider("auth").getImmediate());return(r=>new gb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(cv,fv,yb(n)),Ui(cv,fv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=5*60,Eb=fE("authIdTokenMaxAge")||vb;let hv=null;const wb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Eb)return;const o=t==null?void 0:t.token;hv!==o&&(hv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Tb(n=mE()){const e=Wp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jk(n,{popupRedirectResolver:mb,persistence:[RP,pP,WE]}),r=fE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=wb(a.toString());cP(t,u,()=>u(t.currentUser)),uP(t,h=>u(h))}}const o=uE("auth");return o&&Bk(t,`http://${o}`),t}function Ib(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Nk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=yr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",Ib().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_b("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yl(n,e,t,r){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function h(_){try{m(r.next(_))}catch(E){u(E)}}function d(_){try{m(r.throw(_))}catch(E){u(E)}}function m(_){_.done?a(_.value):o(_.value).then(h,d)}m((r=r.apply(n,[])).next())})}function Xl(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(_){return d([m,_])}}function d(m){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,o=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(m[0]===6&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(_){m=[6,_],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ho=function(){return Ho=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ho.apply(this,arguments)},ZE=function(n){return{loading:n==null,value:n}},Sb=function(){return function(n,e){switch(e.type){case"error":return Ho(Ho({},n),{error:e.error,loading:!1,value:void 0});case"reset":return ZE(e.defaultValue);case"value":return Ho(Ho({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},Ab=function(n){var e=n?n():void 0,t=F.useReducer(Sb(),ZE(e)),r=t[0],o=t[1],a=F.useCallback(function(){var d=n?n():void 0;o({type:"reset",defaultValue:d})},[n]),u=F.useCallback(function(d){o({type:"error",error:d})},[]),h=F.useCallback(function(d){o({type:"value",value:d})},[]);return F.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:u,setValue:h,value:r.value}},[r.error,r.loading,a,u,h,r.value])},Rb=function(n,e){var t=Ab(function(){return n.currentUser}),r=t.error,o=t.loading,a=t.setError,u=t.setValue,h=t.value;return F.useEffect(function(){var d=fP(n,function(m){return Yl(void 0,void 0,void 0,function(){var _;return Xl(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return E.sent(),[3,4];case 3:return _=E.sent(),a(_),[3,4];case 4:return u(m),[2]}})})},a);return function(){d()}},[n]),[h,o,r]},FD=function(n,e){var t=F.useState(),r=t[0],o=t[1],a=F.useState(),u=a[0],h=a[1],d=F.useState(!1),m=d[0],_=d[1],E=F.useCallback(function(T,S){return Yl(void 0,void 0,void 0,function(){var k,D;return Xl(this,function(x){switch(x.label){case 0:_(!0),o(void 0),x.label=1;case 1:return x.trys.push([1,5,6,7]),[4,aP(n,T,S)];case 2:return k=x.sent(),[3,4];case 3:x.sent(),x.label=4;case 4:return h(k),[2,k];case 5:return D=x.sent(),o(D),[3,7];case 6:return _(!1),[7];case 7:return[2]}})})},[n,e]);return[E,u,m,r]},UD=function(n){var e=F.useState(),t=e[0],r=e[1],o=F.useState(!1),a=o[0],u=o[1],h=F.useCallback(function(d,m){return Yl(void 0,void 0,void 0,function(){var _;return Xl(this,function(E){switch(E.label){case 0:u(!0),r(void 0),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,oP(n,d,m)];case 2:return E.sent(),[2,!0];case 3:return _=E.sent(),r(_),[2,!1];case 4:return u(!1),[7];case 5:return[2]}})})},[n]);return[h,a,t]},$D=function(n){var e=F.useState(),t=e[0],r=e[1],o=F.useState(),a=o[0],u=o[1],h=F.useState(!1),d=h[0],m=h[1],_=F.useCallback(function(E,T){return Yl(void 0,void 0,void 0,function(){var S,k;return Xl(this,function(D){switch(D.label){case 0:m(!0),r(void 0),D.label=1;case 1:return D.trys.push([1,3,4,5]),[4,lP(n,E,T)];case 2:return S=D.sent(),u(S),[2,S];case 3:return k=D.sent(),r(k),[3,5];case 4:return m(!1),[7];case 5:return[2]}})})},[n]);return[_,a,d,t]},jD=function(n){var e=F.useState(),t=e[0],r=e[1],o=F.useState(!1),a=o[0],u=o[1],h=F.useCallback(function(){return Yl(void 0,void 0,void 0,function(){var d;return Xl(this,function(m){switch(m.label){case 0:u(!0),r(void 0),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,n.signOut()];case 2:return m.sent(),[2,!0];case 3:return d=m.sent(),r(d),[2,!1];case 4:return u(!1),[7];case 5:return[2]}})})},[n]);return[h,a,t]},Cb="firebase",kb="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(Cb,kb,"app");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,ew;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function C(){}C.prototype=A.prototype,O.D=A.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(V,P,N){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return A.prototype[P].apply(V,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,C){C||(C=0);var V=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)V[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;16>P;++P)V[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=O.g[0],C=O.g[1],P=O.g[2];var N=O.g[3],R=A+(N^C&(P^N))+V[0]+3614090360&4294967295;A=C+(R<<7&4294967295|R>>>25),R=N+(P^A&(C^P))+V[1]+3905402710&4294967295,N=A+(R<<12&4294967295|R>>>20),R=P+(C^N&(A^C))+V[2]+606105819&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(A^P&(N^A))+V[3]+3250441966&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(N^C&(P^N))+V[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=N+(P^A&(C^P))+V[5]+1200080426&4294967295,N=A+(R<<12&4294967295|R>>>20),R=P+(C^N&(A^C))+V[6]+2821735955&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(A^P&(N^A))+V[7]+4249261313&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(N^C&(P^N))+V[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=N+(P^A&(C^P))+V[9]+2336552879&4294967295,N=A+(R<<12&4294967295|R>>>20),R=P+(C^N&(A^C))+V[10]+4294925233&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(A^P&(N^A))+V[11]+2304563134&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(N^C&(P^N))+V[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=N+(P^A&(C^P))+V[13]+4254626195&4294967295,N=A+(R<<12&4294967295|R>>>20),R=P+(C^N&(A^C))+V[14]+2792965006&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(A^P&(N^A))+V[15]+1236535329&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(P^N&(C^P))+V[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(A^C))+V[6]+3225465664&4294967295,N=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(N^A))+V[11]+643717713&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^A&(P^N))+V[0]+3921069994&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^N&(C^P))+V[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(A^C))+V[10]+38016083&4294967295,N=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(N^A))+V[15]+3634488961&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^A&(P^N))+V[4]+3889429448&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^N&(C^P))+V[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(A^C))+V[14]+3275163606&4294967295,N=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(N^A))+V[3]+4107603335&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^A&(P^N))+V[8]+1163531501&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^N&(C^P))+V[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(A^C))+V[2]+4243563512&4294967295,N=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(N^A))+V[7]+1735328473&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^A&(P^N))+V[12]+2368359562&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(C^P^N)+V[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=N+(A^C^P)+V[8]+2272392833&4294967295,N=A+(R<<11&4294967295|R>>>21),R=P+(N^A^C)+V[11]+1839030562&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^A)+V[14]+4259657740&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^N)+V[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=N+(A^C^P)+V[4]+1272893353&4294967295,N=A+(R<<11&4294967295|R>>>21),R=P+(N^A^C)+V[7]+4139469664&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^A)+V[10]+3200236656&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^N)+V[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=N+(A^C^P)+V[0]+3936430074&4294967295,N=A+(R<<11&4294967295|R>>>21),R=P+(N^A^C)+V[3]+3572445317&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^A)+V[6]+76029189&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^N)+V[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=N+(A^C^P)+V[12]+3873151461&4294967295,N=A+(R<<11&4294967295|R>>>21),R=P+(N^A^C)+V[15]+530742520&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^A)+V[2]+3299628645&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(P^(C|~N))+V[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=N+(C^(A|~P))+V[7]+1126891415&4294967295,N=A+(R<<10&4294967295|R>>>22),R=P+(A^(N|~C))+V[14]+2878612391&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~A))+V[5]+4237533241&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~N))+V[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=N+(C^(A|~P))+V[3]+2399980690&4294967295,N=A+(R<<10&4294967295|R>>>22),R=P+(A^(N|~C))+V[10]+4293915773&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~A))+V[1]+2240044497&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~N))+V[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=N+(C^(A|~P))+V[15]+4264355552&4294967295,N=A+(R<<10&4294967295|R>>>22),R=P+(A^(N|~C))+V[6]+2734768916&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~A))+V[13]+1309151649&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~N))+V[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=N+(C^(A|~P))+V[11]+3174756917&4294967295,N=A+(R<<10&4294967295|R>>>22),R=P+(A^(N|~C))+V[2]+718787259&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~A))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+N&4294967295}r.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var C=A-this.blockSize,V=this.B,P=this.h,N=0;N<A;){if(P==0)for(;N<=C;)o(this,O,N),N+=this.blockSize;if(typeof O=="string"){for(;N<A;)if(V[P++]=O.charCodeAt(N++),P==this.blockSize){o(this,V),P=0;break}}else for(;N<A;)if(V[P++]=O[N++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var C=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=C&255,C/=256;for(this.u(O),O=Array(16),A=C=0;4>A;++A)for(var V=0;32>V;V+=8)O[C++]=this.g[A]>>>V&255;return O};function a(O,A){var C=h;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=A(O)}function u(O,A){this.h=A;for(var C=[],V=!0,P=O.length-1;0<=P;P--){var N=O[P]|0;V&&N==A||(C[P]=N,V=!1)}this.g=C}var h={};function d(O){return-128<=O&&128>O?a(O,function(A){return new u([A|0],0>A?-1:0)}):new u([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return x(m(-O));for(var A=[],C=1,V=0;O>=C;V++)A[V]=O/C|0,C*=4294967296;return new u(A,0)}function _(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return x(_(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(A,8)),V=E,P=0;P<O.length;P+=8){var N=Math.min(8,O.length-P),R=parseInt(O.substring(P,P+N),A);8>N?(N=m(Math.pow(A,N)),V=V.j(N).add(m(R))):(V=V.j(C),V=V.add(m(R)))}return V}var E=d(0),T=d(1),S=d(16777216);n=u.prototype,n.m=function(){if(D(this))return-x(this).m();for(var O=0,A=1,C=0;C<this.g.length;C++){var V=this.i(C);O+=(0<=V?V:4294967296+V)*A,A*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(D(this))return"-"+x(this).toString(O);for(var A=m(Math.pow(O,6)),C=this,V="";;){var P=Y(C,A).g;C=L(C,P.j(A));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=P,k(C))return N+V;for(;6>N.length;)N="0"+N;V=N+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function D(O){return O.h==-1}n.l=function(O){return O=L(this,O),D(O)?-1:k(O)?0:1};function x(O){for(var A=O.g.length,C=[],V=0;V<A;V++)C[V]=~O.g[V];return new u(C,~O.h).add(T)}n.abs=function(){return D(this)?x(this):this},n.add=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],V=0,P=0;P<=A;P++){var N=V+(this.i(P)&65535)+(O.i(P)&65535),R=(N>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);V=R>>>16,N&=65535,R&=65535,C[P]=R<<16|N}return new u(C,C[C.length-1]&-2147483648?-1:0)};function L(O,A){return O.add(x(A))}n.j=function(O){if(k(this)||k(O))return E;if(D(this))return D(O)?x(this).j(x(O)):x(x(this).j(O));if(D(O))return x(this.j(x(O)));if(0>this.l(S)&&0>O.l(S))return m(this.m()*O.m());for(var A=this.g.length+O.g.length,C=[],V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<O.g.length;P++){var N=this.i(V)>>>16,R=this.i(V)&65535,re=O.i(P)>>>16,ae=O.i(P)&65535;C[2*V+2*P]+=R*ae,z(C,2*V+2*P),C[2*V+2*P+1]+=N*ae,z(C,2*V+2*P+1),C[2*V+2*P+1]+=R*re,z(C,2*V+2*P+1),C[2*V+2*P+2]+=N*re,z(C,2*V+2*P+2)}for(V=0;V<A;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=A;V<2*A;V++)C[V]=0;return new u(C,0)};function z(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function j(O,A){this.g=O,this.h=A}function Y(O,A){if(k(A))throw Error("division by zero");if(k(O))return new j(E,E);if(D(O))return A=Y(x(O),A),new j(x(A.g),x(A.h));if(D(A))return A=Y(O,x(A)),new j(x(A.g),A.h);if(30<O.g.length){if(D(O)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var C=T,V=A;0>=V.l(O);)C=le(C),V=le(V);var P=oe(C,1),N=oe(V,1);for(V=oe(V,2),C=oe(C,2);!k(V);){var R=N.add(V);0>=R.l(O)&&(P=P.add(C),N=R),V=oe(V,1),C=oe(C,1)}return A=L(O,P.j(A)),new j(P,A)}for(P=E;0<=O.l(A);){for(C=Math.max(1,Math.floor(O.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),N=m(C),R=N.j(A);D(R)||0<R.l(O);)C-=V,N=m(C),R=N.j(A);k(N)&&(N=T),P=P.add(N),O=L(O,R)}return new j(P,O)}n.A=function(O){return Y(this,O).h},n.and=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)&O.i(V);return new u(C,this.h&O.h)},n.or=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)|O.i(V);return new u(C,this.h|O.h)},n.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)^O.i(V);return new u(C,this.h^O.h)};function le(O){for(var A=O.g.length+1,C=[],V=0;V<A;V++)C[V]=O.i(V)<<1|O.i(V-1)>>>31;return new u(C,O.h)}function oe(O,A){var C=A>>5;A%=32;for(var V=O.g.length-C,P=[],N=0;N<V;N++)P[N]=0<A?O.i(N+C)>>>A|O.i(N+C+1)<<32-A:O.i(N+C);return new u(P,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ew=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,$i=u}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tw,yl,nw,Bc,dp,rw,iw,sw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in v))break e;v=v[B]}c=c[c.length-1],I=v[c],g=g(I),g!=I&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var v=0,I=!1,B={next:function(){if(!I&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function E(c,g,v){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function T(c,g,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,T.apply(null,arguments)}function S(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function k(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(I,B,G){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return g.prototype[B].apply(I,ce)}}function D(c){const g=c.length;if(0<g){const v=Array(g);for(let I=0;I<g;I++)v[I]=c[I];return v}return[]}function x(c,g){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(d(I)){const B=c.length||0,G=I.length||0;c.length=B+G;for(let ce=0;ce<G;ce++)c[B+ce]=I[ce]}else c.push(I)}}class L{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var le=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function oe(c,g,v){for(const I in c)g.call(v,c[I],I,c)}function O(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function A(c){const g={};for(const v in c)g[v]=c[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let v,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(v in I)c[v]=I[v];for(let G=0;G<C.length;G++)v=C[G],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function P(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function N(c){h.setTimeout(()=>{throw c},0)}function R(){var c=fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,v){const I=ae.get();I.set(g,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ae=new L(()=>new Se,c=>c.reset());class Se{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Q=!1,fe=new re,se=()=>{const c=h.Promise.resolve(void 0);W=()=>{c.then(U)}};var U=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(v){N(v)}var g=ae;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,g),h.removeEventListener("test",v,g)}catch{}return c}();function be(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(le){e:{try{Y(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}k(be,ge);var Oe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Ge(c,g,v,I,B){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!I,this.ha=B,this.key=++Be,this.da=this.fa=!1}function Tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,g,v,I,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ce=ii(c,g,I,B);return-1<ce?(g=c[ce],v||(g.fa=!1)):(g=new Ge(g,this.src,G,!!I,B),g.fa=v,c.push(g)),g};function qs(c,g){var v=g.type;if(v in c.g){var I=c.g[v],B=Array.prototype.indexOf.call(I,g,void 0),G;(G=0<=B)&&Array.prototype.splice.call(I,B,1),G&&(Tt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ii(c,g,v,I){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==I)return B}return-1}var es="closure_lm_"+(1e6*Math.random()|0),Hs={};function ga(c,g,v,I,B){if(Array.isArray(g)){for(var G=0;G<g.length;G++)ga(c,g[G],v,I,B);return null}return v=va(v),c&&c[$e]?c.K(g,v,m(I)?!!I.capture:!1,B):ya(c,g,v,!1,I,B)}function ya(c,g,v,I,B,G){if(!g)throw Error("Invalid event type");var ce=m(B)?!!B.capture:!!B,He=Ks(c);if(He||(c[es]=He=new Sr(c)),v=He.add(g,v,I,ce,G),v.proxy)return v;if(I=su(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)ke||(B=ce),B===void 0&&(B=!1),c.addEventListener(g.toString(),I,B);else if(c.attachEvent)c.attachEvent(Rr(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function su(){function c(v){return g.call(c.src,c.listener,v)}const g=_a;return c}function Ws(c,g,v,I,B){if(Array.isArray(g))for(var G=0;G<g.length;G++)Ws(c,g[G],v,I,B);else I=m(I)?!!I.capture:!!I,v=va(v),c&&c[$e]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=ii(G,v,I,B),-1<v&&(Tt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ks(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ii(g,v,I,B)),(v=-1<c?g[c]:null)&&Ar(v))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[$e])qs(g.i,c);else{var v=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(v,I,c.capture):g.detachEvent?g.detachEvent(Rr(v),I):g.addListener&&g.removeListener&&g.removeListener(I),(v=Ks(g))?(qs(v,c),v.h==0&&(v.src=null,g[es]=null)):Tt(c)}}}function Rr(c){return c in Hs?Hs[c]:Hs[c]="on"+c}function _a(c,g){if(c.da)c=!0;else{g=new be(g,this);var v=c.listener,I=c.ha||c.src;c.fa&&Ar(c),c=v.call(I,g)}return c}function Ks(c){return c=c[es],c instanceof Sr?c:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(c){return typeof c=="function"?c:(c[Gs]||(c[Gs]=function(g){return c.handleEvent(g)}),c[Gs])}function mt(){X.call(this),this.i=new Sr(this),this.M=this,this.F=null}k(mt,X),mt.prototype[$e]=!0,mt.prototype.removeEventListener=function(c,g,v,I){Ws(this,c,g,v,I)};function gt(c,g){var v,I=c.F;if(I)for(v=[];I;I=I.F)v.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var B=g;g=new ge(I,c),V(g,B)}if(B=!0,v)for(var G=v.length-1;0<=G;G--){var ce=g.g=v[G];B=Cr(ce,I,!0,g)&&B}if(ce=g.g=c,B=Cr(ce,I,!0,g)&&B,B=Cr(ce,I,!1,g)&&B,v)for(G=0;G<v.length;G++)ce=g.g=v[G],B=Cr(ce,I,!1,g)&&B}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],I=0;I<v.length;I++)Tt(v[I]);delete c.g[g],c.h--}}this.F=null},mt.prototype.K=function(c,g,v,I){return this.i.add(String(c),g,!1,v,I)},mt.prototype.L=function(c,g,v,I){return this.i.add(String(c),g,!0,v,I)};function Cr(c,g,v,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,G=0;G<g.length;++G){var ce=g[G];if(ce&&!ce.da&&ce.capture==v){var He=ce.listener,yt=ce.ha||ce.src;ce.fa&&qs(c.i,ce),B=He.call(yt,I)!==!1&&B}}return B&&!I.defaultPrevented}function Ea(c,g,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function si(c){c.g=Ea(()=>{c.g=null,c.i&&(c.i=!1,si(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ts extends X{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(c){X.call(this),this.h=c,this.g={}}k(ns,X);var wa=[];function Ta(c){oe(c.g,function(g,v){this.g.hasOwnProperty(v)&&Ar(g)},c),c.g={}}ns.prototype.N=function(){ns.aa.N.call(this),Ta(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=h.JSON.stringify,Sa=h.JSON.parse,Aa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function rs(){}rs.prototype.h=null;function Qs(c){return c.h||(c.h=c.i())}function Ys(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){ge.call(this,"d")}k(rr,ge);function Xs(){ge.call(this,"c")}k(Xs,ge);var ir={},Ra=null;function is(){return Ra=Ra||new mt}ir.La="serverreachability";function Ca(c){ge.call(this,ir.La,c)}k(Ca,ge);function kr(c){const g=is();gt(g,new Ca(g))}ir.STAT_EVENT="statevent";function ka(c,g){ge.call(this,ir.STAT_EVENT,c),this.stat=g}k(ka,ge);function at(c){const g=is();gt(g,new ka(g,c))}ir.Ma="timingevent";function Js(c,g){ge.call(this,ir.Ma,c),this.size=g}k(Js,ge);function Vn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function os(c,g,v,I,B,G){c.info(function(){if(c.g)if(G)for(var ce="",He=G.split("&"),yt=0;yt<He.length;yt++){var Me=He[yt].split("=");if(1<Me.length){var It=Me[0];Me=Me[1];var ft=It.split("_");ce=2<=ft.length&&ft[1]=="type"?ce+(It+"="+Me+"&"):ce+(It+"=redacted&")}}else ce=null;else ce=G;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+g+`
`+v+`
`+ce})}function Zs(c,g,v,I,B,G,ce){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+g+`
`+v+`
`+G+" "+ce})}function Mn(c,g,v,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Jf(c,v)+(I?" "+I:"")})}function Pa(c,g){c.info(function(){return"TIMEOUT: "+g})}ss.prototype.info=function(){};function Jf(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var I=v[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ce=1;ce<B.length;ce++)B[ce]=""}}}}return Ia(v)}catch{return g}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function as(){}k(as,rs),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},Fn=new as;function Un(c,g,v,I){this.j=c,this.i=g,this.l=v,this.R=I||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new au}function au(){this.i=null,this.g="",this.h=!1}var ba={},to={};function no(c,g,v){c.L=1,c.v=ci(dn(g)),c.m=v,c.P=!0,xa(c,null)}function xa(c,g){c.F=Date.now(),Qe(c),c.A=dn(c.v);var v=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),hi(v.i,"t",I),c.C=0,v=c.j.J,c.h=new au,c.g=Au(c.j,v?g:null,!c.m),0<c.O&&(c.M=new ts(T(c.Y,c,c.g),c.O)),g=c.U,v=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(wa[0]=B.toString()),B=wa);for(var G=0;G<B.length;G++){var ce=ga(v,B[G],I||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),kr(),os(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const g=this.M;g&&Xt(c)==3?g.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const ft=Xt(this.g);var g=this.g.Ba();const An=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||ft!=4||g==7||(g==8||0>=An?kr(3):kr(2)),ls(this);var v=this.g.Z();this.X=v;t:if(lu(this)){var I=Ma(this.g);c="";var B=I.length,G=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),oi(this);var ce="";break t}this.h.i=new h.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(G&&g==B-1)});I.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,Zs(this.i,this.u,this.A,this.l,this.R,ft,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,yt=this.g;if((He=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(He)){var Me=He;break t}}Me=null}if(v=Me)Mn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,v);else{this.o=!1,this.s=3,at(12),In(this),oi(this);break e}}if(this.P){v=!0;let mn;for(;!this.J&&this.C<ce.length;)if(mn=Zf(this,ce),mn==to){ft==4&&(this.s=4,at(14),v=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==ba){this.s=4,at(15),Mn(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else Mn(this.i,this.l,mn,null),Oa(this,mn);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||ce.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Mn(this.i,this.l,ce,"[Invalid Chunked Response]"),In(this),oi(this);else if(0<ce.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ua(It),It.M=!0,at(11))}}else Mn(this.i,this.l,ce,null),Oa(this,ce);ft==4&&In(this),this.o&&!this.J&&(ft==4?po(this.j,this):(this.o=!1,Qe(this)))}else lo(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),In(this),oi(this)}}}catch{}finally{}};function lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zf(c,g){var v=c.C,I=g.indexOf(`
`,v);return I==-1?to:(v=Number(g.substring(v,I)),isNaN(v)?ba:(I+=1,I+v>g.length?to:(g=g.slice(I,I+v),c.C=I+v,g)))}Un.prototype.cancel=function(){this.J=!0,In(this)};function Qe(c){c.S=Date.now()+c.I,uu(c,c.I)}function uu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vn(T(c.ba,c),g)}function ls(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pa(this.i,this.A),this.L!=2&&(kr(),at(17)),In(this),this.s=2,oi(this)):uu(this,this.S-c)};function oi(c){c.j.G==0||c.J||po(c.j,c)}function In(c){ls(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ta(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Oa(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||qt(v.h,c))){if(!c.K&&qt(v.h,c)&&v.G==3){try{var I=v.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ho(v),qn(v);else break e;fo(v),at(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Vn(T(v.Za,v),6e3));if(1>=fu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Nr(v,11)}else if((c.K||v.g==c)&&ho(v),!z(g))for(B=v.Da.g.parse(g),g=0;g<B.length;g++){let Me=B[g];if(v.T=Me[0],Me=Me[1],v.G==2)if(Me[0]=="c"){v.K=Me[1],v.ia=Me[2];const It=Me[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const ft=Me[4];ft!=null&&(v.Aa=ft,v.j.info("SVER="+v.Aa));const An=Me[5];An!=null&&typeof An=="number"&&0<An&&(I=1.5*An,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const mn=c.g;if(mn){const ms=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var G=I.h;G.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Na(G,G.h),G.h=null))}if(I.D){const go=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(I.ya=go,Ke(I.I,I.D,go))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ce=c;if(I.qa=Su(I,I.J?I.ia:null,I.W),ce.K){hu(I.h,ce);var He=ce,yt=I.L;yt&&(He.I=yt),He.B&&(ls(He),Qe(He)),I.g=ce}else ps(I);0<v.i.length&&lr(v)}else Me[0]!="stop"&&Me[0]!="close"||Nr(v,7);else v.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Nr(v,7):Pt(v):Me[0]!="noop"&&v.l&&v.l.ta(Me),v.v=0)}}kr(4)}catch{}}var cu=class{constructor(c,g){this.g=c,this.map=g}};function us(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fu(c){return c.h?1:c.g?c.g.size:0}function qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Na(c,g){c.g?c.g.add(g):c.h=g}function hu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}us.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function du(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return D(c.i)}function ro(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var g=[],v=c.length,I=0;I<v;I++)g.push(c[I]);return g}g=[],v=0;for(I in c)g[v++]=c[I];return g}function io(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const I in c)g[v++]=I;return g}}}function ai(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=io(c),I=ro(c),B=I.length,G=0;G<B;G++)g.call(void 0,I[G],v&&v[G],c)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var I=c[v].indexOf("="),B=null;if(0<=I){var G=c[v].substring(0,I);B=c[v].substring(I+1)}else G=c[v];g(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Pr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pr){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,li(this,c.s),this.l=c.l;var g=c.i,v=new sr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),ui(this,v),this.m=c.m}else c&&(g=String(c).match(cs))?(this.h=!1,fs(this,g[1]||"",!0),this.o=Le(g[2]||""),this.g=Le(g[3]||"",!0),li(this,g[4]),this.l=Le(g[5]||"",!0),ui(this,g[6]||"",!0),this.m=Le(g[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}Pr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(fi(g,so,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(fi(g,so,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(fi(v,v.charAt(0)=="/"?gu:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",fi(v,Da)),c.join("")};function dn(c){return new Pr(c)}function fs(c,g,v){c.j=v?Le(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ui(c,g,v){g instanceof sr?(c.i=g,or(c.i,c.h)):(v||(g=fi(g,yu)),c.i=new sr(g,c.h))}function Ke(c,g,v){c.i.set(g,v)}function ci(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Le(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fi(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var so=/[#\/\?@]/g,mu=/[#\?:]/g,gu=/[#\?]/g,yu=/[#\?@]/g,Da=/#/g;function sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function kt(c){c.g||(c.g=new Map,c.h=0,c.i&&eh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=sr.prototype,n.add=function(c,g){kt(this),this.i=null,c=Sn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function $n(c,g){kt(c),g=Sn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function jn(c,g){return kt(c),g=Sn(c,g),c.g.has(g)}n.forEach=function(c,g){kt(this),this.g.forEach(function(v,I){v.forEach(function(B){c.call(g,B,I,this)},this)},this)},n.na=function(){kt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let I=0;I<g.length;I++){const B=c[I];for(let G=0;G<B.length;G++)v.push(g[I])}return v},n.V=function(c){kt(this);let g=[];if(typeof c=="string")jn(this,c)&&(g=g.concat(this.g.get(Sn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},n.set=function(c,g){return kt(this),this.i=null,c=Sn(this,c),jn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function hi(c,g,v){$n(c,g),0<v.length&&(c.i=null,c.g.set(Sn(c,g),D(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var I=g[v];const G=encodeURIComponent(String(I)),ce=this.V(I);for(I=0;I<ce.length;I++){var B=G;ce[I]!==""&&(B+="="+encodeURIComponent(String(ce[I]))),c.push(B)}}return this.i=c.join("&")};function Sn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function or(c,g){g&&!c.j&&(kt(c),c.i=null,c.g.forEach(function(v,I){var B=I.toLowerCase();I!=B&&($n(this,I),hi(this,B,v))},c)),c.j=g}function th(c,g){const v=new ss;if(h.Image){const I=new Image;I.onload=S(Yt,v,"TestLoadImage: loaded",!0,g,I),I.onerror=S(Yt,v,"TestLoadImage: error",!1,g,I),I.onabort=S(Yt,v,"TestLoadImage: abort",!1,g,I),I.ontimeout=S(Yt,v,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function _u(c,g){const v=new ss,I=new AbortController,B=setTimeout(()=>{I.abort(),Yt(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(G=>{clearTimeout(B),G.ok?Yt(v,"TestPingServer: ok",!0,g):Yt(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),Yt(v,"TestPingServer: error",!1,g)})}function Yt(c,g,v,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(v)}catch{}}function nh(){this.g=new Aa}function vu(c,g,v){const I=v||"";try{ai(c,function(B,G){let ce=B;m(B)&&(ce=Ia(B)),g.push(I+G+"="+encodeURIComponent(ce))})}catch(B){throw g.push(I+"type="+encodeURIComponent("_badmap")),B}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}k(br,rs),br.prototype.g=function(){return new hs(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function hs(c,g){mt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(hs,mt),n=hs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Bn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zn(this):Bn(this),this.readyState==3&&Eu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Bn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xr(c){let g="";return oe(c,function(v,I){g+=I,g+=":",g+=v,g+=`\r
`}),g}function di(c,g,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=xr(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,g,v))}function et(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(et,mt);var rh=/^https?$/i,La=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Qs(this.o):Qs(Fn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){ds(this,G);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)v.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())v.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(La,g,void 0))||I||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ce]of v)this.g.setRequestHeader(G,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){ds(this,G)}};function ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,oo(c),pn(c)}function oo(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},n.bb=function(){Va(this)};function Va(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Xt(c)!=4||c.Z()!=2)){if(c.u&&Xt(c)==4)Ea(c.Ea,0,c);else if(gt(c,"readystatechange"),Xt(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var I;if(I=ce===0){var B=String(c.D).match(cs)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),I=!rh.test(B?B.toLowerCase():"")}v=I}if(v)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var G=2<Xt(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",oo(c)}}finally{pn(c)}}}}function pn(c,g){if(c.g){ao(c);const v=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||gt(c,"ready");try{v.onreadystatechange=I}catch{}}}function ao(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Xt(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Sa(g)}};function Ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(c){const g={};c=(c.g&&2<=Xt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(z(c[I]))continue;var v=P(c[I]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[B]||[];g[B]=G,G.push(v)}O(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Fa(c){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,c),this.cb=ar("retryDelaySeedMs",1e4,c),this.Wa=ar("forwardChannelMaxRetries",2,c),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new us(c&&c.concurrentRequestLimit),this.Da=new nh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(c,g,v,I){at(0),this.W=c,this.H=g||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Su(this,null,this.W),lr(this)};function Pt(c){if(uo(c),c.G==3){var g=c.U++,v=dn(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),Or(c,v),g=new Un(c,c.j,g),g.L=2,g.v=ci(dn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=g.v,v=!0),v||(g.g=Au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qe(g)}Iu(c)}function qn(c){c.g&&(Ua(c),c.g.cancel(),c.g=null)}function uo(c){qn(c),c.u&&(h.clearTimeout(c.u),c.u=null),ho(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function lr(c){if(!hn(c.h)&&!c.s){c.s=!0;var g=c.Ga;W||se(),Q||(W(),Q=!0),fe.add(g,c),c.B=0}}function ih(c,g){return fu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vn(T(c.Ga,c,g),Tu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Un(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=pi(this,B,g),v=dn(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),Or(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(xr(G)))+"&"+g:this.m&&di(v,this.m,G)),Na(this.h,B),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",g),Ke(v,"SID","null"),B.T=!0,no(B,v,null)):no(B,v,g),this.G=2}}else this.G==3&&(c?co(this,c):this.i.length==0||hn(this.h)||co(this))};function co(c,g){var v;g?v=g.l:v=c.U++;const I=dn(c.I);Ke(I,"SID",c.K),Ke(I,"RID",v),Ke(I,"AID",c.T),Or(c,I),c.m&&c.o&&di(I,c.m,c.o),v=new Un(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=pi(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Na(c.h,v),no(v,I,g)}function Or(c,g){c.H&&oe(c.H,function(v,I){Ke(g,I,v)}),c.l&&ai({},function(v,I){Ke(g,I,v)})}function pi(c,g,v){v=Math.min(c.i.length,v);var I=c.l?T(c.l.Na,c.l,c):null;e:{var B=c.i;let G=-1;for(;;){const ce=["count="+v];G==-1?0<v?(G=B[0].g,ce.push("ofs="+G)):G=0:ce.push("ofs="+G);let He=!0;for(let yt=0;yt<v;yt++){let Me=B[yt].g;const It=B[yt].map;if(Me-=G,0>Me)G=Math.max(0,B[yt].g-100),He=!1;else try{vu(It,ce,"req"+Me+"_")}catch{I&&I(It)}}if(He){I=ce.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,I}function ps(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;W||se(),Q||(W(),Q=!0),fe.add(g,c),c.v=0}}function fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vn(T(c.Fa,c),Tu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),qn(this),wu(this))};function Ua(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dn(c.qa);Ke(g,"RID","rpc"),Ke(g,"SID",c.K),Ke(g,"AID",c.T),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(g,"TO",c.ja),Ke(g,"TYPE","xmlhttp"),Or(c,g),c.m&&c.o&&di(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ci(dn(g)),v.m=null,v.P=!0,xa(v,c)}n.Za=function(){this.C!=null&&(this.C=null,qn(this),fo(this),at(19))};function ho(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function po(c,g){var v=null;if(c.g==g){ho(c),Ua(c),c.g=null;var I=2}else if(qt(c.h,g))v=g.D,hu(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;I=is(),gt(I,new Js(I,v)),lr(c)}else ps(c);else if(B=g.s,B==3||B==0&&0<g.X||!(I==1&&ih(c,g)||I==2&&fo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),B){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function Tu(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Nr(c,g){if(c.j.info("Error code "+g),g==2){var v=T(c.fb,c),I=c.Xa;const B=!I;I=new Pr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||fs(I,"https"),ci(I),B?th(I.toString(),v):_u(I.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(g),Iu(c),uo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){const g=du(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Su(c,g,v){var I=v instanceof Pr?dn(v):new Pr(v);if(I.g!="")g&&(I.g=g+"."+I.g),li(I,I.s);else{var B=h.location;I=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var G=new Pr(null);I&&fs(G,I),g&&(G.g=g),B&&li(G,B),v&&(G.l=v),I=G}return v=c.D,g=c.ya,v&&g&&Ke(I,v,g),Ke(I,"VER",c.la),Or(c,I),I}function Au(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new et(new br({eb:v})):new et(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $a(){}n=$a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mo(){}mo.prototype.g=function(c,g){return new Ht(c,g)};function Ht(c,g){mt.call(this),this.g=new Fa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ur(this)}k(Ht,mt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Pt(this.g)},Ht.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ia(c),c=v);g.i.push(new cu(g.Ya++,c)),g.G==3&&lr(g)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Ht.aa.N.call(this)};function Ru(c){rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}k(Ru,rr);function Cu(){Xs.call(this),this.status=1}k(Cu,Xs);function ur(c){this.g=c}k(ur,$a),ur.prototype.ua=function(){gt(this.g,"a")},ur.prototype.ta=function(c){gt(this.g,new Ru(c))},ur.prototype.sa=function(c){gt(this.g,new Cu)},ur.prototype.ra=function(){gt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,sw=function(){return new mo},iw=function(){return is()},rw=ir,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Bc=eo,ou.COMPLETE="complete",nw=ou,Ys.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,yl=Ys,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,tw=et}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const pv="@firebase/firestore",mv="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new qp("@firebase/firestore");function Uo(){return Fs.logLevel}function pe(n,...e){if(Fs.logLevel<=Ne.DEBUG){const t=e.map(sm);Fs.debug(`Firestore (${ha}): ${n}`,...t)}}function Jr(n,...e){if(Fs.logLevel<=Ne.ERROR){const t=e.map(sm);Fs.error(`Firestore (${ha}): ${n}`,...t)}}function Jo(n,...e){if(Fs.logLevel<=Ne.WARN){const t=e.map(sm);Fs.warn(`Firestore (${ha}): ${n}`,...t)}}function sm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+n;throw Jr(e),new Error(e)}function qe(n,e){n||Ae()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class bb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xb{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ns,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ns)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new ow(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new jt(e)}}class Ob{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Nb{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Ob(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Db{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Nn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new gv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new gv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Lb(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Zo(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-62135596800,_v=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*_v);return new Et(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yv)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Et(0,0))}static max(){return new Ce(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__name__";class gr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(),r===void 0?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=gr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=gr.isNumericId(e),o=gr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class Xe extends gr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Xe(t)}static emptyPath(){return new Xe([])}}const Vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends gr{construct(e,t,r){return new Dt(e,t,r)}static isValidIdentifier(e){return Vb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new Dt([vv])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Xe.fromString(e))}static fromName(e){return new we(Xe.fromString(e).popFirst(5))}static empty(){return new we(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function Mb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new Et(t+1,0):new Et(t,r));return new qi(o,we.empty(),e)}function Fb(n){return new qi(n.readTime,n.key,Pl)}class qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qi(Ce.min(),we.empty(),Pl)}static max(){return new qi(Ce.max(),we.empty(),Pl)}}function Ub(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==$b)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},d=>r(d))}),u=!0,a===o&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(o=>o?ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let d=0;d<a;d++){const m=d;t(e[m]).next(_=>{u[m]=_,++h,h===a&&r(u)},_=>o(_))}})}static doWhile(e,t){return new ee((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function zb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function Pf(n){return n==null}function lf(n){return n===0&&1/n==-1/0}function Bb(n){return typeof n=="number"&&Number.isInteger(n)&&!lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="";function qb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ev(e)),e=Hb(n.get(t),e);return Ev(e)}function Hb(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case lw:t+="";break;default:t+=a}}return t}function Ev(n){return n+lw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Nt.RED,this.left=o??Nt.EMPTY,this.right=a??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Nt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(e){return new Tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new vn([])}unionWith(e){let t=new wt(Dt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new cw("Invalid base64 string: "+a):a}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const Wb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(n){if(qe(!!n),typeof n=="string"){let e=0;const t=Wb.exec(n);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wi(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="server_timestamp",hw="__type__",dw="__previous_value__",pw="__local_write_time__";function bf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[hw])===null||t===void 0?void 0:t.stringValue)===fw}function xf(n){const e=n.mapValue.fields[dw];return bf(e)?xf(e):e}function bl(n){const e=Hi(n.mapValue.fields[pw].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,t,r,o,a,u,h,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}}const uf="(default)";class xl{constructor(e,t){this.projectId=e,this.database=t||uf}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===uf}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="__type__",Gb="__max__",bc={mapValue:{}},gw="__vector__",cf="value";function Ki(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bf(n)?4:Yb(n)?9007199254740991:Qb(n)?10:11:Ae()}function wr(n,e){if(n===e)return!0;const t=Ki(n);if(t!==Ki(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bl(n).isEqual(bl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Hi(o.timestampValue),h=Hi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Wi(o.bytesValue).isEqual(Wi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ut(o.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ut(o.integerValue)===ut(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ut(o.doubleValue),h=ut(a.doubleValue);return u===h?lf(u)===lf(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Zo(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(wv(u)!==wv(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!wr(u[d],h[d])))return!1;return!0}(n,e);default:return Ae()}}function Ol(n,e){return(n.values||[]).find(t=>wr(t,e))!==void 0}function ea(n,e){if(n===e)return 0;const t=Ki(n),r=Ki(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ut(a.integerValue||a.doubleValue),d=ut(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return Iv(n.timestampValue,e.timestampValue);case 4:return Iv(bl(n),bl(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Wi(a),d=Wi(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const _=Ve(h[m],d[m]);if(_!==0)return _}return Ve(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ve(ut(a.latitude),ut(u.latitude));return h!==0?h:Ve(ut(a.longitude),ut(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Sv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,d,m,_;const E=a.fields||{},T=u.fields||{},S=(h=E[cf])===null||h===void 0?void 0:h.arrayValue,k=(d=T[cf])===null||d===void 0?void 0:d.arrayValue,D=Ve(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((_=k==null?void 0:k.values)===null||_===void 0?void 0:_.length)||0);return D!==0?D:Sv(S,k)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===bc.mapValue&&u===bc.mapValue)return 0;if(a===bc.mapValue)return 1;if(u===bc.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),m=u.fields||{},_=Object.keys(m);d.sort(),_.sort();for(let E=0;E<d.length&&E<_.length;++E){const T=Ve(d[E],_[E]);if(T!==0)return T;const S=ea(h[d[E]],m[_[E]]);if(S!==0)return S}return Ve(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function Iv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Hi(n),r=Hi(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function Sv(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ea(t[o],r[o]);if(a)return a}return Ve(t.length,r.length)}function ta(n){return pp(n)}function pp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Hi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Wi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=pp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${pp(t.fields[u])}`;return o+"}"}(n.mapValue):Ae()}function qc(n){switch(Ki(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xf(n);return e?16+qc(e):16;case 5:return 2*n.stringValue.length;case 6:return Wi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+qc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Ji(r.fields,(a,u)=>{o+=a.length+qc(u)}),o}(n.mapValue);default:throw Ae()}}function ff(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mp(n){return!!n&&"integerValue"in n}function am(n){return!!n&&"arrayValue"in n}function Av(n){return!!n&&"nullValue"in n}function Rv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hc(n){return!!n&&"mapValue"in n}function Qb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mw])===null||t===void 0?void 0:t.stringValue)===gw}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Tl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Gb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=Dt.emptyPath(),r={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,o),r={},o=[],t=h.popLast()}u?r[h.lastSegment()]=Tl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ji(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new un(Tl(this.value))}}function yw(n){const e=[];return Ji(n.fields,(t,r)=>{const o=new Dt([t]);if(Hc(r)){const a=yw(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,r,o,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zt(e,0,Ce.min(),Ce.min(),Ce.min(),un.empty(),0)}static newFoundDocument(e,t,r,o){return new zt(e,1,t,Ce.min(),r,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ce.min(),Ce.min(),un.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ce.min(),Ce.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.position=e,this.inclusive=t}}function Cv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),t.key):r=ea(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function kv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{}class pt extends _w{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Zb(e,t,r):t==="array-contains"?new nx(e,r):t==="in"?new rx(e,r):t==="not-in"?new ix(e,r):t==="array-contains-any"?new sx(e,r):new pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ex(e,r):new tx(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ea(t,this.value)):t!==null&&Ki(this.value)===Ki(t)&&this.matchesComparison(ea(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends _w{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new tr(e,t)}matches(e){return vw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function vw(n){return n.op==="and"}function Ew(n){return Jb(n)&&vw(n)}function Jb(n){for(const e of n.filters)if(e instanceof tr)return!1;return!0}function gp(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+ta(n.value);if(Ew(n))return n.filters.map(e=>gp(e)).join(",");{const e=n.filters.map(t=>gp(t)).join(",");return`${n.op}(${e})`}}function ww(n,e){return n instanceof pt?function(r,o){return o instanceof pt&&r.op===o.op&&r.field.isEqual(o.field)&&wr(r.value,o.value)}(n,e):n instanceof tr?function(r,o){return o instanceof tr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,h)=>a&&ww(u,o.filters[h]),!0):!1}(n,e):void Ae()}function Tw(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${ta(t.value)}`}(n):n instanceof tr?function(t){return t.op.toString()+" {"+t.getFilters().map(Tw).join(" ,")+"}"}(n):"Filter"}class Zb extends pt{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class ex extends pt{constructor(e,t){super(e,"in",t),this.keys=Iw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tx extends pt{constructor(e,t){super(e,"not-in",t),this.keys=Iw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Iw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}class nx extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return am(t)&&Ol(t.arrayValue,this.value)}}class rx extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ol(this.value.arrayValue,t)}}class ix extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ol(this.value.arrayValue,t)}}class sx extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!am(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function Pv(n,e=null,t=[],r=[],o=null,a=null,u=null){return new ox(n,e,t,r,o,a,u)}function lm(n){const e=Pe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>gp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ta(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ta(r)).join(",")),e.le=t}return e.le}function um(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Xb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ww(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kv(n.startAt,e.startAt)&&kv(n.endAt,e.endAt)}function yp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t=null,r=[],o=[],a=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ax(n,e,t,r,o,a,u,h){return new js(n,e,t,r,o,a,u,h)}function cm(n){return new js(n)}function bv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fm(n){return n.collectionGroup!==null}function Qo(n){const e=Pe(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new wt(Dt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Nl(a,r))}),t.has(Dt.keyField().canonicalString())||e.he.push(new Nl(Dt.keyField(),r))}return e.he}function vr(n){const e=Pe(n);return e.Pe||(e.Pe=lx(e,Qo(n))),e.Pe}function lx(n,e){if(n.limitType==="F")return Pv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Nl(o.field,a)});const t=n.endAt?new na(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new na(n.startAt.position,n.startAt.inclusive):null;return Pv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _p(n,e){const t=n.filters.concat([e]);return new js(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hf(n,e,t){return new js(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return um(vr(n),vr(e))&&n.limitType===e.limitType}function Sw(n){return`${lm(vr(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Tw(o)).join(", ")}]`),Pf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ta(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ta(o)).join(",")),`Target(${r})`}(vr(n))}; limitType=${n.limitType})`}function Nf(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Qo(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,h,d){const m=Cv(u,h,d);return u.inclusive?m<=0:m<0}(r.startAt,Qo(r),o)||r.endAt&&!function(u,h,d){const m=Cv(u,h,d);return u.inclusive?m>=0:m>0}(r.endAt,Qo(r),o))}(n,e)}function ux(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Aw(n){return(e,t)=>{let r=!1;for(const o of Qo(n)){const a=cx(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function cx(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,u,h){const d=u.data.field(a),m=h.data.field(a);return d!==null&&m!==null?ea(d,m):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return uw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new st(we.comparator);function Zr(){return fx}const Rw=new st(we.comparator);function _l(...n){let e=Rw;for(const t of n)e=e.insert(t.key,t);return e}function Cw(n){let e=Rw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xs(){return Il()}function kw(){return Il()}function Il(){return new zs(n=>n.toString(),(n,e)=>n.isEqual(e))}const hx=new st(we.comparator),dx=new wt(we.comparator);function De(...n){let e=dx;for(const t of n)e=e.add(t);return e}const px=new wt(Ve);function mx(){return px}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(e)?"-0":e}}function Pw(n){return{integerValue:""+n}}function gx(n,e){return Bb(e)?Pw(e):hm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function yx(n,e,t){return n instanceof Dl?function(o,a){const u={fields:{[hw]:{stringValue:fw},[pw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&bf(a)&&(a=xf(a)),a&&(u.fields[dw]=a),{mapValue:u}}(t,e):n instanceof Ll?xw(n,e):n instanceof Vl?Ow(n,e):function(o,a){const u=bw(o,a),h=xv(u)+xv(o.Ie);return mp(u)&&mp(o.Ie)?Pw(h):hm(o.serializer,h)}(n,e)}function _x(n,e,t){return n instanceof Ll?xw(n,e):n instanceof Vl?Ow(n,e):t}function bw(n,e){return n instanceof df?function(r){return mp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Dl extends Df{}class Ll extends Df{constructor(e){super(),this.elements=e}}function xw(n,e){const t=Nw(e);for(const r of n.elements)t.some(o=>wr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Vl extends Df{constructor(e){super(),this.elements=e}}function Ow(n,e){let t=Nw(e);for(const r of n.elements)t=t.filter(o=>!wr(o,r));return{arrayValue:{values:t}}}class df extends Df{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function xv(n){return ut(n.integerValue||n.doubleValue)}function Nw(n){return am(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.field=e,this.transform=t}}function Ex(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Ll&&o instanceof Ll||r instanceof Vl&&o instanceof Vl?Zo(r.elements,o.elements,wr):r instanceof df&&o instanceof df?wr(r.Ie,o.Ie):r instanceof Dl&&o instanceof Dl}(n.transform,e.transform)}class wx{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lf{}function Dw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dm(n.key,Zn.none()):new Jl(n.key,n.data,Zn.none());{const t=n.data,r=un.empty();let o=new wt(Dt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Zi(n.key,r,new vn(o.toArray()),Zn.none())}}function Tx(n,e,t){n instanceof Jl?function(o,a,u){const h=o.value.clone(),d=Nv(o.fieldTransforms,a,u.transformResults);h.setAll(d),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Zi?function(o,a,u){if(!Wc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Nv(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(Lw(o)),d.setAll(h),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Sl(n,e,t,r){return n instanceof Jl?function(a,u,h,d){if(!Wc(a.precondition,u))return h;const m=a.value.clone(),_=Dv(a.fieldTransforms,d,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zi?function(a,u,h,d){if(!Wc(a.precondition,u))return h;const m=Dv(a.fieldTransforms,d,u),_=u.data;return _.setAll(Lw(a)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(a,u,h){return Wc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Ix(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=bw(r.transform,o||null);a!=null&&(t===null&&(t=un.empty()),t.set(r.field,a))}return t||null}function Ov(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Zo(r,o,(a,u)=>Ex(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Jl extends Lf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends Lf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Lw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Nv(n,e,t){const r=new Map;qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,_x(u,h,t[o]))}return r}function Dv(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,yx(a,u,e))}return r}class dm extends Lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sx extends Lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Tx(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=kw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const d=Dw(u,h);d!==null&&r.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(t,r)=>Ov(t,r))&&Zo(this.baseMutations,e.baseMutations,(t,r)=>Ov(t,r))}}class pm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){qe(e.mutations.length===r.length);let o=function(){return hx}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new pm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Fe;function kx(n){switch(n){case J.OK:return Ae();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae()}}function Vw(n){if(n===void 0)return Jr("GRPC error has no .code"),J.UNKNOWN;switch(n){case dt.OK:return J.OK;case dt.CANCELLED:return J.CANCELLED;case dt.UNKNOWN:return J.UNKNOWN;case dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case dt.INTERNAL:return J.INTERNAL;case dt.UNAVAILABLE:return J.UNAVAILABLE;case dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case dt.NOT_FOUND:return J.NOT_FOUND;case dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case dt.ABORTED:return J.ABORTED;case dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case dt.DATA_LOSS:return J.DATA_LOSS;default:return Ae()}}(Fe=dt||(dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new $i([4294967295,4294967295],0);function Lv(n){const e=Px().encode(n),t=new ew;return t.update(e),new Uint8Array(t.digest())}function Vv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $i([t,r],0),new $i([o,a],0)]}class mm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vl(`Invalid padding: ${t}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=$i.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply($i.fromNumber(r)));return o.compare(bx)===1&&(o=new $i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Lv(e),[r,o]=Vv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new mm(a,o,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=Lv(e),[r,o]=Vv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Vf(Ce.min(),o,new st(Ve),Zr(),De())}}class Zl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Zl(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class Mw{constructor(e,t){this.targetId=e,this.ge=t}}class Fw{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Mv{constructor(){this.pe=0,this.ye=Fv(),this.we=Lt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=De(),t=De(),r=De();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ae()}}),new Zl(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Fv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class xx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Zr(),this.$e=xc(),this.Ke=xc(),this.Ue=new st(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(yp(a))if(r===0){const u=new we(a.path);this.ze(t,u,zt.newNoDocument(u,Ce.min()))}else qe(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Wi(r).toUint8Array()}catch(d){if(d instanceof cw)return Jo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new mm(u,o,a)}catch(d){return Jo(d instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&yp(h.target)){const d=new we(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,zt.newNoDocument(d,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=De();this.Ke.forEach((a,u)=>{let h=!0;u.forEachWhile(d=>{const m=this.Xe(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Vf(e,t,this.Ue,this.Qe,r);return this.Qe=Zr(),this.$e=xc(),this.Ke=xc(),this.Ue=new st(Ve),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Mv,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new wt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new wt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Mv),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function xc(){return new st(we.comparator)}function Fv(){return new st(we.comparator)}const Ox={asc:"ASCENDING",desc:"DESCENDING"},Nx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dx={and:"AND",or:"OR"};class Lx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(n,e){return n.useProto3Json||Pf(e)?e:{value:e}}function pf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Vx(n,e){return pf(n,e.toTimestamp())}function Er(n){return qe(!!n),Ce.fromTimestamp(function(t){const r=Hi(t);return new Et(r.seconds,r.nanos)}(n))}function gm(n,e){return Ep(n,e).canonicalString()}function Ep(n,e){const t=function(o){return new Xe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $w(n){const e=Xe.fromString(n);return qe(Hw(e)),e}function wp(n,e){return gm(n.databaseId,e.path)}function Gd(n,e){const t=$w(e);if(t.get(1)!==n.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(zw(t))}function jw(n,e){return gm(n.databaseId,e)}function Mx(n){const e=$w(n);return e.length===4?Xe.emptyPath():zw(e)}function Tp(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zw(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Uv(n,e,t){return{name:wp(n,e),fields:t.value.mapValue.fields}}function Fx(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(qe(_===void 0||typeof _=="string"),Lt.fromBase64String(_||"")):(qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Lt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const _=m.code===void 0?J.UNKNOWN:Vw(m.code);return new he(_,m.message||"")}(u);t=new Fw(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gd(n,r.document.name),a=Er(r.document.updateTime),u=r.document.createTime?Er(r.document.createTime):Ce.min(),h=new un({mapValue:{fields:r.document.fields}}),d=zt.newFoundDocument(o,a,u,h),m=r.targetIds||[],_=r.removedTargetIds||[];t=new Kc(m,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Gd(n,r.document),a=r.readTime?Er(r.readTime):Ce.min(),u=zt.newNoDocument(o,a),h=r.removedTargetIds||[];t=new Kc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Gd(n,r.document),a=r.removedTargetIds||[];t=new Kc([],a,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new Cx(o,a),h=r.targetId;t=new Mw(h,u)}}return t}function Ux(n,e){let t;if(e instanceof Jl)t={update:Uv(n,e.key,e.value)};else if(e instanceof dm)t={delete:wp(n,e.key)};else if(e instanceof Zi)t={update:Uv(n,e.key,e.data),updateMask:Gx(e.fieldMask)};else{if(!(e instanceof Sx))return Ae();t={verify:wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof Dl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ll)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof df)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Vx(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(n,e.precondition)),t}function $x(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Er(o.updateTime):Er(a);return u.isEqual(Ce.min())&&(u=Er(a)),new wx(u,o.transformResults||[])}(t,e))):[]}function jx(n,e){return{documents:[jw(n,e.path)]}}function zx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jw(n,o);const a=function(m){if(m.length!==0)return qw(tr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:jo(T.field),direction:Hx(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=vp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function Bx(n){let e=Mx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){qe(r===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const T=Bw(E);return T instanceof tr&&Ew(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(T=>function(k){return new Nl(zo(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,Pf(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(E){const T=!!E.before,S=E.values||[];return new na(S,T)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const T=!E.before,S=E.values||[];return new na(S,T)}(t.endAt)),ax(e,o,u,a,h,"F",d,m)}function qx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Bw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zo(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zo(t.unaryFilter.field);return pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(t.unaryFilter.field);return pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return tr.create(t.compositeFilter.filters.map(r=>Bw(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function Hx(n){return Ox[n]}function Wx(n){return Nx[n]}function Kx(n){return Dx[n]}function jo(n){return{fieldPath:n.canonicalString()}}function zo(n){return Dt.fromServerFormat(n.fieldPath)}function qw(n){return n instanceof pt?function(t){if(t.op==="=="){if(Rv(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(Av(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Rv(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(Av(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:Wx(t.op),value:t.value}}}(n):n instanceof tr?function(t){const r=t.getFilters().map(o=>qw(o));return r.length===1?r[0]:{compositeFilter:{op:Kx(t.op),filters:r}}}(n):Ae()}function Gx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Hw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,r,o,a=Ce.min(),u=Ce.min(),h=Lt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.Tt=e}}function Yx(n){const e=Bx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.Tn=new Jx}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(qi.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class Jx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new wt(Xe.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new wt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ww=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Ww,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ra(0)}static Un(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LruGarbageCollector",Zx=1048576;function zv([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class eO{constructor(e){this.Hn=e,this.buffer=new wt(zv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(jv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pa(t)?pe(jv,"Ignoring IndexedDB error during garbage collection: ",t):await da(t)}await this.er(3e5)})}}class nO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(kf.ae);const r=new eO(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve($v)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,a,u,h,d,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,t))).next(E=>(a=E,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(m=Date.now(),Uo()<=Ne.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(d-h)+`ms
	Removed ${E} documents in `+(m-d)+`ms
Total Duration: ${m-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function rO(n,e){return new nO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.changes=new zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Sl(r.mutation,o,vn.empty(),Et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){const o=xs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=_l();return a.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,o){let a=Zr();const u=Il(),h=function(){return Il()}();return t.forEach((d,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Zi)?a=a.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),Sl(_.mutation,m,_.mutation.getFieldMask(),Et.now())):u.set(m.key,vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var E;return h.set(m,new sO(_,(E=u.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Il();let o=new st((u,h)=>u-h),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let _=r.get(d)||vn.empty();_=h.applyToLocalView(m,_),r.set(d,_);const E=(o.get(h.batchId)||De()).add(d);o=o.insert(h.batchId,E)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,_=d.value,E=kw();_.forEach(T=>{if(!a.has(T)){const S=Dw(t.get(T),r.get(T));S!==null&&E.set(T,S),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ee.resolve(xs());let h=Pl,d=a;return u.next(m=>ee.forEach(m,(_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{d=d.insert(_,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,d,m,De())).next(_=>({batchId:h,changes:Cw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=_l();return this.indexManager.getCollectionParents(e,a).next(h=>ee.forEach(h,d=>{const m=function(E,T){return new js(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(_=>{_.forEach((E,T)=>{u=u.insert(E,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((d,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,zt.newInvalidDocument(_)))});let h=_l();return u.forEach((d,m)=>{const _=a.get(d);_!==void 0&&Sl(_.mutation,m,vn.empty(),Et.now()),Nf(t,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Er(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:Yx(o.bundledQuery),readTime:Er(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.overlays=new st(we.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xs();return ee.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Et(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const o=xs(),a=t.length+1,u=new we(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&d.largestBatchId>r&&o.set(d.getKey(),d)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new st((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=a.get(m.largestBatchId);_===null&&(_=xs(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=xs(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=o)););return ee.resolve(h)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Rx(t,r));let a=this.Rr.get(t);a===void 0&&(a=De(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.Vr=new wt(Ct.mr),this.gr=new wt(Ct.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ct(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ct(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new we(new Xe([])),r=new Ct(t,e),o=new Ct(t,e+1),a=[];return this.gr.forEachInRange([r,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new we(new Xe([])),r=new Ct(t,e),o=new Ct(t,e+1);let a=De();return this.gr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ct(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return we.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Ct.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Ax(a,t,r,o);this.mutationQueue.push(u);for(const h of o)this.Mr=this.Mr.add(new Ct(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?om:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,o],u=>{const h=this.Or(u.Cr);a.push(h)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ve);return t.forEach(o=>{const a=new Ct(o,0),u=new Ct(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{r=r.add(h.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const u=new Ct(new we(a),0);let h=new wt(Ve);return this.Mr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(d.Cr)),!0)},u),ee.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(t.mutations,o=>{const a=new Ct(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ct(t,0),o=this.Mr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.kr=e,this.docs=function(){return new st(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let r=Zr();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():zt.newInvalidDocument(o))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Zr();const u=t.path,h=new we(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:_}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Ub(Fb(_),r)<=0||(o.has(_.key)||Nf(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ae()}qr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hO(this)}getSize(e){return ee.resolve(this.size)}}class hO extends iO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.persistence=e,this.Qr=new zs(t=>lm(t),um),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ym,this.targetCount=0,this.Ur=ra.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ee.waitFor(a).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new kf(0),this.zr=!1,this.zr=!0,this.jr=new uO,this.referenceDelegate=e(this),this.Hr=new dO(this),this.indexManager=new Xx,this.remoteDocumentCache=function(o){return new fO(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Qx(t),this.Yr=new aO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new cO(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const o=new pO(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class pO extends jb{constructor(e){super(),this.currentSequenceNumber=e}}class _m{constructor(e){this.persistence=e,this.ti=new ym,this.ni=null}static ri(e){return new _m(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const o=we.fromPath(r);return this.si(e,o).next(a=>{a||t.removeEntry(o,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class mf{constructor(e,t){this.persistence=e,this.oi=new zs(r=>qb(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=rO(this,t)}static ri(e,t){return new mf(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(a=>a?ee.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qc(e.data.value)),t}ar(e,t,r){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=De(),o=De();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new vm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return BC()?8:zb(Bt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new mO;return this._s(e,t,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>a.result)}us(e,t,r,o){return r.documentReadCount<this.es?(Uo()<=Ne.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Uo()<=Ne.DEBUG&&pe("QueryEngine","Query:",$o(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Uo()<=Ne.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):ee.resolve())}rs(e,t){if(bv(t))return ee.resolve(null);let r=vr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=hf(t,null,"F"),r=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.cs(t,h);return this.ls(t,m,u,d.readTime)?this.rs(e,hf(t,null,"F")):this.hs(e,m,t,d)}))})))}ss(e,t,r,o){return bv(t)||o.isEqual(Ce.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,o)?ee.resolve(null):(Uo()<=Ne.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.hs(e,u,t,Mb(o,Pl)).next(h=>h))})}cs(e,t){let r=new wt(Aw(e));return t.forEach((o,a)=>{Nf(e,a)&&(r=r.add(a))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,r){return Uo()<=Ne.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",$o(t)),this.ns.getDocumentsMatchingQuery(e,t,qi.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",yO=3e8;class _O{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new st(Ve),this.Is=new zs(a=>lm(a),um),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function vO(n,e,t,r){return new _O(n,e,t,r)}async function Gw(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let d=De();for(const m of o){u.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}for(const m of a){h.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(r,d).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function EO(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,m,_){const E=m.batch,T=E.keys();let S=ee.resolve();return T.forEach(k=>{S=S.next(()=>_.getEntry(d,k)).next(D=>{const x=m.docVersions.get(k);qe(x!==null),D.version.compareTo(x)<0&&(E.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),_.addEntry(D)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(d,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=De();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Qw(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function wO(n,e){const t=Pe(n),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((_,E)=>{const T=o.get(E);if(!T)return;h.push(t.Hr.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(a,_.addedDocuments,E)));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(Lt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,r)),o=o.insert(E,S),function(D,x,L){return D.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=yO?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(T,S,_)&&h.push(t.Hr.updateTargetData(a,S))});let d=Zr(),m=De();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(TO(a,u,e.documentUpdates).next(_=>{d=_.Vs,m=_.fs})),!r.isEqual(Ce.min())){const _=t.Hr.getLastRemoteSnapshotVersion(a).next(E=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(_)}return ee.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,m)).next(()=>d)}).then(a=>(t.Ts=o,a))}function TO(n,e,t){let r=De(),o=De();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Zr();return t.forEach((h,d)=>{const m=a.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(Em,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Vs:u,fs:o}})}function IO(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=om),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SO(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(a=>a?(o=a,ee.resolve(o)):t.Hr.allocateTargetId(r).next(u=>(o=new Vi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Ip(n,e,t){const r=Pe(n),o=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!pa(u))throw u;pe(Em,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function Bv(n,e,t){const r=Pe(n);let o=Ce.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,_){const E=Pe(d),T=E.Is.get(_);return T!==void 0?ee.resolve(E.Ts.get(T)):E.Hr.getTargetData(m,_)}(r,u,vr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?a:De())).next(h=>(AO(r,ux(e),h),{documents:h,gs:a})))}function AO(n,e,t){let r=n.Es.get(e)||Ce.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class qv{constructor(){this.activeTargetIds=mx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RO{constructor(){this.ho=new qv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="ConnectivityMonitor";class Wv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(Hv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(Hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Sp(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",kO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===uf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,a){const u=Sp(),h=this.bo(e,t.toUriEncodedString());pe(Qd,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,o,a),this.vo(e,h,d,r).then(m=>(pe(Qd,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Jo(Qd,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",r),m})}Co(e,t,r,o,a,u){return this.So(e,t,r,o,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const r=kO[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class xO extends PO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const a=Sp();return new Promise((u,h)=>{const d=new tw;d.setWithCredentials(!0),d.listenOnce(nw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bc.NO_ERROR:const _=d.getResponseJson();pe($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case Bc.TIMEOUT:pe($t,`RPC '${e}' ${a} timed out`),h(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const E=d.getStatus();if(pe($t,`RPC '${e}' ${a} failed with status:`,E,"response text:",d.getResponseText()),E>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const k=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(L)>=0?L:J.UNKNOWN}(S.status);h(new he(k,S.message))}else h(new he(J.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new he(J.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{pe($t,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);pe($t,`RPC '${e}' ${a} sending request:`,o),d.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=Sp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sw(),h=iw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const _=a.join("");pe($t,`Creating RPC '${e}' stream ${o}: ${_}`,d);const E=u.createWebChannel(_,d);let T=!1,S=!1;const k=new bO({Fo:x=>{S?pe($t,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(T||(pe($t,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),pe($t,`RPC '${e}' stream ${o} sending:`,x),E.send(x))},Mo:()=>E.close()}),D=(x,L,z)=>{x.listen(L,j=>{try{z(j)}catch(Y){setTimeout(()=>{throw Y},0)}})};return D(E,yl.EventType.OPEN,()=>{S||(pe($t,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),D(E,yl.EventType.CLOSE,()=>{S||(S=!0,pe($t,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),D(E,yl.EventType.ERROR,x=>{S||(S=!0,Jo($t,`RPC '${e}' stream ${o} transport errored:`,x),k.Ko(new he(J.UNAVAILABLE,"The operation could not be completed")))}),D(E,yl.EventType.MESSAGE,x=>{var L;if(!S){const z=x.data[0];qe(!!z);const j=z,Y=(j==null?void 0:j.error)||((L=j[0])===null||L===void 0?void 0:L.error);if(Y){pe($t,`RPC '${e}' stream ${o} received error:`,Y);const le=Y.status;let oe=function(C){const V=dt[C];if(V!==void 0)return Vw(V)}(le),O=Y.message;oe===void 0&&(oe=J.INTERNAL,O="Unknown error status: "+le+" with message "+Y.message),S=!0,k.Ko(new he(oe,O)),E.close()}else pe($t,`RPC '${e}' stream ${o} received:`,z),k.Uo(z)}}),D(h,rw.STAT_EVENT,x=>{x.stat===dp.PROXY?pe($t,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===dp.NOPROXY&&pe($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n){return new Lx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="PersistentStream";class Xw{constructor(e,t,r,o,a,u,h,d){this.Ti=e,this.n_=r,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Yw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Jr(t.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(Kv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OO extends Xw{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Fx(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Er(u.readTime):Ce.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Tp(this.serializer),t.addTarget=function(a,u){let h;const d=u.target;if(h=yp(d)?{documents:jx(a,d)}:{query:zx(a,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Uw(a,u.resumeToken);const m=vp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=pf(a,u.snapshotVersion.toTimestamp());const m=vp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=qx(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Tp(this.serializer),t.removeTarget=e,this.I_(t)}}class NO extends Xw{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=$x(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Tp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ux(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{}class LO extends DO{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Ep(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(J.UNKNOWN,a.toString())})}Co(e,t,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,Ep(t,r),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Jr(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class MO{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Bs(this)&&(pe(Us,"Restarting streams for network reachability change."),await async function(d){const m=Pe(d);m.W_.add(4),await eu(m),m.j_.set("Unknown"),m.W_.delete(4),await Ff(m)}(this))})}),this.j_=new VO(r,o)}}async function Ff(n){if(Bs(n))for(const e of n.G_)await e(!0)}async function eu(n){for(const e of n.G_)await e(!1)}function Jw(n,e){const t=Pe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Sm(t)?Im(t):ma(t).c_()&&Tm(t,e))}function wm(n,e){const t=Pe(n),r=ma(t);t.U_.delete(e),r.c_()&&Zw(t,e),t.U_.size===0&&(r.c_()?r.P_():Bs(t)&&t.j_.set("Unknown"))}function Tm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ma(n).y_(e)}function Zw(n,e){n.H_.Ne(e),ma(n).w_(e)}function Im(n){n.H_=new xx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ma(n).start(),n.j_.B_()}function Sm(n){return Bs(n)&&!ma(n).u_()&&n.U_.size>0}function Bs(n){return Pe(n).W_.size===0}function eT(n){n.H_=void 0}async function FO(n){n.j_.set("Online")}async function UO(n){n.U_.forEach((e,t)=>{Tm(n,e)})}async function $O(n,e){eT(n),Sm(n)?(n.j_.q_(e),Im(n)):n.j_.set("Unknown")}async function jO(n,e,t){if(n.j_.set("Online"),e instanceof Fw&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.U_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.U_.delete(h),o.H_.removeTarget(h))}(n,e)}catch(r){pe(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gf(n,r)}else if(e instanceof Kc?n.H_.We(e):e instanceof Mw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const r=await Qw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const _=a.U_.get(m);_&&a.U_.set(m,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const _=a.U_.get(d);if(!_)return;a.U_.set(d,_.withResumeToken(Lt.EMPTY_BYTE_STRING,_.snapshotVersion)),Zw(a,d);const E=new Vi(_.target,d,m,_.sequenceNumber);Tm(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(Us,"Failed to raise snapshot:",r),await gf(n,r)}}async function gf(n,e,t){if(!pa(e))throw e;n.W_.add(1),await eu(n),n.j_.set("Offline"),t||(t=()=>Qw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Us,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Ff(n)})}function tT(n,e){return e().catch(t=>gf(n,t,e))}async function Uf(n){const e=Pe(n),t=Gi(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:om;for(;zO(e);)try{const o=await IO(e.localStore,r);if(o===null){e.K_.length===0&&t.P_();break}r=o.batchId,BO(e,o)}catch(o){await gf(e,o)}nT(e)&&rT(e)}function zO(n){return Bs(n)&&n.K_.length<10}function BO(n,e){n.K_.push(e);const t=Gi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function nT(n){return Bs(n)&&!Gi(n).u_()&&n.K_.length>0}function rT(n){Gi(n).start()}async function qO(n){Gi(n).C_()}async function HO(n){const e=Gi(n);for(const t of n.K_)e.b_(t.mutations)}async function WO(n,e,t){const r=n.K_.shift(),o=pm.from(r,e,t);await tT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Uf(n)}async function KO(n,e){e&&Gi(n).S_&&await async function(r,o){if(function(u){return kx(u)&&u!==J.ABORTED}(o.code)){const a=r.K_.shift();Gi(r).h_(),await tT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Uf(r)}}(n,e),nT(n)&&rT(n)}async function Gv(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),pe(Us,"RemoteStore received new credentials");const r=Bs(t);t.W_.add(3),await eu(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ff(t)}async function GO(n,e){const t=Pe(n);e?(t.W_.delete(2),await Ff(t)):e||(t.W_.add(2),await eu(t),t.j_.set("Unknown"))}function ma(n){return n.J_||(n.J_=function(t,r,o){const a=Pe(t);return a.M_(),new OO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:FO.bind(null,n),No:UO.bind(null,n),Lo:$O.bind(null,n),p_:jO.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Sm(n)?Im(n):n.j_.set("Unknown")):(await n.J_.stop(),eT(n))})),n.J_}function Gi(n){return n.Y_||(n.Y_=function(t,r,o){const a=Pe(t);return a.M_(),new NO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:qO.bind(null,n),Lo:KO.bind(null,n),D_:HO.bind(null,n),v_:WO.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Uf(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(Us,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,h=new Am(e,t,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(n,e){if(Jr("AsyncQueue",`${e}: ${n}`),pa(n))return new he(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=_l(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.Z_=new st(we.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ia{constructor(e,t,r,o,a,u,h,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ia(e,t,Yo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class YO{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=Pe(t),a=o.queries;o.queries=Yv(),a.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function Yv(){return new zs(n=>Sw(n),Of)}async function XO(n,e){const t=Pe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(r=2):(a=new QO,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Rm(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Cm(t)}async function JO(n,e){const t=Pe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ZO(n,e){const t=Pe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.ta)h.oa(o)&&(r=!0);u.ea=o}}r&&Cm(t)}function eN(n,e,t){const r=Pe(n),o=r.queries.get(e);if(o)for(const a of o.ta)a.onError(t);r.queries.delete(e)}function Cm(n){n.ia.forEach(e=>{e.next()})}var Ap,Xv;(Xv=Ap||(Ap={}))._a="default",Xv.Cache="cache";class tN{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class nN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=Aw(e),this.wa=new Yo(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new Qv,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const T=o.get(_),S=Nf(this.query,E)?E:null,k=!!T&&this.mutatedKeys.has(T.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;T&&S?T.data.isEqual(S.data)?k!==D&&(r.track({type:3,doc:S}),x=!0):this.va(T,S)||(r.track({type:2,doc:S}),x=!0,(d&&this.ya(S,d)>0||m&&this.ya(S,m)<0)&&(h=!0)):!T&&S?(r.track({type:0,doc:S}),x=!0):T&&!S&&(r.track({type:1,doc:T}),x=!0,(d||m)&&(h=!0)),x&&(S?(u=u.add(S),a=D?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{wa:u,Da:r,ls:h,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,E)=>function(S,k){const D=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return D(S)-D(k)}(_.type,E.type)||this.ya(_.doc,E.doc)),this.Ca(r),o=o!=null&&o;const h=t&&!o?this.Fa():[],d=this.pa.size===0&&this.current&&!o?1:0,m=d!==this.ga;return this.ga=d,u.length!==0||m?{snapshot:new ia(this.query,e.wa,a,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Qv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=De(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new sT(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new iT(r))}),t}Oa(e){this.fa=e.gs,this.pa=De();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ia.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const km="SyncEngine";class rN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iN{constructor(e){this.key=e,this.Ba=!1}}class sN{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new zs(h=>Sw(h),Of),this.qa=new Map,this.Qa=new Set,this.$a=new st(we.comparator),this.Ka=new Map,this.Ua=new ym,this.Wa={},this.Ga=new Map,this.za=ra.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oN(n,e,t=!0){const r=fT(n);let o;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await oT(r,e,t,!0),o}async function aN(n,e){const t=fT(n);await oT(t,e,!0,!1)}async function oT(n,e,t,r){const o=await SO(n.localStore,vr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await lN(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&Jw(n.remoteStore,o),h}async function lN(n,e,t,r,o){n.Ha=(E,T,S)=>async function(D,x,L,z){let j=x.view.ba(L);j.ls&&(j=await Bv(D.localStore,x.query,!1).then(({documents:O})=>x.view.ba(O,j)));const Y=z&&z.targetChanges.get(x.targetId),le=z&&z.targetMismatches.get(x.targetId)!=null,oe=x.view.applyChanges(j,D.isPrimaryClient,Y,le);return Zv(D,x.targetId,oe.Ma),oe.snapshot}(n,E,T,S);const a=await Bv(n.localStore,e,!0),u=new nN(e,a.gs),h=u.ba(a.documents),d=Zl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,d);Zv(n,t,m.Ma);const _=new rN(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function uN(n,e,t){const r=Pe(n),o=r.ka.get(e),a=r.qa.get(o.targetId);if(a.length>1)return r.qa.set(o.targetId,a.filter(u=>!Of(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&wm(r.remoteStore,o.targetId),Rp(r,o.targetId)}).catch(da)):(Rp(r,o.targetId),await Ip(r.localStore,o.targetId,!0))}async function cN(n,e){const t=Pe(n),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wm(t.remoteStore,r.targetId))}async function fN(n,e,t){const r=_N(n);try{const o=await function(u,h){const d=Pe(u),m=Et.now(),_=h.reduce((S,k)=>S.add(k.key),De());let E,T;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let k=Zr(),D=De();return d.ds.getEntries(S,_).next(x=>{k=x,k.forEach((L,z)=>{z.isValidDocument()||(D=D.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,k)).next(x=>{E=x;const L=[];for(const z of h){const j=Ix(z,E.get(z.key).overlayedDocument);j!=null&&L.push(new Zi(z.key,j,yw(j.value.mapValue),Zn.exists(!0)))}return d.mutationQueue.addMutationBatch(S,m,L,h)}).next(x=>{T=x;const L=x.applyToLocalDocumentSet(E,D);return d.documentOverlayCache.saveOverlays(S,x.batchId,L)})}).then(()=>({batchId:T.batchId,changes:Cw(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,d){let m=u.Wa[u.currentUser.toKey()];m||(m=new st(Ve)),m=m.insert(h,d),u.Wa[u.currentUser.toKey()]=m}(r,o.batchId,t),await tu(r,o.changes),await Uf(r.remoteStore)}catch(o){const a=Rm(o,"Failed to persist write");t.reject(a)}}async function aT(n,e){const t=Pe(n);try{const r=await wO(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ka.get(a);u&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?qe(u.Ba):o.removedDocuments.size>0&&(qe(u.Ba),u.Ba=!1))}),await tu(t,r,e)}catch(r){await da(r)}}function Jv(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const d=Pe(u);d.onlineState=h;let m=!1;d.queries.forEach((_,E)=>{for(const T of E.ta)T.sa(h)&&(m=!0)}),m&&Cm(d)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hN(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ka.get(e),a=o&&o.key;if(a){let u=new st(we.comparator);u=u.insert(a,zt.newNoDocument(a,Ce.min()));const h=De().add(a),d=new Vf(Ce.min(),new Map,new st(Ve),u,h);await aT(r,d),r.$a=r.$a.remove(a),r.Ka.delete(e),Pm(r)}else await Ip(r.localStore,e,!1).then(()=>Rp(r,e,t)).catch(da)}async function dN(n,e){const t=Pe(n),r=e.batch.batchId;try{const o=await EO(t.localStore,e);uT(t,r,null),lT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await tu(t,o)}catch(o){await da(o)}}async function pN(n,e,t){const r=Pe(n);try{const o=await function(u,h){const d=Pe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return d.mutationQueue.lookupMutationBatch(m,h).next(E=>(qe(E!==null),_=E.keys(),d.mutationQueue.removeMutationBatch(m,E))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>d.localDocuments.getDocuments(m,_))})}(r.localStore,e);uT(r,e,t),lT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await tu(r,o)}catch(o){await da(o)}}function lT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function uT(n,e,t){const r=Pe(n);let o=r.Wa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function Rp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||cT(n,r)})}function cT(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(wm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Pm(n))}function Zv(n,e,t){for(const r of t)r instanceof iT?(n.Ua.addReference(r.key,e),mN(n,r)):r instanceof sT?(pe(km,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||cT(n,r.key)):Ae()}function mN(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(km,"New document in limbo: "+t),n.Qa.add(r),Pm(n))}function Pm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new we(Xe.fromString(e)),r=n.za.next();n.Ka.set(r,new iN(t)),n.$a=n.$a.insert(t,r),Jw(n.remoteStore,new Vi(vr(cm(t.path)),r,"TargetPurposeLimboResolution",kf.ae))}}async function tu(n,e,t){const r=Pe(n),o=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(m=>{var _;if((m||t)&&r.isPrimaryClient){const E=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(d.targetId,E?"current":"not-current")}if(m){o.push(m);const E=vm.Yi(d.targetId,m);a.push(E)}}))}),await Promise.all(u),r.La.p_(o),await async function(d,m){const _=Pe(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ee.forEach(m,T=>ee.forEach(T.Hi,S=>_.persistence.referenceDelegate.addReference(E,T.targetId,S)).next(()=>ee.forEach(T.Ji,S=>_.persistence.referenceDelegate.removeReference(E,T.targetId,S)))))}catch(E){if(!pa(E))throw E;pe(Em,"Failed to update sequence numbers: "+E)}for(const E of m){const T=E.targetId;if(!E.fromCache){const S=_.Ts.get(T),k=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(k);_.Ts=_.Ts.insert(T,D)}}}(r.localStore,a))}async function gN(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){pe(km,"User change. New user:",e.toKey());const r=await Gw(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(d=>{d.reject(new he(J.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(t,r.Rs)}}function yN(n,e){const t=Pe(n),r=t.Ka.get(e);if(r&&r.Ba)return De().add(r.key);{let o=De();const a=t.qa.get(e);if(!a)return o;for(const u of a){const h=t.ka.get(u);o=o.unionWith(h.view.Sa)}return o}}function fT(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hN.bind(null,e),e.La.p_=ZO.bind(null,e.eventManager),e.La.Ja=eN.bind(null,e.eventManager),e}function _N(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pN.bind(null,e),e}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vO(this.persistence,new gO,e.initialUser,this.serializer)}Xa(e){return new Kw(_m.ri,this.serializer)}Za(e){return new RO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class vN extends yf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){qe(this.persistence.referenceDelegate instanceof mf);const r=this.persistence.referenceDelegate.garbageCollector;return new tO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Kw(r=>mf.ri(r,t),this.serializer)}}class Cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gN.bind(null,this.syncEngine),await GO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YO}()}createDatastore(e){const t=Mf(e.databaseInfo.databaseId),r=function(a){return new xO(a)}(e.databaseInfo);return function(a,u,h,d){return new LO(a,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,h){return new MO(r,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Jv(this.syncEngine,t,0),function(){return Wv.D()?new Wv:new CO}())}createSyncEngine(e,t){return function(o,a,u,h,d,m,_){const E=new sN(o,a,u,h,d,m);return _&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Pe(o);pe(Us,"RemoteStore shutting down."),a.W_.add(5),await eu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class wN{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=aw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{pe(Qi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(Qi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Rm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xd(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Qi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Gw(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function e0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await TN(n);pe(Qi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Gv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Gv(e.remoteStore,o)),n._onlineComponents=e}async function TN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Qi,"Using user provided OfflineComponentProvider");try{await Xd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Jo("Error using user provided cache. Falling back to memory cache: "+t),await Xd(n,new yf)}}else pe(Qi,"Using default OfflineComponentProvider"),await Xd(n,new vN(void 0));return n._offlineComponents}async function hT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Qi,"Using user provided OnlineComponentProvider"),await e0(n,n._uninitializedComponentsProvider._online)):(pe(Qi,"Using default OnlineComponentProvider"),await e0(n,new Cp))),n._onlineComponents}function IN(n){return hT(n).then(e=>e.syncEngine)}async function t0(n){const e=await hT(n),t=e.eventManager;return t.onListen=oN.bind(null,e.syncEngine),t.onUnlisten=uN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SN(n,e,t,r){if(e===!0&&r===!0)throw new he(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function r0(n){if(!we.isDocumentKey(n))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function i0(n){if(we.isDocumentKey(n))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $f(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function ji(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$f(n);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function AN(n,e){if(e<=0)throw new he(J.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firestore.googleapis.com",s0=!0;class o0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mT,this.ssl=s0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:s0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ww;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zx)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Pb;switch(r.type){case"firstParty":return new Nb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=n0.get(t);r&&(pe("ComponentProvider","Removing Datastore"),n0.delete(t),r.terminate())}(this),Promise.resolve()}}function RN(n,e,t,r={}){var o;const a=(n=ji(n,jf))._getSettings(),u=`${e}:${t}`;if(a.host!==mT&&a.host!==u&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=jt.MOCK_USER;else{h=VC(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new jt(m)}n._authCredentials=new bb(new ow(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class zi extends ri{constructor(e,t,r){super(e,t,cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new we(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function bm(n,e,...t){if(n=ct(n),pT("collection","path",e),n instanceof jf){const r=Xe.fromString(e,...t);return i0(r),new zi(n,null,r)}{if(!(n instanceof cn||n instanceof zi))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return i0(r),new zi(n.firestore,null,r)}}function CN(n,e,...t){if(n=ct(n),arguments.length===1&&(e=aw.newId()),pT("doc","path",e),n instanceof jf){const r=Xe.fromString(e,...t);return r0(r),new cn(n,null,new we(r))}{if(!(n instanceof cn||n instanceof zi))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return r0(r),new cn(n.firestore,n instanceof zi?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="AsyncQueue";class l0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Yw(this,"async_queue_retry"),this.Su=()=>{const r=Yd();r&&pe(a0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Yd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Yd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ns;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!pa(e))throw e;pe(a0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Am.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function u0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class sa extends jf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new l0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l0(e),this._firestoreClient=void 0,await e}}}function kN(n,e){const t=typeof n=="object"?n:mE(),r=typeof n=="string"?n:uf,o=Wp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=DC("firestore");a&&RN(o,...a)}return o}function gT(n){if(n._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PN(n),n._firestoreClient}function PN(n){var e,t,r;const o=n._freezeSettings(),a=function(h,d,m,_){return new Kb(h,d,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,dT(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new wN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(Lt.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oa(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=/^__.*__$/;class xN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jl(e,this.data,t,this.fieldTransforms)}}class yT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _T(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Nm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _f(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(_T(this.Lu)&&bN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ON{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mf(e)}ju(e,t,r,o=!1){return new Nm({Lu:e,methodName:t,zu:r,path:Dt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(n){const e=n._freezeSettings(),t=Mf(n._databaseId);return new ON(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NN(n,e,t,r,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Lm("Data must be an object, but it was:",u,r);const h=ET(r,u);let d,m;if(a.merge)d=new vn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const T=kp(e,E,t);if(!u.contains(T))throw new he(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);TT(_,T)||_.push(T)}d=new vn(_),m=u.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,m=u.fieldTransforms;return new xN(new un(h),d,m)}class Hf extends Bf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}class Dm extends Bf{_toFieldTransform(e){return new vx(e.path,new Dl)}isEqual(e){return e instanceof Dm}}function DN(n,e,t,r){const o=n.ju(1,e,t);Lm("Data must be an object, but it was:",o,r);const a=[],u=un.empty();Ji(r,(d,m)=>{const _=Vm(e,d,t);m=ct(m);const E=o.Ku(_);if(m instanceof Hf)a.push(_);else{const T=nu(m,E);T!=null&&(a.push(_),u.set(_,T))}});const h=new vn(a);return new yT(u,h,o.fieldTransforms)}function LN(n,e,t,r,o,a){const u=n.ju(1,e,t),h=[kp(e,r,t)],d=[o];if(a.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(kp(e,a[T])),d.push(a[T+1]);const m=[],_=un.empty();for(let T=h.length-1;T>=0;--T)if(!TT(m,h[T])){const S=h[T];let k=d[T];k=ct(k);const D=u.Ku(S);if(k instanceof Hf)m.push(S);else{const x=nu(k,D);x!=null&&(m.push(S),_.set(S,x))}}const E=new vn(m);return new yT(_,E,u.fieldTransforms)}function vT(n,e,t,r=!1){return nu(t,n.ju(r?4:3,e))}function nu(n,e){if(wT(n=ct(n)))return Lm("Unsupported field value:",e,n),ET(n,e);if(n instanceof Bf)return function(r,o){if(!_T(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const h of r){let d=nu(h,o.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Et.fromDate(r);return{timestampValue:pf(o.serializer,a)}}if(r instanceof Et){const a=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pf(o.serializer,a)}}if(r instanceof xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:Uw(o.serializer,r._byteString)};if(r instanceof cn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Om)return function(u,h){return{mapValue:{fields:{[mw]:{stringValue:gw},[cf]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return hm(h.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${$f(r)}`)}(n,e)}function ET(n,e){const t={};return uw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(r,o)=>{const a=nu(o,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function wT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Et||n instanceof xm||n instanceof oa||n instanceof cn||n instanceof Bf||n instanceof Om)}function Lm(n,e,t){if(!wT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=$f(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function kp(n,e,t){if((e=ct(e))instanceof zf)return e._internalPath;if(typeof e=="string")return Vm(n,e);throw _f("Field path arguments must be of type string or ",n,!1,void 0,t)}const VN=new RegExp("[~\\*/\\[\\]]");function Vm(n,e,t){if(e.search(VN)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zf(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _f(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${o}`),d+=")"),new he(J.INVALID_ARGUMENT,h+n+d)}function TT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MN extends Mm{data(){return super.data()}}function Wf(n,e){return typeof e=="string"?Vm(n,e):e instanceof zf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fm{}class Kf extends Fm{}function BD(n,e,...t){let r=[];e instanceof Fm&&r.push(e),r=r.concat(t),function(a){const u=a.filter(d=>d instanceof Um).length,h=a.filter(d=>d instanceof Gf).length;if(u>1||u>0&&h>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Gf extends Kf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Gf(e,t,r)}_apply(e){const t=this._parse(e);return IT(e._query,t),new ri(e.firestore,e.converter,_p(e._query,t))}_parse(e){const t=qf(e.firestore);return function(a,u,h,d,m,_,E){let T;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){f0(E,_);const k=[];for(const D of E)k.push(c0(d,a,D));T={arrayValue:{values:k}}}else T=c0(d,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||f0(E,_),T=vT(h,u,E,_==="in"||_==="not-in");return pt.create(m,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qD(n,e,t){const r=e,o=Wf("where",n);return Gf._create(o,r,t)}class Um extends Fm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Um(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const d of h)IT(u,d),u=_p(u,d)}(e._query,t),new ri(e.firestore,e.converter,_p(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $m extends Kf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $m(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nl(a,u)}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new js(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function HD(n,e="asc"){const t=e,r=Wf("orderBy",n);return $m._create(r,t)}class jm extends Kf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new jm(e,t,r)}_apply(e){return new ri(e.firestore,e.converter,hf(e._query,this._limit,this._limitType))}}function WD(n){return AN("limit",n),jm._create("limit",n,"F")}class zm extends Kf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new zm(e,t,r)}_apply(e){const t=UN(e,this.type,this._docOrFields,this._inclusive);return new ri(e.firestore,e.converter,function(o,a){return new js(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function KD(...n){return zm._create("startAfter",n,!1)}function UN(n,e,t,r){if(t[0]=ct(t[0]),t[0]instanceof Mm)return function(a,u,h,d,m){if(!d)throw new he(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const _=[];for(const E of Qo(a))if(E.field.isKeyField())_.push(ff(u,d.key));else{const T=d.data.field(E.field);if(bf(T))throw new he(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const S=E.field.canonicalString();throw new he(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}_.push(T)}return new na(_,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=qf(n.firestore);return function(u,h,d,m,_,E){const T=u.explicitOrderBy;if(_.length>T.length)throw new he(J.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let k=0;k<_.length;k++){const D=_[k];if(T[k].field.isKeyField()){if(typeof D!="string")throw new he(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof D}`);if(!fm(u)&&D.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${D}' contains a slash.`);const x=u.path.child(Xe.fromString(D));if(!we.isDocumentKey(x))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const L=new we(x);S.push(ff(h,L))}else{const x=vT(d,m,D);S.push(x)}}return new na(S,E)}(n._query,n.firestore._databaseId,o,e,t,r)}}function c0(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fm(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xe.fromString(t));if(!we.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ff(n,new we(r))}if(t instanceof cn)return ff(n,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(t)}.`)}function f0(n,e){if(!Array.isArray(n)||n.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IT(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $N{convertValue(e,t="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ji(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[cf].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>ut(u.doubleValue));return new Om(a)}convertGeoPoint(e){return new xm(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const t=Hi(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);qe(Hw(r));const o=new xl(r.get(1),r.get(3)),a=new we(r.popFirst(5));return o.isEqual(t)||Jr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ST extends Mm{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Wf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gc extends ST{data(e={}){return super.data(e)}}class zN{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gc(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const d=new Gc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new El(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const d=new Gc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new El(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:BN(h.type),doc:d,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class AT extends $N{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function GD(n,e,t,...r){n=ji(n,cn);const o=ji(n.firestore,sa),a=qf(o);let u;return u=typeof(e=ct(e))=="string"||e instanceof zf?LN(a,"updateDoc",n._key,e,t,r):DN(a,"updateDoc",n._key,e),Bm(o,[u.toMutation(n._key,Zn.exists(!0))])}function QD(n){return Bm(ji(n.firestore,sa),[new dm(n._key,Zn.none())])}function YD(n,e){const t=ji(n.firestore,sa),r=CN(n),o=jN(n.converter,e);return Bm(t,[NN(qf(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function XD(n,...e){var t,r,o;n=ct(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||u0(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(u0(e[u])){const E=e[u];e[u]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[u+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[u+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let d,m,_;if(n instanceof cn)m=ji(n.firestore,sa),_=cm(n._key.path),d={next:E=>{e[u]&&e[u](qN(m,n,E))},error:e[u+1],complete:e[u+2]};else{const E=ji(n,ri);m=ji(E.firestore,sa),_=E._query;const T=new AT(m);d={next:S=>{e[u]&&e[u](new zN(m,T,E,S))},error:e[u+1],complete:e[u+2]},FN(n._query)}return function(T,S,k,D){const x=new EN(D),L=new tN(S,x,k);return T.asyncQueue.enqueueAndForget(async()=>XO(await t0(T),L)),()=>{x.su(),T.asyncQueue.enqueueAndForget(async()=>JO(await t0(T),L))}}(gT(m),_,h,d)}function Bm(n,e){return function(r,o){const a=new Ns;return r.asyncQueue.enqueueAndForget(async()=>fN(await IN(r),o,a)),a.promise}(gT(n),e)}function qN(n,e,t){const r=t.docs.get(e._key),o=new AT(n);return new ST(n,o,e._key,r,new El(t.hasPendingWrites,t.fromCache),e.converter)}function JD(){return new Dm("serverTimestamp")}(function(e,t=!0){(function(o){ha=o})(ca),Xo(new Ls("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new sa(new xb(r.getProvider("auth-internal")),new Db(u,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(m.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Ui(pv,mv,e),Ui(pv,mv,"esm2017")})();const HN={apiKey:"AIzaSyDZgN1UJe6A8hzBTsldzWzw1_-66gn8iJQ",authDomain:"todo-60a12.firebaseapp.com",projectId:"todo-60a12",storageBucket:"todo-60a12.firebasestorage.app",messagingSenderId:"284483277024",appId:"1:284483277024:web:0990458bc810b970900085"},WN=pE(HN),RT=Tb(),KN=kN(WN),CT=bm(KN,"users"),ZD=n=>bm(CT,n,"tasks"),eL=n=>bm(CT,n,"tags"),tL=()=>{const n=new Date;n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0);const e=new Date(n);e.setDate(e.getDate()+1);const t=new Date(e);t.setDate(t.getDate()+1);const r=new Date(t),o=new Date(t);return o.setDate(o.getDate()+5),{today:{start:n.getTime(),end:e.getTime()},tomorrow:{start:e.getTime(),end:t.getTime()},near:{start:r.getTime(),end:o.getTime()}}},GN=n=>n>=R0&&n<=C0,nL=n=>new Date(n*1e3).toLocaleString("ru-RU",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}).replace(",",""),rL=n=>new Date(n*1e3).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});class Ml extends Error{constructor(e="Not Found"){super(e),this.name="NotFoundError"}}const iL=n=>{if(n instanceof Ml)throw new Ml},QN=n=>n instanceof Ml,sL=n=>{if(!n)throw new Ml;return n},oL=n=>{const e=Number(n);if(!Number.isInteger(e)||!GN(e))throw new Ml;return e},YN=n=>n instanceof Error?n:new Error(typeof n=="string"?n:"An unknown error occurred"),aL=()=>{const n=RT.currentUser;if(!n)throw new Error("The user is not logged in");return n},XN=()=>{const[n,e,t]=Rb(RT);t&&console.error(t);const r=t?YN(t):void 0;return[n??null,e,r]},JN="_screen_12ylh_9",ZN="_spinner_12ylh_17",h0={screen:JN,spinner:ZN},e2=()=>Z.jsxs("div",{className:h0.screen,children:[Z.jsx("span",{className:"visually-hidden",children:k0.common}),Z.jsx("div",{className:h0.spinner})]});function kT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=kT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ds(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=kT(n))&&(r&&(r+=" "),r+=e);return r}function t2(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}t2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ru=n=>typeof n=="number"&&!isNaN(n),$s=n=>typeof n=="string",ei=n=>typeof n=="function",n2=n=>$s(n)||ru(n),Pp=n=>$s(n)||ei(n)?n:null,r2=(n,e)=>n===!1||ru(n)&&n>0?n:e,bp=n=>F.isValidElement(n)||$s(n)||ei(n)||ru(n);function i2(n,e,t=300){let{scrollHeight:r,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function PT({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:h,done:d,nodeRef:m,isIn:_,playToast:E}){let T=t?`${n}--${u}`:n,S=t?`${e}--${u}`:e,k=F.useRef(0);return F.useLayoutEffect(()=>{let D=m.current,x=T.split(" "),L=z=>{z.target===m.current&&(E(),D.removeEventListener("animationend",L),D.removeEventListener("animationcancel",L),k.current===0&&z.type!=="animationcancel"&&D.classList.remove(...x))};D.classList.add(...x),D.addEventListener("animationend",L),D.addEventListener("animationcancel",L)},[]),F.useEffect(()=>{let D=m.current,x=()=>{D.removeEventListener("animationend",x),r?i2(D,d,o):d()};_||(h?x():(k.current=1,D.className+=` ${S}`,D.addEventListener("animationend",x)))},[_]),Ue.createElement(Ue.Fragment,null,a)}}function d0(n,e){return{content:bT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function bT(n,e,t=!1){return F.isValidElement(n)&&!$s(n.type)?F.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):ei(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function s2({closeToast:n,theme:e,ariaLabel:t="close"}){return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function o2({delay:n,isRunning:e,closeToast:t,type:r="default",hide:o,className:a,controlledProgress:u,progress:h,rtl:d,isIn:m,theme:_}){let E=o||u&&h===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(T.transform=`scaleX(${h})`);let S=Ds("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),k=ei(a)?a({rtl:d,type:r,defaultClassName:S}):Ds(S,a),D={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&t()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${r}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:k,style:T,...D}))}var a2=1,xT=()=>`${a2++}`;function l2(n,e,t){let r=1,o=0,a=[],u=[],h=e,d=new Map,m=new Set,_=z=>(m.add(z),()=>m.delete(z)),E=()=>{u=Array.from(d.values()),m.forEach(z=>z())},T=({containerId:z,toastId:j,updateId:Y})=>{let le=z?z!==n:n!==1,oe=d.has(j)&&Y==null;return le||oe},S=(z,j)=>{d.forEach(Y=>{var le;(j==null||j===Y.props.toastId)&&((le=Y.toggle)==null||le.call(Y,z))})},k=z=>{var j,Y;(Y=(j=z.props)==null?void 0:j.onClose)==null||Y.call(j,z.removalReason),z.isActive=!1},D=z=>{if(z==null)d.forEach(k);else{let j=d.get(z);j&&k(j)}E()},x=()=>{o-=a.length,a=[]},L=z=>{var j,Y;let{toastId:le,updateId:oe}=z.props,O=oe==null;z.staleId&&d.delete(z.staleId),z.isActive=!0,d.set(le,z),E(),t(d0(z,O?"added":"updated")),O&&((Y=(j=z.props).onOpen)==null||Y.call(j))};return{id:n,props:h,observe:_,toggle:S,removeToast:D,toasts:d,clearQueue:x,buildToast:(z,j)=>{if(T(j))return;let{toastId:Y,updateId:le,data:oe,staleId:O,delay:A}=j,C=le==null;C&&o++;let V={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([N,R])=>R!=null)),toastId:Y,updateId:le,data:oe,isIn:!1,className:Pp(j.className||h.toastClassName),progressClassName:Pp(j.progressClassName||h.progressClassName),autoClose:j.isLoading?!1:r2(j.autoClose,h.autoClose),closeToast(N){d.get(Y).removalReason=N,D(Y)},deleteToast(){let N=d.get(Y);if(N!=null){if(t(d0(N,"removed")),d.delete(Y),o--,o<0&&(o=0),a.length>0){L(a.shift());return}E()}}};V.closeButton=h.closeButton,j.closeButton===!1||bp(j.closeButton)?V.closeButton=j.closeButton:j.closeButton===!0&&(V.closeButton=bp(h.closeButton)?h.closeButton:!0);let P={content:z,props:V,staleId:O};h.limit&&h.limit>0&&o>h.limit&&C?a.push(P):ru(A)?setTimeout(()=>{L(P)},A):L(P)},setProps(z){h=z},setToggle:(z,j)=>{let Y=d.get(z);Y&&(Y.toggle=j)},isToastActive:z=>{var j;return(j=d.get(z))==null?void 0:j.isActive},getSnapshot:()=>u}}var Gt=new Map,Fl=[],xp=new Set,u2=n=>xp.forEach(e=>e(n)),OT=()=>Gt.size>0;function c2(){Fl.forEach(n=>DT(n.content,n.options)),Fl=[]}var f2=(n,{containerId:e})=>{var t;return(t=Gt.get(e||1))==null?void 0:t.toasts.get(n)};function NT(n,e){var t;if(e)return!!((t=Gt.get(e))!=null&&t.isToastActive(n));let r=!1;return Gt.forEach(o=>{o.isToastActive(n)&&(r=!0)}),r}function h2(n){if(!OT()){Fl=Fl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||n2(n))Gt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Gt.get(n.containerId);e?e.removeToast(n.id):Gt.forEach(t=>{t.removeToast(n.id)})}}var d2=(n={})=>{Gt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function DT(n,e){bp(n)&&(OT()||Fl.push({content:n,options:e}),Gt.forEach(t=>{t.buildToast(n,e)}))}function p2(n){var e;(e=Gt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function LT(n,e){Gt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function m2(n){let e=n.containerId||1;return{subscribe(t){let r=l2(e,n,u2);Gt.set(e,r);let o=r.observe(t);return c2(),()=>{o(),Gt.delete(e)}},setProps(t){var r;(r=Gt.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Gt.get(e))==null?void 0:t.getSnapshot()}}}function g2(n){return xp.add(n),()=>{xp.delete(n)}}function y2(n){return n&&($s(n.toastId)||ru(n.toastId))?n.toastId:xT()}function iu(n,e){return DT(n,e),e.toastId}function Qf(n,e){return{...e,type:e&&e.type||n,toastId:y2(e)}}function Yf(n){return(e,t)=>iu(e,Qf(n,t))}function We(n,e){return iu(n,Qf("default",e))}We.loading=(n,e)=>iu(n,Qf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _2(n,{pending:e,error:t,success:r},o){let a;e&&(a=$s(e)?We.loading(e,o):We.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,_,E)=>{if(_==null){We.dismiss(a);return}let T={type:m,...u,...o,data:E},S=$s(_)?{render:_}:_;return a?We.update(a,{...T,...S}):We(S.render,{...T,...S}),E},d=ei(n)?n():n;return d.then(m=>h("success",r,m)).catch(m=>h("error",t,m)),d}We.promise=_2;We.success=Yf("success");We.info=Yf("info");We.error=Yf("error");We.warning=Yf("warning");We.warn=We.warning;We.dark=(n,e)=>iu(n,Qf("default",{theme:"dark",...e}));function v2(n){h2(n)}We.dismiss=v2;We.clearWaitingQueue=d2;We.isActive=NT;We.update=(n,e={})=>{let t=f2(n,e);if(t){let{props:r,content:o}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:xT()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,iu(u,a)}};We.done=n=>{We.update(n,{progress:1})};We.onChange=g2;We.play=n=>LT(!0,n);We.pause=n=>LT(!1,n);function E2(n){var e;let{subscribe:t,getSnapshot:r,setProps:o}=F.useRef(m2(n)).current;o(n);let a=(e=F.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(h){if(!a)return[];let d=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:_}=m.props;d.has(_)||d.set(_,[]),d.get(_).push(m)}),Array.from(d,m=>h(m[0],m[1]))}return{getToastToRender:u,isToastActive:NT,count:a==null?void 0:a.length}}function w2(n){let[e,t]=F.useState(!1),[r,o]=F.useState(!1),a=F.useRef(null),u=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:m,onClick:_,closeOnClick:E}=n;p2({id:n.toastId,containerId:n.containerId,fn:t}),F.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{S()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||L(),window.addEventListener("focus",x),window.addEventListener("blur",L)}function S(){window.removeEventListener("focus",x),window.removeEventListener("blur",L)}function k(O){if(n.draggable===!0||n.draggable===O.pointerType){z();let A=a.current;u.canCloseOnClick=!0,u.canDrag=!0,A.style.transition="none",n.draggableDirection==="x"?(u.start=O.clientX,u.removalDistance=A.offsetWidth*(n.draggablePercent/100)):(u.start=O.clientY,u.removalDistance=A.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function D(O){let{top:A,bottom:C,left:V,right:P}=a.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&n.pauseOnHover&&O.clientX>=V&&O.clientX<=P&&O.clientY>=A&&O.clientY<=C?L():x()}function x(){t(!0)}function L(){t(!1)}function z(){u.didMove=!1,document.addEventListener("pointermove",Y),document.addEventListener("pointerup",le)}function j(){document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",le)}function Y(O){let A=a.current;if(u.canDrag&&A){u.didMove=!0,e&&L(),n.draggableDirection==="x"?u.delta=O.clientX-u.start:u.delta=O.clientY-u.start,u.start!==O.clientX&&(u.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;A.style.transform=`translate3d(${C},0)`,A.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function le(){j();let O=a.current;if(u.canDrag&&u.didMove&&O){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let oe={onPointerDown:k,onPointerUp:D};return h&&d&&(oe.onMouseEnter=L,n.stacked||(oe.onMouseLeave=x)),E&&(oe.onClick=O=>{_&&_(O),u.canCloseOnClick&&m(!0)}),{playToast:x,pauseToast:L,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:oe}}var T2=typeof window<"u"?F.useLayoutEffect:F.useEffect,Xf=({theme:n,type:e,isLoading:t,...r})=>Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function I2(n){return Ue.createElement(Xf,{...n},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function S2(n){return Ue.createElement(Xf,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function A2(n){return Ue.createElement(Xf,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function R2(n){return Ue.createElement(Xf,{...n},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function C2(){return Ue.createElement("div",{className:"Toastify__spinner"})}var Op={info:S2,warning:I2,success:A2,error:R2,spinner:C2},k2=n=>n in Op;function P2({theme:n,type:e,isLoading:t,icon:r}){let o=null,a={theme:n,type:e};return r===!1||(ei(r)?o=r({...a,isLoading:t}):F.isValidElement(r)?o=F.cloneElement(r,a):t?o=Op.spinner():k2(e)&&(o=Op[e](a))),o}var b2=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:a}=w2(n),{closeButton:u,children:h,autoClose:d,onClick:m,type:_,hideProgressBar:E,closeToast:T,transition:S,position:k,className:D,style:x,progressClassName:L,updateId:z,role:j,progress:Y,rtl:le,toastId:oe,deleteToast:O,isIn:A,isLoading:C,closeOnClick:V,theme:P,ariaLabel:N}=n,R=Ds("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":le},{"Toastify__toast--close-on-click":V}),re=ei(D)?D({rtl:le,position:k,type:_,defaultClassName:R}):Ds(R,D),ae=P2(n),Se=!!Y||!d,W={closeToast:T,type:_,theme:P},Q=null;return u===!1||(ei(u)?Q=u(W):F.isValidElement(u)?Q=F.cloneElement(u,W):Q=s2(W)),Ue.createElement(S,{isIn:A,done:O,position:k,preventExitTransition:t,nodeRef:r,playToast:a},Ue.createElement("div",{id:oe,tabIndex:0,onClick:m,"data-in":A,className:re,...o,style:x,ref:r,...A&&{role:j,"aria-label":N}},ae!=null&&Ue.createElement("div",{className:Ds("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},ae),bT(h,n,!e),Q,!n.customProgressBar&&Ue.createElement(o2,{...z&&!Se?{key:`p-${z}`}:{},rtl:le,theme:P,delay:d,isRunning:e,isIn:A,closeToast:T,hide:E,type:_,className:L,controlledProgress:Se,progress:Y||0})))},VT=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),x2=PT(VT("bounce",!0)),MT=PT(VT("slide",!0)),O2={position:"top-right",transition:x2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function N2(n){let e={...O2,...n},t=n.stacked,[r,o]=F.useState(!0),a=F.useRef(null),{getToastToRender:u,isToastActive:h,count:d}=E2(e),{className:m,style:_,rtl:E,containerId:T,hotKeys:S}=e;function k(x){let L=Ds("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":E});return ei(m)?m({position:x,rtl:E,defaultClassName:L}):Ds(L,Pp(m))}function D(){t&&(o(!0),We.play())}return T2(()=>{var x;if(t){let L=a.current.querySelectorAll('[data-in="true"]'),z=12,j=(x=e.position)==null?void 0:x.includes("top"),Y=0,le=0;Array.from(L).reverse().forEach((oe,O)=>{let A=oe;A.classList.add("Toastify__toast--stacked"),O>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=j?"top":"bot");let C=Y*(r?.2:1)+(r?0:z*O);A.style.setProperty("--y",`${j?C:C*-1}px`),A.style.setProperty("--g",`${z}`),A.style.setProperty("--s",`${1-(r?le:0)}`),Y+=A.offsetHeight,le+=.025})}},[r,d,t]),F.useEffect(()=>{function x(L){var z;let j=a.current;S(L)&&((z=j.querySelector('[tabIndex="0"]'))==null||z.focus(),o(!1),We.pause()),L.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(o(!0),We.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[S]),Ue.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(o(!1),We.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((x,L)=>{let z=L.length?{..._}:{..._,pointerEvents:"none"};return Ue.createElement("div",{tabIndex:-1,className:k(x),"data-stacked":t,style:z,key:`c-${x}`},L.map(({content:j,props:Y})=>Ue.createElement(b2,{...Y,stacked:t,collapseAll:D,isIn:h(Y.toastId,Y.containerId),key:`t-${Y.key}`},j)))}))}const D2=n=>{We.error(n,{transition:MT})},lL=n=>{We.success(n,{transition:MT})},L2=(n,e)=>{F.useEffect(()=>{!(e!=null&&e.name)||!(e!=null&&e.message)||D2(n)},[e==null?void 0:e.name,e==null?void 0:e.message,n])},fn="/todo-app/",p0=`${fn}login`,V2=`${fn}registration`,M2=`${fn}today`,F2=`${fn}tomorrow`,U2=`${fn}calendar`,$2=`${fn}privacy-policy`,j2=`${fn}auth/reset-password`,z2=`${fn}auth/action`,B2=`${fn}about`,q2=n=>`${fn}tag/${n}`,H2=n=>`${fn}tasks-day/${n}`,W2=F.lazy(()=>wn(()=>import("./HomePage-CdDMWXga.js"),__vite__mapDeps([0,1,2,3]))),K2=F.lazy(()=>wn(()=>import("./LoginPage-C0Jq711u.js"),__vite__mapDeps([4,5,6,7,8,1,2,9]))),G2=F.lazy(()=>wn(()=>import("./UpcomingPage-6zX5Noi6.js"),__vite__mapDeps([10,11,6,7,12,13,14,15,16,17,18,19]))),Q2=F.lazy(()=>wn(()=>import("./RegistrationPage-r7vX9BPJ.js"),__vite__mapDeps([20,5,6,7,8,1,2,14,15,9]))),Y2=F.lazy(()=>wn(()=>import("./TodayPage-CElbnAEN.js"),__vite__mapDeps([21,22,11,6,7,12,13,14,15,16,17,18]))),X2=F.lazy(()=>wn(()=>import("./TomorrowPage-Bbh14FVU.js"),__vite__mapDeps([23,22,11,6,7,12,13,14,15,16,17,18]))),J2=F.lazy(()=>wn(()=>import("./TagPage-DQAnA77f.js"),__vite__mapDeps([24,22,11,6,7,12,13,14,15,16,17,18,25]))),Z2=F.lazy(()=>wn(()=>import("./CalendarPage-C_p2bgGh.js"),__vite__mapDeps([26,6,7,11,12,13,14,15,16,25,27]))),eD=F.lazy(()=>wn(()=>import("./TasksDay-B_B62mxB.js"),__vite__mapDeps([28,22,11,6,7,12,13,14,15,16,17,18]))),tD=F.lazy(()=>wn(()=>import("./ResetPasswordPage-c1W-HNT6.js"),__vite__mapDeps([29,1,2,6,7,9]))),nD=F.lazy(()=>wn(()=>import("./ActionPage-BLyS2D9O.js"),__vite__mapDeps([30,6,7,9,1,2,12,13]))),rD=F.lazy(()=>wn(()=>import("./PolicyPage-D2HBX4n4.js"),[])),iD=F.lazy(()=>wn(()=>import("./AboutPage-L5r-4qWS.js"),__vite__mapDeps([31,1,2]))),sD=()=>{const[n,e,t]=XN();L2(HS.userLoading,t);const r=Z.jsxs(Z.Fragment,{children:[Z.jsx(Ot,{path:fn,element:Z.jsx(F.Suspense,{children:Z.jsx(G2,{})})}),Z.jsx(Ot,{path:M2,element:Z.jsx(F.Suspense,{children:Z.jsx(Y2,{})})}),Z.jsx(Ot,{path:F2,element:Z.jsx(F.Suspense,{children:Z.jsx(X2,{})})}),Z.jsx(Ot,{path:q2(":id"),element:Z.jsx(F.Suspense,{children:Z.jsx(J2,{})})}),Z.jsx(Ot,{path:U2,element:Z.jsx(F.Suspense,{children:Z.jsx(Z2,{})})}),Z.jsx(Ot,{path:H2(":timestampDay"),element:Z.jsx(F.Suspense,{children:Z.jsx(eD,{})})}),Z.jsx(Ot,{path:"*",element:Z.jsx(k_,{to:fn})})]}),o=Z.jsxs(Z.Fragment,{children:[Z.jsx(Ot,{path:fn,element:Z.jsx(F.Suspense,{children:Z.jsx(W2,{})})}),Z.jsx(Ot,{path:p0,element:Z.jsx(F.Suspense,{children:Z.jsx(K2,{})})}),Z.jsx(Ot,{path:V2,element:Z.jsx(F.Suspense,{children:Z.jsx(Q2,{})})}),Z.jsx(Ot,{path:j2,element:Z.jsx(F.Suspense,{children:Z.jsx(tD,{})})}),Z.jsx(Ot,{path:"*",element:Z.jsx(k_,{to:p0})})]});return e?Z.jsx(e2,{}):Z.jsx(BA,{children:Z.jsxs(Ot,{element:Z.jsx(RC,{}),children:[Z.jsx(Ot,{path:z2,element:Z.jsx(F.Suspense,{children:Z.jsx(nD,{})})}),Z.jsx(Ot,{path:$2,element:Z.jsx(F.Suspense,{children:Z.jsx(rD,{})})}),Z.jsx(Ot,{path:B2,element:Z.jsx(F.Suspense,{children:Z.jsx(iD,{})})}),n?r:o]})})},oD="_section_1bryu_1",aD="_body_1bryu_11",lD="_description_1bryu_18",Jd={section:oD,body:aD,description:lD},uD=n=>{F.useEffect(()=>{const e=n?`${T_} | ${n}`:T_;document.title=e},[n])},m0=({title:n,description:e,isHomeButton:t,onClickHomeButton:r})=>{uD(n);const o=F.useId();return Z.jsx("section",{className:Jd.section,"aria-labelledby":o,children:Z.jsx("div",{className:"container",children:Z.jsxs("div",{className:Jd.body,children:[Z.jsx("h1",{id:o,className:"h1",children:n}),Z.jsx("div",{className:Jd.description,children:e}),t&&Z.jsx(H0,{to:"/",styleType:"border",onClick:r,children:" "})]})})})},cD=F.createContext(null),Zd={didCatch:!1,error:null};class fD extends F.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Zd}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,r,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];(t=(r=this.props).onReset)===null||t===void 0||t.call(r,{args:a,reason:"imperative-api"}),this.setState(Zd)}}componentDidCatch(e,t){var r,o;(r=(o=this.props).onError)===null||r===void 0||r.call(o,e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:o}=this.props;if(r&&t.error!==null&&hD(e.resetKeys,o)){var a,u;(a=(u=this.props).onReset)===null||a===void 0||a.call(u,{next:o,prev:e.resetKeys,reason:"keys"}),this.setState(Zd)}}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:o}=this.props,{didCatch:a,error:u}=this.state;let h=e;if(a){const d={error:u,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")h=t(d);else if(r)h=F.createElement(r,d);else if(o!==void 0)h=o;else throw u}return F.createElement(cD.Provider,{value:{didCatch:a,error:u,resetErrorBoundary:this.resetErrorBoundary}},h)}}function hD(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,r)=>!Object.is(t,e[r]))}const dD=({children:n})=>{const e=({error:t,resetErrorBoundary:r})=>QN(t)?Z.jsx(m0,{title:"404",description:",   ,     .  URL-     ",isHomeButton:!0,onClickHomeButton:()=>r()}):Z.jsx(m0,{title:"",description:"    .   "});return Z.jsx(fD,{fallbackRender:e,children:n})};var FT=Np();const uL=Ul(FT),UT="#toast",g0=document.querySelector(UT),pD=n=>n.ctrlKey&&n.key==="t",mD=()=>{if(!g0)throw new Error(`Element with selector "${UT}" not found`);return Z.jsx(Z.Fragment,{children:FT.createPortal(Z.jsx(N2,{hotKeys:pD,"aria-label":" Control + T"}),g0)})},gD=()=>Z.jsx(dR,{children:Z.jsxs(dD,{children:[Z.jsx(sD,{}),Z.jsx(mD,{})]})});var Nc={},y0;function yD(){if(y0)return Nc;y0=1;var n=Np();return Nc.createRoot=n.createRoot,Nc.hydrateRoot=n.hydrateRoot,Nc}var _D=yD();wC({string:{email:qS.emailIncorrect}});A0.setAppElement("#root");_D.createRoot(document.getElementById("root")).render(Z.jsx(F.StrictMode,{children:Z.jsx(gD,{})}));export{CD as $,wf as A,H0 as B,U2 as C,QS as D,HS as E,nL as F,XD as G,kD as H,H2 as I,XN as J,CN as K,p0 as L,eL as M,bD as N,Ml as O,$2 as P,oL as Q,j2 as R,xD as S,M2 as T,RD as U,WS as V,rL as W,IR as X,EC as Y,BD as Z,WD as _,$D as a,HD as a0,q0 as a1,MS as a2,vD as a3,$l as a4,Ul as a5,_0 as a6,GD as a7,YD as a8,JD as a9,qS as aA,GN as aB,ID as aC,wD as aD,ED as aE,DD as aF,QD as aa,aL as ab,pR as ac,q2 as ad,mC as ae,Bp as af,Et as ag,qD as ah,SD as ai,KD as aj,ZD as ak,jD as al,B2 as am,OD as an,Ds as ao,uL as ap,SR as aq,YS as ar,UD as as,VD as at,LD as au,MD as av,PD as aw,dC as ax,Y0 as ay,TD as az,RT as b,Qt as c,V2 as d,rE as e,AD as f,tL as g,L2 as h,F2 as i,Z as j,FD as k,zp as l,D2 as m,YN as n,M0 as o,ND as p,sL as q,F as r,lL as s,iL as t,uD as u,fn as v,QN as w,Ue as x,FT as y,k0 as z};
