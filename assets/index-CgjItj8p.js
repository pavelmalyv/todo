const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-cu1PsKDo.js","assets/Book-0WPZ36h1.js","assets/Book-Dt5bGZAQ.css","assets/HomePage-CKgX5tol.css","assets/LoginPage-iJFGSK1i.js","assets/Auth-Br8K-MZ5.js","assets/fields-CHU8Dg_V.js","assets/fields-DnNx9Kf9.css","assets/Auth-OaEkCUSM.css","assets/firebase-CaSYQZqF.js","assets/UpcomingPage-Br4CBQzQ.js","assets/EditTaskModal-f1tCi_vT.js","assets/MessageInfo-CMsQU7rR.js","assets/MessageInfo-BkmHZ-0N.css","assets/Checkbox-SOGNwnwM.js","assets/Checkbox-CI3slMgr.css","assets/EditTaskModal-zuS8_M2o.css","assets/TasksList-CiUQ3o1A.js","assets/TasksList-CQFjBJJE.css","assets/UpcomingPage-DkOTVZN8.css","assets/RegistrationPage-C6xvBHy7.js","assets/TodayPage-BrZzQ2o2.js","assets/TasksPage-C8kJICCT.js","assets/TomorrowPage-BQaDfuUH.js","assets/TagPage-BjPVPTyj.js","assets/useTagSnapshot-DsxlVz--.js","assets/CalendarPage-DtWYDIc3.js","assets/CalendarPage-BTJ_lexK.css","assets/TasksDay-xW88gs2v.js","assets/ResetPasswordPage-DYLxDwbZ.js","assets/ActionPage-YOhtqFps.js","assets/AboutPage-dVOpQ1Zg.js"])))=>i.map(i=>d[i]);
function zI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var _D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function BI(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var Id={exports:{}},ul={},Sd={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function qI(){if(Qy)return xe;Qy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function x(U,X,ge){this.props=U,this.context=X,this.refs=D,this.updater=ge||S}x.prototype.isReactComponent={},x.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function L(){}L.prototype=x.prototype;function z(U,X,ge){this.props=U,this.context=X,this.refs=D,this.updater=ge||S}var j=z.prototype=new L;j.constructor=z,k(j,x.prototype),j.isPureReactComponent=!0;var Y=Array.isArray,le=Object.prototype.hasOwnProperty,oe={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function A(U,X,ge){var ke,be={},Oe=null,$e=null;if(X!=null)for(ke in X.ref!==void 0&&($e=X.ref),X.key!==void 0&&(Oe=""+X.key),X)le.call(X,ke)&&!O.hasOwnProperty(ke)&&(be[ke]=X[ke]);var Be=arguments.length-2;if(Be===1)be.children=ge;else if(1<Be){for(var Ge=Array(Be),Tt=0;Tt<Be;Tt++)Ge[Tt]=arguments[Tt+2];be.children=Ge}if(U&&U.defaultProps)for(ke in Be=U.defaultProps,Be)be[ke]===void 0&&(be[ke]=Be[ke]);return{$$typeof:n,type:U,key:Oe,ref:$e,props:be,_owner:oe.current}}function C(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function P(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return X[ge]})}var N=/\/+/g;function R(U,X){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):X.toString(36)}function re(U,X,ge,ke,be){var Oe=typeof U;(Oe==="undefined"||Oe==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(Oe){case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case n:case e:$e=!0}}if($e)return $e=U,be=be($e),U=ke===""?"."+R($e,0):ke,Y(be)?(ge="",U!=null&&(ge=U.replace(N,"$&/")+"/"),re(be,X,ge,"",function(Tt){return Tt})):be!=null&&(V(be)&&(be=C(be,ge+(!be.key||$e&&$e.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+U)),X.push(be)),1;if($e=0,ke=ke===""?".":ke+":",Y(U))for(var Be=0;Be<U.length;Be++){Oe=U[Be];var Ge=ke+R(Oe,Be);$e+=re(Oe,X,ge,Ge,be)}else if(Ge=T(U),typeof Ge=="function")for(U=Ge.call(U),Be=0;!(Oe=U.next()).done;)Oe=Oe.value,Ge=ke+R(Oe,Be++),$e+=re(Oe,X,ge,Ge,be);else if(Oe==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return $e}function ae(U,X,ge){if(U==null)return U;var ke=[],be=0;return re(U,ke,"","",function(Oe){return X.call(ge,Oe,be++)}),ke}function Se(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var W={current:null},Q={transition:null},fe={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:Q,ReactCurrentOwner:oe};function se(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:ae,forEach:function(U,X,ge){ae(U,function(){X.apply(this,arguments)},ge)},count:function(U){var X=0;return ae(U,function(){X++}),X},toArray:function(U){return ae(U,function(X){return X})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},xe.Component=x,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=z,xe.StrictMode=r,xe.Suspense=d,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,xe.act=se,xe.cloneElement=function(U,X,ge){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ke=k({},U.props),be=U.key,Oe=U.ref,$e=U._owner;if(X!=null){if(X.ref!==void 0&&(Oe=X.ref,$e=oe.current),X.key!==void 0&&(be=""+X.key),U.type&&U.type.defaultProps)var Be=U.type.defaultProps;for(Ge in X)le.call(X,Ge)&&!O.hasOwnProperty(Ge)&&(ke[Ge]=X[Ge]===void 0&&Be!==void 0?Be[Ge]:X[Ge])}var Ge=arguments.length-2;if(Ge===1)ke.children=ge;else if(1<Ge){Be=Array(Ge);for(var Tt=0;Tt<Ge;Tt++)Be[Tt]=arguments[Tt+2];ke.children=Be}return{$$typeof:n,type:U.type,key:be,ref:Oe,props:ke,_owner:$e}},xe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},xe.createElement=A,xe.createFactory=function(U){var X=A.bind(null,U);return X.type=U,X},xe.createRef=function(){return{current:null}},xe.forwardRef=function(U){return{$$typeof:h,render:U}},xe.isValidElement=V,xe.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Se}},xe.memo=function(U,X){return{$$typeof:m,type:U,compare:X===void 0?null:X}},xe.startTransition=function(U){var X=Q.transition;Q.transition={};try{U()}finally{Q.transition=X}},xe.unstable_act=se,xe.useCallback=function(U,X){return W.current.useCallback(U,X)},xe.useContext=function(U){return W.current.useContext(U)},xe.useDebugValue=function(){},xe.useDeferredValue=function(U){return W.current.useDeferredValue(U)},xe.useEffect=function(U,X){return W.current.useEffect(U,X)},xe.useId=function(){return W.current.useId()},xe.useImperativeHandle=function(U,X,ge){return W.current.useImperativeHandle(U,X,ge)},xe.useInsertionEffect=function(U,X){return W.current.useInsertionEffect(U,X)},xe.useLayoutEffect=function(U,X){return W.current.useLayoutEffect(U,X)},xe.useMemo=function(U,X){return W.current.useMemo(U,X)},xe.useReducer=function(U,X,ge){return W.current.useReducer(U,X,ge)},xe.useRef=function(U){return W.current.useRef(U)},xe.useState=function(U){return W.current.useState(U)},xe.useSyncExternalStore=function(U,X,ge){return W.current.useSyncExternalStore(U,X,ge)},xe.useTransition=function(){return W.current.useTransition()},xe.version="18.3.1",xe}var Yy;function Ul(){return Yy||(Yy=1,Sd.exports=qI()),Sd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function HI(){if(Xy)return ul;Xy=1;var n=Ul(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,d,m){var _,E={},T=null,S=null;m!==void 0&&(T=""+m),d.key!==void 0&&(T=""+d.key),d.ref!==void 0&&(S=d.ref);for(_ in d)r.call(d,_)&&!a.hasOwnProperty(_)&&(E[_]=d[_]);if(h&&h.defaultProps)for(_ in d=h.defaultProps,d)E[_]===void 0&&(E[_]=d[_]);return{$$typeof:e,type:h,key:T,ref:S,props:E,_owner:o.current}}return ul.Fragment=t,ul.jsx=u,ul.jsxs=u,ul}var Jy;function WI(){return Jy||(Jy=1,Id.exports=HI()),Id.exports}var Z=WI();const KI="modulepreload",GI=function(n){return"/ToDo/"+n},Zy={},En=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(t.map(d=>{if(d=GI(d),d in Zy)return;Zy[d]=!0;const m=d.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const E=document.createElement("link");if(E.rel=m?"stylesheet":KI,m||(E.as="script"),E.crossOrigin="",E.href=d,h&&E.setAttribute("nonce",h),document.head.appendChild(E),m)return new Promise((T,S)=>{E.addEventListener("load",T),E.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},QI="_root_4ymro_1",YI="_title_4ymro_8",XI="_body_4ymro_12",Ad={root:QI,title:YI,body:XI};var Rd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var e_;function JI(){return e_||(e_=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(a=o(a,r(h)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var h in a)e.call(a,h)&&a[h]&&(u=o(u,h));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Rd)),Rd.exports}var ZI=JI();const Qt=Fl(ZI),eS="_container_7vk3u_5",tS="_modal_7vk3u_10",nS="_root_7vk3u_15",rS="_root_dialog_7vk3u_19",iS="_overlay_7vk3u_25",sS="_root_popup_7vk3u_78",oS="_root_full_7vk3u_101",aS="_close_7vk3u_109",lS="_title_7vk3u_115",uS="_buttons_7vk3u_120",cS="_description_7vk3u_126",on={"body-open":"_body-open_7vk3u_1",container:eS,modal:tS,root:nS,root_dialog:rS,overlay:iS,"root_animation-fade":"_root_animation-fade_7vk3u_35","root_after-open-fade":"_root_after-open-fade_7vk3u_40","root_before-close-fade":"_root_before-close-fade_7vk3u_43","root_animation-slide":"_root_animation-slide_7vk3u_46","root_after-open-slide":"_root_after-open-slide_7vk3u_56","root_before-close-slide":"_root_before-close-slide_7vk3u_62",root_popup:sS,root_full:oS,close:aS,title:lS,buttons:uS,description:cS};var vc={exports:{}},ki={},Cd={exports:{}},rn={},kd={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function fS(){return t_||(t_=1,function(n){function e(Q,fe){var se=Q.length;Q.push(fe);e:for(;0<se;){var U=se-1>>>1,X=Q[U];if(0<o(X,fe))Q[U]=fe,Q[se]=X,se=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var fe=Q[0],se=Q.pop();if(se!==fe){Q[0]=se;e:for(var U=0,X=Q.length,ge=X>>>1;U<ge;){var ke=2*(U+1)-1,be=Q[ke],Oe=ke+1,$e=Q[Oe];if(0>o(be,se))Oe<X&&0>o($e,be)?(Q[U]=$e,Q[Oe]=se,U=Oe):(Q[U]=be,Q[ke]=se,U=ke);else if(Oe<X&&0>o($e,se))Q[U]=$e,Q[Oe]=se,U=Oe;else break e}}return fe}function o(Q,fe){var se=Q.sortIndex-fe.sortIndex;return se!==0?se:Q.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],_=1,E=null,T=3,S=!1,k=!1,D=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Q){for(var fe=t(m);fe!==null;){if(fe.callback===null)r(m);else if(fe.startTime<=Q)r(m),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(m)}}function Y(Q){if(D=!1,j(Q),!k)if(t(d)!==null)k=!0,Se(le);else{var fe=t(m);fe!==null&&W(Y,fe.startTime-Q)}}function le(Q,fe){k=!1,D&&(D=!1,L(A),A=-1),S=!0;var se=T;try{for(j(fe),E=t(d);E!==null&&(!(E.expirationTime>fe)||Q&&!P());){var U=E.callback;if(typeof U=="function"){E.callback=null,T=E.priorityLevel;var X=U(E.expirationTime<=fe);fe=n.unstable_now(),typeof X=="function"?E.callback=X:E===t(d)&&r(d),j(fe)}else r(d);E=t(d)}if(E!==null)var ge=!0;else{var ke=t(m);ke!==null&&W(Y,ke.startTime-fe),ge=!1}return ge}finally{E=null,T=se,S=!1}}var oe=!1,O=null,A=-1,C=5,V=-1;function P(){return!(n.unstable_now()-V<C)}function N(){if(O!==null){var Q=n.unstable_now();V=Q;var fe=!0;try{fe=O(!0,Q)}finally{fe?R():(oe=!1,O=null)}}else oe=!1}var R;if(typeof z=="function")R=function(){z(N)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ae=re.port2;re.port1.onmessage=N,R=function(){ae.postMessage(null)}}else R=function(){x(N,0)};function Se(Q){O=Q,oe||(oe=!0,R())}function W(Q,fe){A=x(function(){Q(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){k||S||(k=!0,Se(le))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var se=T;T=fe;try{return Q()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var se=T;T=Q;try{return fe()}finally{T=se}},n.unstable_scheduleCallback=function(Q,fe,se){var U=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?U+se:U):se=U,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=se+X,Q={id:_++,callback:fe,priorityLevel:Q,startTime:se,expirationTime:X,sortIndex:-1},se>U?(Q.sortIndex=se,e(m,Q),t(d)===null&&Q===t(m)&&(D?(L(A),A=-1):D=!0,W(Y,se-U))):(Q.sortIndex=X,e(d,Q),k||S||(k=!0,Se(le))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var fe=T;return function(){var se=T;T=fe;try{return Q.apply(this,arguments)}finally{T=se}}}}(Pd)),Pd}var n_;function hS(){return n_||(n_=1,kd.exports=fS()),kd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function dS(){if(r_)return rn;r_=1;var n=Ul(),e=hS();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function T(i){return d.call(E,i)?!0:d.call(_,i)?!1:m.test(i)?E[i]=!0:(_[i]=!0,!1)}function S(i,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,s,l,f){if(s===null||typeof s>"u"||S(i,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function D(i,s,l,f,p,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];x[s]=new D(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(L,z);x[s]=new D(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(L,z);x[s]=new D(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(L,z);x[s]=new D(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,s,l,f){var p=x.hasOwnProperty(s)?x[s]:null;(p!==null?p.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,p,f)&&(l=null),f||p===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,f=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,f?i.setAttributeNS(f,s,l):i.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),oe=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),Q=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var se=Object.assign,U;function X(i){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+i}var ge=!1;function ke(i,s){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var f=K}Reflect.construct(i,[],s)}else{try{s.call()}catch(K){f=K}i.call(s.prototype)}else{try{throw Error()}catch(K){f=K}i()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),y=f.stack.split(`
`),w=p.length-1,b=y.length-1;1<=w&&0<=b&&p[w]!==y[b];)b--;for(;1<=w&&0<=b;w--,b--)if(p[w]!==y[b]){if(w!==1||b!==1)do if(w--,b--,0>b||p[w]!==y[b]){var M=`
`+p[w].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=w&&0<=b);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function be(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case oe:return"Portal";case C:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case re:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case P:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case N:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ae:return s=i.displayName||null,s!==null?s:Oe(i.type)||"Memo";case Se:s=i._payload,i=i._init;try{return Oe(i(s))}catch{}}return null}function $e(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ge(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(i){var s=Ge(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){f=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ir(i){i._valueTracker||(i._valueTracker=Tt(i))}function Bs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=Ge(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Zi(i,s){var l=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function qs(i,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),i._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ma(i,s){s=s.checked,s!=null&&j(i,"checked",s,!1)}function ga(i,s){ma(i,s);var l=Be(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Hs(i,s.type,l):s.hasOwnProperty("defaultValue")&&Hs(i,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function iu(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Hs(i,s,l){(s!=="number"||ri(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Sr=Array.isArray;function Ar(i,s,l,f){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function ya(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ws(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Sr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Be(l)}}function Ks(i,s){var l=Be(s.value),f=Be(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),f!=null&&(i.defaultValue=""+f)}function _a(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function mt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?mt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rr,va=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,f,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ii(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ts=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(i){ts.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),es[s]=es[i]})});function Ea(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||es.hasOwnProperty(i)&&es[i]?(""+s).trim():s+"px"}function wa(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,p=Ea(l,s[l],f);l==="float"&&(l="cssFloat"),f?i.setProperty(l,p):i[l]=p}}var Ta=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ia(i,s){if(s){if(Ta[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Sa(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function Gs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qs=null,wn=null,nr=null;function Ys(i){if(i=Ga(i)){if(typeof Qs!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Du(s),Qs(i.stateNode,i.type,s))}}function rr(i){wn?nr?nr.push(i):nr=[i]:wn=i}function Aa(){if(wn){var i=wn,s=nr;if(nr=wn=null,Ys(i),s)for(i=0;i<s.length;i++)Ys(s[i])}}function rs(i,s){return i(s)}function Ra(){}var Cr=!1;function Ca(i,s,l){if(Cr)return i(s,l);Cr=!0;try{return rs(i,s,l)}finally{Cr=!1,(wn!==null||nr!==null)&&(Ra(),Aa())}}function at(i,s){var l=i.stateNode;if(l===null)return null;var f=Du(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Xs=!1;if(h)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Xs=!1}function is(i,s,l,f,p,y,w,b,M){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(ne){this.onError(ne)}}var ss=!1,Js=null,Vn=!1,ka=null,Xf={onError:function(i){ss=!0,Js=i}};function Zs(i,s,l,f,p,y,w,b,M){ss=!1,Js=null,is.apply(Xf,arguments)}function su(i,s,l,f,p,y,w,b,M){if(Zs.apply(this,arguments),ss){if(ss){var K=Js;ss=!1,Js=null}else throw Error(t(198));Vn||(Vn=!0,ka=K)}}function Mn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function os(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(i){if(Mn(i)!==i)throw Error(t(188))}function ou(i){var s=i.alternate;if(!s){if(s=Mn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,f=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){l=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Fn(p),i;if(y===f)return Fn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==f.return)l=p,f=y;else{for(var w=!1,b=p.child;b;){if(b===l){w=!0,l=p,f=y;break}if(b===f){w=!0,f=p,l=y;break}b=b.sibling}if(!w){for(b=y.child;b;){if(b===l){w=!0,l=y,f=p;break}if(b===f){w=!0,f=y,l=p;break}b=b.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Pa(i){return i=ou(i),i!==null?eo(i):null}function eo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=eo(i);if(s!==null)return s;i=i.sibling}return null}var to=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,au=e.unstable_shouldYield,Jf=e.unstable_requestPaint,Qe=e.unstable_now,lu=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,si=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,xa=e.unstable_LowPriority,uu=e.unstable_IdlePriority,ls=null,fn=null;function cu(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ls,i,void 0,(i.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:hu,Oa=Math.log,fu=Math.LN2;function hu(i){return i>>>=0,i===0?32:31-(Oa(i)/fu|0)|0}var no=64,ro=4194304;function oi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function us(i,s){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,y=i.pingedLanes,w=l&268435455;if(w!==0){var b=w&~p;b!==0?f=oi(b):(y&=w,y!==0&&(f=oi(y)))}else w=l&~p,w!==0?f=oi(w):y!==0&&(f=oi(y));if(f===0)return 0;if(s!==0&&s!==f&&(s&p)===0&&(p=f&-f,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=f;0<s;)l=31-qt(s),p=1<<l,f|=i[l],s&=~p;return f}function Zf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-qt(y),b=1<<w,M=p[w];M===-1?((b&l)===0||(b&f)!==0)&&(p[w]=Zf(b,s)):M<=s&&(i.expiredLanes|=b),y&=~b}}function hn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function cs(){var i=no;return no<<=1,(no&4194240)===0&&(no=64),i}function ai(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function li(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-qt(s),i[s]=l}function Ke(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-qt(l),y=1<<p;s[p]=0,f[p]=-1,i[p]=-1,l&=~y}}function ui(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-qt(l),p=1<<f;p&s|i[f]&s&&(i[f]|=s),l&=~p}}var Le=0;function ci(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var du,io,pu,mu,gu,Na=!1,ir=[],kt=null,Un=null,$n=null,fi=new Map,In=new Map,sr=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(i,s){switch(i){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":fi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(s.pointerId)}}function Yt(i,s,l,f,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ga(s),s!==null&&io(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function th(i,s,l,f,p){switch(s){case"focusin":return kt=Yt(kt,i,s,l,f,p),!0;case"dragenter":return Un=Yt(Un,i,s,l,f,p),!0;case"mouseover":return $n=Yt($n,i,s,l,f,p),!0;case"pointerover":var y=p.pointerId;return fi.set(y,Yt(fi.get(y)||null,i,s,l,f,p)),!0;case"gotpointercapture":return y=p.pointerId,In.set(y,Yt(In.get(y)||null,i,s,l,f,p)),!0}return!1}function _u(i){var s=ms(i.target);if(s!==null){var l=Mn(s);if(l!==null){if(s=l.tag,s===13){if(s=os(l),s!==null){i.blockedOn=s,gu(i.priority,function(){pu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=so(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);ns=f,l.target.dispatchEvent(f),ns=null}else return s=Ga(l),s!==null&&io(s),i.blockedOn=l,!1;s.shift()}return!0}function fs(i,s,l){Pr(i)&&l.delete(s)}function vu(){Na=!1,kt!==null&&Pr(kt)&&(kt=null),Un!==null&&Pr(Un)&&(Un=null),$n!==null&&Pr($n)&&($n=null),fi.forEach(fs),In.forEach(fs)}function jn(i,s){i.blockedOn===s&&(i.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function zn(i){function s(p){return jn(p,i)}if(0<ir.length){jn(ir[0],i);for(var l=1;l<ir.length;l++){var f=ir[l];f.blockedOn===i&&(f.blockedOn=null)}}for(kt!==null&&jn(kt,i),Un!==null&&jn(Un,i),$n!==null&&jn($n,i),fi.forEach(s),In.forEach(s),l=0;l<sr.length;l++)f=sr[l],f.blockedOn===i&&(f.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)_u(l),l.blockedOn===null&&sr.shift()}var br=Y.ReactCurrentBatchConfig,hi=!0;function et(i,s,l,f){var p=Le,y=br.transition;br.transition=null;try{Le=1,Da(i,s,l,f)}finally{Le=p,br.transition=y}}function nh(i,s,l,f){var p=Le,y=br.transition;br.transition=null;try{Le=4,Da(i,s,l,f)}finally{Le=p,br.transition=y}}function Da(i,s,l,f){if(hi){var p=so(i,s,l,f);if(p===null)dh(i,s,f,hs,l),yu(i,f);else if(th(p,i,s,l,f))f.stopPropagation();else if(yu(i,f),s&4&&-1<eh.indexOf(i)){for(;p!==null;){var y=Ga(p);if(y!==null&&du(y),y=so(i,s,l,f),y===null&&dh(i,s,f,hs,l),y===p)break;p=y}p!==null&&f.stopPropagation()}else dh(i,s,f,null,l)}}var hs=null;function so(i,s,l,f){if(hs=null,i=Gs(f),i=ms(i),i!==null)if(s=Mn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=os(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return hs=i,null}function La(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lu()){case as:return 1;case si:return 4;case Tn:case xa:return 16;case uu:return 536870912;default:return 16}default:return 16}}var dn=null,oo=null,Xt=null;function Va(){if(Xt)return Xt;var i,s=oo,l=s.length,f,p="value"in dn?dn.value:dn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var w=l-i;for(f=1;f<=w&&s[l-f]===p[y-f];f++);return Xt=p.slice(i,1<f?1-f:void 0)}function ao(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function or(){return!0}function Ma(){return!1}function Pt(i){function s(l,f,p,y,w){this._reactName=l,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(l=i[b],this[b]=l?l(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?or:Ma,this.isPropagationStopped=Ma,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Pt(Bn),ar=se({},Bn,{view:0,detail:0}),rh=Pt(ar),uo,xr,di,ds=se({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(uo=i.screenX-di.screenX,xr=i.screenY-di.screenY):xr=uo=0,di=i),uo)},movementY:function(i){return"movementY"in i?i.movementY:xr}}),co=Pt(ds),Fa=se({},ds,{dataTransfer:0}),Eu=Pt(Fa),fo=se({},ar,{relatedTarget:0}),ho=Pt(fo),wu=se({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Or=Pt(wu),Tu=se({},Bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Iu=Pt(Tu),Su=se({},Bn,{data:0}),Ua=Pt(Su),po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Au[i])?!!s[i]:!1}function lr(){return Ru}var c=se({},ar,{key:function(i){if(i.key){var s=po[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ao(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ht[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(i){return i.type==="keypress"?ao(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ao(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Pt(c),v=se({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Pt(v),B=se({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),G=Pt(B),ce=se({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Pt(ce),yt=se({},ds,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Pt(yt),It=[9,13,27,32],ft=h&&"CompositionEvent"in window,Sn=null;h&&"documentMode"in document&&(Sn=document.documentMode);var pn=h&&"TextEvent"in window&&!Sn,ps=h&&(!ft||Sn&&8<Sn&&11>=Sn),mo=" ",Bm=!1;function qm(i,s){switch(i){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var go=!1;function UT(i,s){switch(i){case"compositionend":return Hm(s);case"keypress":return s.which!==32?null:(Bm=!0,mo);case"textInput":return i=s.data,i===mo&&Bm?null:i;default:return null}}function $T(i,s){if(go)return i==="compositionend"||!ft&&qm(i,s)?(i=Va(),Xt=oo=dn=null,go=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ps&&s.locale!=="ko"?null:s.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!jT[i.type]:s==="textarea"}function Km(i,s,l,f){rr(f),s=xu(s,"onChange"),0<s.length&&(l=new lo("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var $a=null,ja=null;function zT(i){fg(i,0)}function Cu(i){var s=wo(i);if(Bs(s))return i}function BT(i,s){if(i==="change")return s}var Gm=!1;if(h){var ih;if(h){var sh="oninput"in document;if(!sh){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),sh=typeof Qm.oninput=="function"}ih=sh}else ih=!1;Gm=ih&&(!document.documentMode||9<document.documentMode)}function Ym(){$a&&($a.detachEvent("onpropertychange",Xm),ja=$a=null)}function Xm(i){if(i.propertyName==="value"&&Cu(ja)){var s=[];Km(s,ja,i,Gs(i)),Ca(zT,s)}}function qT(i,s,l){i==="focusin"?(Ym(),$a=s,ja=l,$a.attachEvent("onpropertychange",Xm)):i==="focusout"&&Ym()}function HT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cu(ja)}function WT(i,s){if(i==="click")return Cu(s)}function KT(i,s){if(i==="input"||i==="change")return Cu(s)}function GT(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var qn=typeof Object.is=="function"?Object.is:GT;function za(i,s){if(qn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var p=l[f];if(!d.call(s,p)||!qn(i[p],s[p]))return!1}return!0}function Jm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zm(i,s){var l=Jm(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jm(l)}}function eg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?eg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function tg(){for(var i=window,s=ri();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ri(i.document)}return s}function oh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function QT(i){var s=tg(),l=i.focusedElem,f=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&eg(l.ownerDocument.documentElement,l)){if(f!==null&&oh(l)){if(s=f.start,i=f.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(f.start,p);f=f.end===void 0?y:Math.min(f.end,p),!i.extend&&y>f&&(p=f,f=y,y=p),p=Zm(l,y);var w=Zm(l,f);p&&w&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>f?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var YT=h&&"documentMode"in document&&11>=document.documentMode,yo=null,ah=null,Ba=null,lh=!1;function ng(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lh||yo==null||yo!==ri(f)||(f=yo,"selectionStart"in f&&oh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ba&&za(Ba,f)||(Ba=f,f=xu(ah,"onSelect"),0<f.length&&(s=new lo("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=yo)))}function ku(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var _o={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},uh={},rg={};h&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Pu(i){if(uh[i])return uh[i];if(!_o[i])return i;var s=_o[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in rg)return uh[i]=s[l];return i}var ig=Pu("animationend"),sg=Pu("animationiteration"),og=Pu("animationstart"),ag=Pu("transitionend"),lg=new Map,ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(i,s){lg.set(i,s),a(s,[i])}for(var ch=0;ch<ug.length;ch++){var fh=ug[ch],XT=fh.toLowerCase(),JT=fh[0].toUpperCase()+fh.slice(1);pi(XT,"on"+JT)}pi(ig,"onAnimationEnd"),pi(sg,"onAnimationIteration"),pi(og,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(ag,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function cg(i,s,l){var f=i.type||"unknown-event";i.currentTarget=l,su(f,s,void 0,i),i.currentTarget=null}function fg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],p=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var w=f.length-1;0<=w;w--){var b=f[w],M=b.instance,K=b.currentTarget;if(b=b.listener,M!==y&&p.isPropagationStopped())break e;cg(p,b,K),y=M}else for(w=0;w<f.length;w++){if(b=f[w],M=b.instance,K=b.currentTarget,b=b.listener,M!==y&&p.isPropagationStopped())break e;cg(p,b,K),y=M}}}if(Vn)throw i=ka,Vn=!1,ka=null,i}function Je(i,s){var l=s[vh];l===void 0&&(l=s[vh]=new Set);var f=i+"__bubble";l.has(f)||(hg(s,i,2,!1),l.add(f))}function hh(i,s,l){var f=0;s&&(f|=4),hg(l,i,f,s)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Ha(i){if(!i[bu]){i[bu]=!0,r.forEach(function(l){l!=="selectionchange"&&(ZT.has(l)||hh(l,!1,i),hh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[bu]||(s[bu]=!0,hh("selectionchange",!1,s))}}function hg(i,s,l,f){switch(La(s)){case 1:var p=et;break;case 4:p=nh;break;default:p=Da}l=p.bind(null,s,l,i),p=void 0,!Xs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function dh(i,s,l,f,p){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var b=f.stateNode.containerInfo;if(b===p||b.nodeType===8&&b.parentNode===p)break;if(w===4)for(w=f.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;w=w.return}for(;b!==null;){if(w=ms(b),w===null)return;if(M=w.tag,M===5||M===6){f=y=w;continue e}b=b.parentNode}}f=f.return}Ca(function(){var K=y,ne=Gs(l),ie=[];e:{var te=lg.get(i);if(te!==void 0){var de=lo,ye=i;switch(i){case"keypress":if(ao(l)===0)break e;case"keydown":case"keyup":de=g;break;case"focusin":ye="focus",de=ho;break;case"focusout":ye="blur",de=ho;break;case"beforeblur":case"afterblur":de=ho;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case ig:case sg:case og:de=Or;break;case ag:de=He;break;case"scroll":de=rh;break;case"wheel":de=Me;break;case"copy":case"cut":case"paste":de=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=I}var _e=(s&4)!==0,lt=!_e&&i==="scroll",q=_e?te!==null?te+"Capture":null:te;_e=[];for(var $=K,H;$!==null;){H=$;var ue=H.stateNode;if(H.tag===5&&ue!==null&&(H=ue,q!==null&&(ue=at($,q),ue!=null&&_e.push(Wa($,ue,H)))),lt)break;$=$.return}0<_e.length&&(te=new de(te,ye,null,l,ne),ie.push({event:te,listeners:_e}))}}if((s&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",te&&l!==ns&&(ye=l.relatedTarget||l.fromElement)&&(ms(ye)||ye[Nr]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(ye=l.relatedTarget||l.toElement,de=K,ye=ye?ms(ye):null,ye!==null&&(lt=Mn(ye),ye!==lt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(de=null,ye=K),de!==ye)){if(_e=co,ue="onMouseLeave",q="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(_e=I,ue="onPointerLeave",q="onPointerEnter",$="pointer"),lt=de==null?te:wo(de),H=ye==null?te:wo(ye),te=new _e(ue,$+"leave",de,l,ne),te.target=lt,te.relatedTarget=H,ue=null,ms(ne)===K&&(_e=new _e(q,$+"enter",ye,l,ne),_e.target=H,_e.relatedTarget=lt,ue=_e),lt=ue,de&&ye)t:{for(_e=de,q=ye,$=0,H=_e;H;H=vo(H))$++;for(H=0,ue=q;ue;ue=vo(ue))H++;for(;0<$-H;)_e=vo(_e),$--;for(;0<H-$;)q=vo(q),H--;for(;$--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=vo(_e),q=vo(q)}_e=null}else _e=null;de!==null&&dg(ie,te,de,_e,!1),ye!==null&&lt!==null&&dg(ie,lt,ye,_e,!0)}}e:{if(te=K?wo(K):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var ve=BT;else if(Wm(te))if(Gm)ve=KT;else{ve=HT;var Te=qT}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=WT);if(ve&&(ve=ve(i,K))){Km(ie,ve,l,ne);break e}Te&&Te(i,te,K),i==="focusout"&&(Te=te._wrapperState)&&Te.controlled&&te.type==="number"&&Hs(te,"number",te.value)}switch(Te=K?wo(K):window,i){case"focusin":(Wm(Te)||Te.contentEditable==="true")&&(yo=Te,ah=K,Ba=null);break;case"focusout":Ba=ah=yo=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,ng(ie,l,ne);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":ng(ie,l,ne)}var Ie;if(ft)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else go?qm(i,l)&&(Re="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(ps&&l.locale!=="ko"&&(go||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&go&&(Ie=Va()):(dn=ne,oo="value"in dn?dn.value:dn.textContent,go=!0)),Te=xu(K,Re),0<Te.length&&(Re=new Ua(Re,i,null,l,ne),ie.push({event:Re,listeners:Te}),Ie?Re.data=Ie:(Ie=Hm(l),Ie!==null&&(Re.data=Ie)))),(Ie=pn?UT(i,l):$T(i,l))&&(K=xu(K,"onBeforeInput"),0<K.length&&(ne=new Ua("onBeforeInput","beforeinput",null,l,ne),ie.push({event:ne,listeners:K}),ne.data=Ie))}fg(ie,s)})}function Wa(i,s,l){return{instance:i,listener:s,currentTarget:l}}function xu(i,s){for(var l=s+"Capture",f=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=at(i,l),y!=null&&f.unshift(Wa(i,y,p)),y=at(i,s),y!=null&&f.push(Wa(i,y,p))),i=i.return}return f}function vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function dg(i,s,l,f,p){for(var y=s._reactName,w=[];l!==null&&l!==f;){var b=l,M=b.alternate,K=b.stateNode;if(M!==null&&M===f)break;b.tag===5&&K!==null&&(b=K,p?(M=at(l,y),M!=null&&w.unshift(Wa(l,M,b))):p||(M=at(l,y),M!=null&&w.push(Wa(l,M,b)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var eI=/\r\n?/g,tI=/\u0000|\uFFFD/g;function pg(i){return(typeof i=="string"?i:""+i).replace(eI,`
`).replace(tI,"")}function Ou(i,s,l){if(s=pg(s),pg(i)!==s&&l)throw Error(t(425))}function Nu(){}var ph=null,mh=null;function gh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,nI=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(i){return mg.resolve(null).then(i).catch(iI)}:yh;function iI(i){setTimeout(function(){throw i})}function _h(i,s){var l=s,f=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(f===0){i.removeChild(p),zn(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=p}while(l);zn(s)}function mi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function gg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),ur="__reactFiber$"+Eo,Ka="__reactProps$"+Eo,Nr="__reactContainer$"+Eo,vh="__reactEvents$"+Eo,sI="__reactListeners$"+Eo,oI="__reactHandles$"+Eo;function ms(i){var s=i[ur];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Nr]||l[ur]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=gg(i);i!==null;){if(l=i[ur])return l;i=gg(i)}return s}i=l,l=i.parentNode}return null}function Ga(i){return i=i[ur]||i[Nr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function wo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Du(i){return i[Ka]||null}var Eh=[],To=-1;function gi(i){return{current:i}}function Ze(i){0>To||(i.current=Eh[To],Eh[To]=null,To--)}function Ye(i,s){To++,Eh[To]=i.current,i.current=s}var yi={},Vt=gi(yi),Jt=gi(!1),gs=yi;function Io(i,s){var l=i.type.contextTypes;if(!l)return yi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function Zt(i){return i=i.childContextTypes,i!=null}function Lu(){Ze(Jt),Ze(Vt)}function yg(i,s,l){if(Vt.current!==yi)throw Error(t(168));Ye(Vt,s),Ye(Jt,l)}function _g(i,s,l){var f=i.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var p in f)if(!(p in s))throw Error(t(108,$e(i)||"Unknown",p));return se({},l,f)}function Vu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||yi,gs=Vt.current,Ye(Vt,i),Ye(Jt,Jt.current),!0}function vg(i,s,l){var f=i.stateNode;if(!f)throw Error(t(169));l?(i=_g(i,s,gs),f.__reactInternalMemoizedMergedChildContext=i,Ze(Jt),Ze(Vt),Ye(Vt,i)):Ze(Jt),Ye(Jt,l)}var Dr=null,Mu=!1,wh=!1;function Eg(i){Dr===null?Dr=[i]:Dr.push(i)}function aI(i){Mu=!0,Eg(i)}function _i(){if(!wh&&Dr!==null){wh=!0;var i=0,s=Le;try{var l=Dr;for(Le=1;i<l.length;i++){var f=l[i];do f=f(!0);while(f!==null)}Dr=null,Mu=!1}catch(p){throw Dr!==null&&(Dr=Dr.slice(i+1)),to(as,_i),p}finally{Le=s,wh=!1}}return null}var So=[],Ao=0,Fu=null,Uu=0,An=[],Rn=0,ys=null,Lr=1,Vr="";function _s(i,s){So[Ao++]=Uu,So[Ao++]=Fu,Fu=i,Uu=s}function wg(i,s,l){An[Rn++]=Lr,An[Rn++]=Vr,An[Rn++]=ys,ys=i;var f=Lr;i=Vr;var p=32-qt(f)-1;f&=~(1<<p),l+=1;var y=32-qt(s)+p;if(30<y){var w=p-p%5;y=(f&(1<<w)-1).toString(32),f>>=w,p-=w,Lr=1<<32-qt(s)+p|l<<p|f,Vr=y+i}else Lr=1<<y|l<<p|f,Vr=i}function Th(i){i.return!==null&&(_s(i,1),wg(i,1,0))}function Ih(i){for(;i===Fu;)Fu=So[--Ao],So[Ao]=null,Uu=So[--Ao],So[Ao]=null;for(;i===ys;)ys=An[--Rn],An[Rn]=null,Vr=An[--Rn],An[Rn]=null,Lr=An[--Rn],An[Rn]=null}var mn=null,gn=null,tt=!1,Hn=null;function Tg(i,s){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Ig(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,mn=i,gn=mi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,mn=i,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ys!==null?{id:Lr,overflow:Vr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,mn=i,gn=null,!0):!1;default:return!1}}function Sh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ah(i){if(tt){var s=gn;if(s){var l=s;if(!Ig(i,s)){if(Sh(i))throw Error(t(418));s=mi(l.nextSibling);var f=mn;s&&Ig(i,s)?Tg(f,l):(i.flags=i.flags&-4097|2,tt=!1,mn=i)}}else{if(Sh(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,mn=i}}}function Sg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;mn=i}function $u(i){if(i!==mn)return!1;if(!tt)return Sg(i),tt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!gh(i.type,i.memoizedProps)),s&&(s=gn)){if(Sh(i))throw Ag(),Error(t(418));for(;s;)Tg(i,s),s=mi(s.nextSibling)}if(Sg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){gn=mi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}gn=null}}else gn=mn?mi(i.stateNode.nextSibling):null;return!0}function Ag(){for(var i=gn;i;)i=mi(i.nextSibling)}function Ro(){gn=mn=null,tt=!1}function Rh(i){Hn===null?Hn=[i]:Hn.push(i)}var lI=Y.ReactCurrentBatchConfig;function Qa(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,i));var p=f,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var b=p.refs;w===null?delete b[y]:b[y]=w},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function ju(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Rg(i){var s=i._init;return s(i._payload)}function Cg(i){function s(q,$){if(i){var H=q.deletions;H===null?(q.deletions=[$],q.flags|=16):H.push($)}}function l(q,$){if(!i)return null;for(;$!==null;)s(q,$),$=$.sibling;return null}function f(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function p(q,$){return q=Ri(q,$),q.index=0,q.sibling=null,q}function y(q,$,H){return q.index=H,i?(H=q.alternate,H!==null?(H=H.index,H<$?(q.flags|=2,$):H):(q.flags|=2,$)):(q.flags|=1048576,$)}function w(q){return i&&q.alternate===null&&(q.flags|=2),q}function b(q,$,H,ue){return $===null||$.tag!==6?($=yd(H,q.mode,ue),$.return=q,$):($=p($,H),$.return=q,$)}function M(q,$,H,ue){var ve=H.type;return ve===O?ne(q,$,H.props.children,ue,H.key):$!==null&&($.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Se&&Rg(ve)===$.type)?(ue=p($,H.props),ue.ref=Qa(q,$,H),ue.return=q,ue):(ue=fc(H.type,H.key,H.props,null,q.mode,ue),ue.ref=Qa(q,$,H),ue.return=q,ue)}function K(q,$,H,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==H.containerInfo||$.stateNode.implementation!==H.implementation?($=_d(H,q.mode,ue),$.return=q,$):($=p($,H.children||[]),$.return=q,$)}function ne(q,$,H,ue,ve){return $===null||$.tag!==7?($=Rs(H,q.mode,ue,ve),$.return=q,$):($=p($,H),$.return=q,$)}function ie(q,$,H){if(typeof $=="string"&&$!==""||typeof $=="number")return $=yd(""+$,q.mode,H),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case le:return H=fc($.type,$.key,$.props,null,q.mode,H),H.ref=Qa(q,null,$),H.return=q,H;case oe:return $=_d($,q.mode,H),$.return=q,$;case Se:var ue=$._init;return ie(q,ue($._payload),H)}if(Sr($)||fe($))return $=Rs($,q.mode,H,null),$.return=q,$;ju(q,$)}return null}function te(q,$,H,ue){var ve=$!==null?$.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ve!==null?null:b(q,$,""+H,ue);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case le:return H.key===ve?M(q,$,H,ue):null;case oe:return H.key===ve?K(q,$,H,ue):null;case Se:return ve=H._init,te(q,$,ve(H._payload),ue)}if(Sr(H)||fe(H))return ve!==null?null:ne(q,$,H,ue,null);ju(q,H)}return null}function de(q,$,H,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(H)||null,b($,q,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case le:return q=q.get(ue.key===null?H:ue.key)||null,M($,q,ue,ve);case oe:return q=q.get(ue.key===null?H:ue.key)||null,K($,q,ue,ve);case Se:var Te=ue._init;return de(q,$,H,Te(ue._payload),ve)}if(Sr(ue)||fe(ue))return q=q.get(H)||null,ne($,q,ue,ve,null);ju($,ue)}return null}function ye(q,$,H,ue){for(var ve=null,Te=null,Ie=$,Re=$=0,Rt=null;Ie!==null&&Re<H.length;Re++){Ie.index>Re?(Rt=Ie,Ie=null):Rt=Ie.sibling;var ze=te(q,Ie,H[Re],ue);if(ze===null){Ie===null&&(Ie=Rt);break}i&&Ie&&ze.alternate===null&&s(q,Ie),$=y(ze,$,Re),Te===null?ve=ze:Te.sibling=ze,Te=ze,Ie=Rt}if(Re===H.length)return l(q,Ie),tt&&_s(q,Re),ve;if(Ie===null){for(;Re<H.length;Re++)Ie=ie(q,H[Re],ue),Ie!==null&&($=y(Ie,$,Re),Te===null?ve=Ie:Te.sibling=Ie,Te=Ie);return tt&&_s(q,Re),ve}for(Ie=f(q,Ie);Re<H.length;Re++)Rt=de(Ie,q,Re,H[Re],ue),Rt!==null&&(i&&Rt.alternate!==null&&Ie.delete(Rt.key===null?Re:Rt.key),$=y(Rt,$,Re),Te===null?ve=Rt:Te.sibling=Rt,Te=Rt);return i&&Ie.forEach(function(Ci){return s(q,Ci)}),tt&&_s(q,Re),ve}function _e(q,$,H,ue){var ve=fe(H);if(typeof ve!="function")throw Error(t(150));if(H=ve.call(H),H==null)throw Error(t(151));for(var Te=ve=null,Ie=$,Re=$=0,Rt=null,ze=H.next();Ie!==null&&!ze.done;Re++,ze=H.next()){Ie.index>Re?(Rt=Ie,Ie=null):Rt=Ie.sibling;var Ci=te(q,Ie,ze.value,ue);if(Ci===null){Ie===null&&(Ie=Rt);break}i&&Ie&&Ci.alternate===null&&s(q,Ie),$=y(Ci,$,Re),Te===null?ve=Ci:Te.sibling=Ci,Te=Ci,Ie=Rt}if(ze.done)return l(q,Ie),tt&&_s(q,Re),ve;if(Ie===null){for(;!ze.done;Re++,ze=H.next())ze=ie(q,ze.value,ue),ze!==null&&($=y(ze,$,Re),Te===null?ve=ze:Te.sibling=ze,Te=ze);return tt&&_s(q,Re),ve}for(Ie=f(q,Ie);!ze.done;Re++,ze=H.next())ze=de(Ie,q,Re,ze.value,ue),ze!==null&&(i&&ze.alternate!==null&&Ie.delete(ze.key===null?Re:ze.key),$=y(ze,$,Re),Te===null?ve=ze:Te.sibling=ze,Te=ze);return i&&Ie.forEach(function(jI){return s(q,jI)}),tt&&_s(q,Re),ve}function lt(q,$,H,ue){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case le:e:{for(var ve=H.key,Te=$;Te!==null;){if(Te.key===ve){if(ve=H.type,ve===O){if(Te.tag===7){l(q,Te.sibling),$=p(Te,H.props.children),$.return=q,q=$;break e}}else if(Te.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Se&&Rg(ve)===Te.type){l(q,Te.sibling),$=p(Te,H.props),$.ref=Qa(q,Te,H),$.return=q,q=$;break e}l(q,Te);break}else s(q,Te);Te=Te.sibling}H.type===O?($=Rs(H.props.children,q.mode,ue,H.key),$.return=q,q=$):(ue=fc(H.type,H.key,H.props,null,q.mode,ue),ue.ref=Qa(q,$,H),ue.return=q,q=ue)}return w(q);case oe:e:{for(Te=H.key;$!==null;){if($.key===Te)if($.tag===4&&$.stateNode.containerInfo===H.containerInfo&&$.stateNode.implementation===H.implementation){l(q,$.sibling),$=p($,H.children||[]),$.return=q,q=$;break e}else{l(q,$);break}else s(q,$);$=$.sibling}$=_d(H,q.mode,ue),$.return=q,q=$}return w(q);case Se:return Te=H._init,lt(q,$,Te(H._payload),ue)}if(Sr(H))return ye(q,$,H,ue);if(fe(H))return _e(q,$,H,ue);ju(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,$!==null&&$.tag===6?(l(q,$.sibling),$=p($,H),$.return=q,q=$):(l(q,$),$=yd(H,q.mode,ue),$.return=q,q=$),w(q)):l(q,$)}return lt}var Co=Cg(!0),kg=Cg(!1),zu=gi(null),Bu=null,ko=null,Ch=null;function kh(){Ch=ko=Bu=null}function Ph(i){var s=zu.current;Ze(zu),i._currentValue=s}function bh(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function Po(i,s){Bu=i,Ch=ko=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(en=!0),i.firstContext=null)}function Cn(i){var s=i._currentValue;if(Ch!==i)if(i={context:i,memoizedValue:s,next:null},ko===null){if(Bu===null)throw Error(t(308));ko=i,Bu.dependencies={lanes:0,firstContext:i}}else ko=ko.next=i;return s}var vs=null;function xh(i){vs===null?vs=[i]:vs.push(i)}function Pg(i,s,l,f){var p=s.interleaved;return p===null?(l.next=l,xh(s)):(l.next=p.next,p.next=l),s.interleaved=l,Mr(i,f)}function Mr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vi=!1;function Oh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Fr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ei(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(je&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,Mr(i,l)}return p=f.interleaved,p===null?(s.next=s,xh(f)):(s.next=p.next,p.next=s),f.interleaved=s,Mr(i,l)}function qu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,ui(i,l)}}function xg(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,effects:f.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Hu(i,s,l,f){var p=i.updateQueue;vi=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var M=b,K=M.next;M.next=null,w===null?y=K:w.next=K,w=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==w&&(b===null?ne.firstBaseUpdate=K:b.next=K,ne.lastBaseUpdate=M))}if(y!==null){var ie=p.baseState;w=0,ne=K=M=null,b=y;do{var te=b.lane,de=b.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ye=i,_e=b;switch(te=s,de=l,_e.tag){case 1:if(ye=_e.payload,typeof ye=="function"){ie=ye.call(de,ie,te);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=_e.payload,te=typeof ye=="function"?ye.call(de,ie,te):ye,te==null)break e;ie=se({},ie,te);break e;case 2:vi=!0}}b.callback!==null&&b.lane!==0&&(i.flags|=64,te=p.effects,te===null?p.effects=[b]:te.push(b))}else de={eventTime:de,lane:te,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(K=ne=de,M=ie):ne=ne.next=de,w|=te;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;te=b,b=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);if(ne===null&&(M=ie),p.baseState=M,p.firstBaseUpdate=K,p.lastBaseUpdate=ne,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ts|=w,i.lanes=w,i.memoizedState=ie}}function Og(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var f=i[s],p=f.callback;if(p!==null){if(f.callback=null,f=l,typeof p!="function")throw Error(t(191,p));p.call(f)}}}var Ya={},cr=gi(Ya),Xa=gi(Ya),Ja=gi(Ya);function Es(i){if(i===Ya)throw Error(t(174));return i}function Nh(i,s){switch(Ye(Ja,s),Ye(Xa,i),Ye(cr,Ya),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=gt(s,i)}Ze(cr),Ye(cr,s)}function bo(){Ze(cr),Ze(Xa),Ze(Ja)}function Ng(i){Es(Ja.current);var s=Es(cr.current),l=gt(s,i.type);s!==l&&(Ye(Xa,i),Ye(cr,l))}function Dh(i){Xa.current===i&&(Ze(cr),Ze(Xa))}var rt=gi(0);function Wu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lh=[];function Vh(){for(var i=0;i<Lh.length;i++)Lh[i]._workInProgressVersionPrimary=null;Lh.length=0}var Ku=Y.ReactCurrentDispatcher,Mh=Y.ReactCurrentBatchConfig,ws=0,it=null,_t=null,St=null,Gu=!1,Za=!1,el=0,uI=0;function Mt(){throw Error(t(321))}function Fh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!qn(i[l],s[l]))return!1;return!0}function Uh(i,s,l,f,p,y){if(ws=y,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ku.current=i===null||i.memoizedState===null?dI:pI,i=l(f,p),Za){y=0;do{if(Za=!1,el=0,25<=y)throw Error(t(301));y+=1,St=_t=null,s.updateQueue=null,Ku.current=mI,i=l(f,p)}while(Za)}if(Ku.current=Xu,s=_t!==null&&_t.next!==null,ws=0,St=_t=it=null,Gu=!1,s)throw Error(t(300));return i}function $h(){var i=el!==0;return el=0,i}function fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?it.memoizedState=St=i:St=St.next=i,St}function kn(){if(_t===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var s=St===null?it.memoizedState:St.next;if(s!==null)St=s,_t=i;else{if(i===null)throw Error(t(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?it.memoizedState=St=i:St=St.next=i}return St}function tl(i,s){return typeof s=="function"?s(i):s}function jh(i){var s=kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=_t,p=f.baseQueue,y=l.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}f.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,f=f.baseState;var b=w=null,M=null,K=y;do{var ne=K.lane;if((ws&ne)===ne)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:i(f,K.action);else{var ie={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(b=M=ie,w=f):M=M.next=ie,it.lanes|=ne,Ts|=ne}K=K.next}while(K!==null&&K!==y);M===null?w=f:M.next=b,qn(f,s.memoizedState)||(en=!0),s.memoizedState=f,s.baseState=w,s.baseQueue=M,l.lastRenderedState=f}if(i=l.interleaved,i!==null){p=i;do y=p.lane,it.lanes|=y,Ts|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function zh(i){var s=kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);qn(y,s.memoizedState)||(en=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,f]}function Dg(){}function Lg(i,s){var l=it,f=kn(),p=s(),y=!qn(f.memoizedState,p);if(y&&(f.memoizedState=p,en=!0),f=f.queue,Bh(Fg.bind(null,l,f,i),[i]),f.getSnapshot!==s||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,nl(9,Mg.bind(null,l,f,p,s),void 0,null),At===null)throw Error(t(349));(ws&30)!==0||Vg(l,s,p)}return p}function Vg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Mg(i,s,l,f){s.value=l,s.getSnapshot=f,Ug(s)&&$g(i)}function Fg(i,s,l){return l(function(){Ug(s)&&$g(i)})}function Ug(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!qn(i,l)}catch{return!0}}function $g(i){var s=Mr(i,1);s!==null&&Qn(s,i,1,-1)}function jg(i){var s=fr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:i},s.queue=i,i=i.dispatch=hI.bind(null,it,i),[s.memoizedState,i]}function nl(i,s,l,f){return i={tag:i,create:s,destroy:l,deps:f,next:null},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i)),i}function zg(){return kn().memoizedState}function Qu(i,s,l,f){var p=fr();it.flags|=i,p.memoizedState=nl(1|s,l,void 0,f===void 0?null:f)}function Yu(i,s,l,f){var p=kn();f=f===void 0?null:f;var y=void 0;if(_t!==null){var w=_t.memoizedState;if(y=w.destroy,f!==null&&Fh(f,w.deps)){p.memoizedState=nl(s,l,y,f);return}}it.flags|=i,p.memoizedState=nl(1|s,l,y,f)}function Bg(i,s){return Qu(8390656,8,i,s)}function Bh(i,s){return Yu(2048,8,i,s)}function qg(i,s){return Yu(4,2,i,s)}function Hg(i,s){return Yu(4,4,i,s)}function Wg(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Kg(i,s,l){return l=l!=null?l.concat([i]):null,Yu(4,4,Wg.bind(null,s,i),l)}function qh(){}function Gg(i,s){var l=kn();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Fh(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function Qg(i,s){var l=kn();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Fh(s,f[1])?f[0]:(i=i(),l.memoizedState=[i,s],i)}function Yg(i,s,l){return(ws&21)===0?(i.baseState&&(i.baseState=!1,en=!0),i.memoizedState=l):(qn(l,s)||(l=cs(),it.lanes|=l,Ts|=l,i.baseState=!0),s)}function cI(i,s){var l=Le;Le=l!==0&&4>l?l:4,i(!0);var f=Mh.transition;Mh.transition={};try{i(!1),s()}finally{Le=l,Mh.transition=f}}function Xg(){return kn().memoizedState}function fI(i,s,l){var f=Si(i);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Jg(i))Zg(s,l);else if(l=Pg(i,s,l,f),l!==null){var p=Kt();Qn(l,i,f,p),ey(l,s,f)}}function hI(i,s,l){var f=Si(i),p={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jg(i))Zg(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,b=y(w,l);if(p.hasEagerState=!0,p.eagerState=b,qn(b,w)){var M=s.interleaved;M===null?(p.next=p,xh(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}l=Pg(i,s,p,f),l!==null&&(p=Kt(),Qn(l,i,f,p),ey(l,s,f))}}function Jg(i){var s=i.alternate;return i===it||s!==null&&s===it}function Zg(i,s){Za=Gu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function ey(i,s,l){if((l&4194240)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,ui(i,l)}}var Xu={readContext:Cn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},dI={readContext:Cn,useCallback:function(i,s){return fr().memoizedState=[i,s===void 0?null:s],i},useContext:Cn,useEffect:Bg,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Qu(4194308,4,Wg.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Qu(4194308,4,i,s)},useInsertionEffect:function(i,s){return Qu(4,2,i,s)},useMemo:function(i,s){var l=fr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var f=fr();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},f.queue=i,i=i.dispatch=fI.bind(null,it,i),[f.memoizedState,i]},useRef:function(i){var s=fr();return i={current:i},s.memoizedState=i},useState:jg,useDebugValue:qh,useDeferredValue:function(i){return fr().memoizedState=i},useTransition:function(){var i=jg(!1),s=i[0];return i=cI.bind(null,i[1]),fr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var f=it,p=fr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),At===null)throw Error(t(349));(ws&30)!==0||Vg(f,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Bg(Fg.bind(null,f,y,i),[i]),f.flags|=2048,nl(9,Mg.bind(null,f,y,l,s),void 0,null),l},useId:function(){var i=fr(),s=At.identifierPrefix;if(tt){var l=Vr,f=Lr;l=(f&~(1<<32-qt(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=el++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=uI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},pI={readContext:Cn,useCallback:Gg,useContext:Cn,useEffect:Bh,useImperativeHandle:Kg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:jh,useRef:zg,useState:function(){return jh(tl)},useDebugValue:qh,useDeferredValue:function(i){var s=kn();return Yg(s,_t.memoizedState,i)},useTransition:function(){var i=jh(tl)[0],s=kn().memoizedState;return[i,s]},useMutableSource:Dg,useSyncExternalStore:Lg,useId:Xg,unstable_isNewReconciler:!1},mI={readContext:Cn,useCallback:Gg,useContext:Cn,useEffect:Bh,useImperativeHandle:Kg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:zh,useRef:zg,useState:function(){return zh(tl)},useDebugValue:qh,useDeferredValue:function(i){var s=kn();return _t===null?s.memoizedState=i:Yg(s,_t.memoizedState,i)},useTransition:function(){var i=zh(tl)[0],s=kn().memoizedState;return[i,s]},useMutableSource:Dg,useSyncExternalStore:Lg,useId:Xg,unstable_isNewReconciler:!1};function Wn(i,s){if(i&&i.defaultProps){s=se({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Hh(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:se({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ju={isMounted:function(i){return(i=i._reactInternals)?Mn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var f=Kt(),p=Si(i),y=Fr(f,p);y.payload=s,l!=null&&(y.callback=l),s=Ei(i,y,p),s!==null&&(Qn(s,i,p,f),qu(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=Kt(),p=Si(i),y=Fr(f,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Ei(i,y,p),s!==null&&(Qn(s,i,p,f),qu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Kt(),f=Si(i),p=Fr(l,f);p.tag=2,s!=null&&(p.callback=s),s=Ei(i,p,f),s!==null&&(Qn(s,i,f,l),qu(s,i,f))}};function ty(i,s,l,f,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,w):s.prototype&&s.prototype.isPureReactComponent?!za(l,f)||!za(p,y):!0}function ny(i,s,l){var f=!1,p=yi,y=s.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(p=Zt(s)?gs:Vt.current,f=s.contextTypes,y=(f=f!=null)?Io(i,p):yi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ju,i.stateNode=s,s._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function ry(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&Ju.enqueueReplaceState(s,s.state,null)}function Wh(i,s,l,f){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Oh(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Cn(y):(y=Zt(s)?gs:Vt.current,p.context=Io(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Hh(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Ju.enqueueReplaceState(p,p.state,null),Hu(i,l,p,f),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function xo(i,s){try{var l="",f=s;do l+=be(f),f=f.return;while(f);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Kh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Gh(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var gI=typeof WeakMap=="function"?WeakMap:Map;function iy(i,s,l){l=Fr(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){sc||(sc=!0,ud=f),Gh(i,s)},l}function sy(i,s,l){l=Fr(-1,l),l.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;l.payload=function(){return f(p)},l.callback=function(){Gh(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Gh(i,s),typeof f!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function oy(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new gI;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(l)||(p.add(l),i=bI.bind(null,i,s,l),s.then(i,i))}function ay(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function ly(i,s,l,f,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Fr(-1,1),s.tag=2,Ei(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var yI=Y.ReactCurrentOwner,en=!1;function Wt(i,s,l,f){s.child=i===null?kg(s,null,l,f):Co(s,i.child,l,f)}function uy(i,s,l,f,p){l=l.render;var y=s.ref;return Po(s,p),f=Uh(i,s,l,f,y,p),l=$h(),i!==null&&!en?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Ur(i,s,p)):(tt&&l&&Th(s),s.flags|=1,Wt(i,s,f,p),s.child)}function cy(i,s,l,f,p){if(i===null){var y=l.type;return typeof y=="function"&&!gd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,fy(i,s,y,f,p)):(i=fc(l.type,null,f,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:za,l(w,f)&&i.ref===s.ref)return Ur(i,s,p)}return s.flags|=1,i=Ri(y,f),i.ref=s.ref,i.return=s,s.child=i}function fy(i,s,l,f,p){if(i!==null){var y=i.memoizedProps;if(za(y,f)&&i.ref===s.ref)if(en=!1,s.pendingProps=f=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(en=!0);else return s.lanes=i.lanes,Ur(i,s,p)}return Qh(i,s,l,f,p)}function hy(i,s,l){var f=s.pendingProps,p=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(No,yn),yn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ye(No,yn),yn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:l,Ye(No,yn),yn|=f}else y!==null?(f=y.baseLanes|l,s.memoizedState=null):f=l,Ye(No,yn),yn|=f;return Wt(i,s,p,l),s.child}function dy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Qh(i,s,l,f,p){var y=Zt(l)?gs:Vt.current;return y=Io(s,y),Po(s,p),l=Uh(i,s,l,f,y,p),f=$h(),i!==null&&!en?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Ur(i,s,p)):(tt&&f&&Th(s),s.flags|=1,Wt(i,s,l,p),s.child)}function py(i,s,l,f,p){if(Zt(l)){var y=!0;Vu(s)}else y=!1;if(Po(s,p),s.stateNode===null)ec(i,s),ny(s,l,f),Wh(s,l,f,p),f=!0;else if(i===null){var w=s.stateNode,b=s.memoizedProps;w.props=b;var M=w.context,K=l.contextType;typeof K=="object"&&K!==null?K=Cn(K):(K=Zt(l)?gs:Vt.current,K=Io(s,K));var ne=l.getDerivedStateFromProps,ie=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==f||M!==K)&&ry(s,w,f,K),vi=!1;var te=s.memoizedState;w.state=te,Hu(s,f,w,p),M=s.memoizedState,b!==f||te!==M||Jt.current||vi?(typeof ne=="function"&&(Hh(s,l,ne,f),M=s.memoizedState),(b=vi||ty(s,l,b,f,te,M,K))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=M),w.props=f,w.state=M,w.context=K,f=b):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{w=s.stateNode,bg(i,s),b=s.memoizedProps,K=s.type===s.elementType?b:Wn(s.type,b),w.props=K,ie=s.pendingProps,te=w.context,M=l.contextType,typeof M=="object"&&M!==null?M=Cn(M):(M=Zt(l)?gs:Vt.current,M=Io(s,M));var de=l.getDerivedStateFromProps;(ne=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==ie||te!==M)&&ry(s,w,f,M),vi=!1,te=s.memoizedState,w.state=te,Hu(s,f,w,p);var ye=s.memoizedState;b!==ie||te!==ye||Jt.current||vi?(typeof de=="function"&&(Hh(s,l,de,f),ye=s.memoizedState),(K=vi||ty(s,l,K,f,te,ye,M)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,ye,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,ye,M)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ye),w.props=f,w.state=ye,w.context=M,f=K):(typeof w.componentDidUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),f=!1)}return Yh(i,s,l,f,y,p)}function Yh(i,s,l,f,p,y){dy(i,s);var w=(s.flags&128)!==0;if(!f&&!w)return p&&vg(s,l,!1),Ur(i,s,y);f=s.stateNode,yI.current=s;var b=w&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,i!==null&&w?(s.child=Co(s,i.child,null,y),s.child=Co(s,null,b,y)):Wt(i,s,b,y),s.memoizedState=f.state,p&&vg(s,l,!0),s.child}function my(i){var s=i.stateNode;s.pendingContext?yg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&yg(i,s.context,!1),Nh(i,s.containerInfo)}function gy(i,s,l,f,p){return Ro(),Rh(p),s.flags|=256,Wt(i,s,l,f),s.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function Jh(i){return{baseLanes:i,cachePool:null,transitions:null}}function yy(i,s,l){var f=s.pendingProps,p=rt.current,y=!1,w=(s.flags&128)!==0,b;if((b=w)||(b=i!==null&&i.memoizedState===null?!1:(p&2)!==0),b?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ye(rt,p&1),i===null)return Ah(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=f.children,i=f.fallback,y?(f=s.mode,y=s.child,w={mode:"hidden",children:w},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=hc(w,f,0,null),i=Rs(i,f,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=Jh(l),s.memoizedState=Xh,i):Zh(s,w));if(p=i.memoizedState,p!==null&&(b=p.dehydrated,b!==null))return _I(i,s,w,f,b,p,l);if(y){y=f.fallback,w=s.mode,p=i.child,b=p.sibling;var M={mode:"hidden",children:f.children};return(w&1)===0&&s.child!==p?(f=s.child,f.childLanes=0,f.pendingProps=M,s.deletions=null):(f=Ri(p,M),f.subtreeFlags=p.subtreeFlags&14680064),b!==null?y=Ri(b,y):(y=Rs(y,w,l,null),y.flags|=2),y.return=s,f.return=s,f.sibling=y,s.child=f,f=y,y=s.child,w=i.child.memoizedState,w=w===null?Jh(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~l,s.memoizedState=Xh,f}return y=i.child,i=y.sibling,f=Ri(y,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=f,s.memoizedState=null,f}function Zh(i,s){return s=hc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Zu(i,s,l,f){return f!==null&&Rh(f),Co(s,i.child,null,l),i=Zh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function _I(i,s,l,f,p,y,w){if(l)return s.flags&256?(s.flags&=-257,f=Kh(Error(t(422))),Zu(i,s,w,f)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=f.fallback,p=s.mode,f=hc({mode:"visible",children:f.children},p,0,null),y=Rs(y,p,w,null),y.flags|=2,f.return=s,y.return=s,f.sibling=y,s.child=f,(s.mode&1)!==0&&Co(s,i.child,null,w),s.child.memoizedState=Jh(w),s.memoizedState=Xh,y);if((s.mode&1)===0)return Zu(i,s,w,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var b=f.dgst;return f=b,y=Error(t(419)),f=Kh(y,f,void 0),Zu(i,s,w,f)}if(b=(w&i.childLanes)!==0,en||b){if(f=At,f!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(f.suspendedLanes|w))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Mr(i,p),Qn(f,i,p,-1))}return md(),f=Kh(Error(t(421))),Zu(i,s,w,f)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=xI.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,gn=mi(p.nextSibling),mn=s,tt=!0,Hn=null,i!==null&&(An[Rn++]=Lr,An[Rn++]=Vr,An[Rn++]=ys,Lr=i.id,Vr=i.overflow,ys=s),s=Zh(s,f.children),s.flags|=4096,s)}function _y(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),bh(i.return,s,l)}function ed(i,s,l,f,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=p)}function vy(i,s,l){var f=s.pendingProps,p=f.revealOrder,y=f.tail;if(Wt(i,s,f.children,l),f=rt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_y(i,l,s);else if(i.tag===19)_y(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ye(rt,f),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Wu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),ed(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Wu(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}ed(s,!0,l,null,y);break;case"together":ed(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ec(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Ur(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ts|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ri(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ri(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function vI(i,s,l){switch(s.tag){case 3:my(s),Ro();break;case 5:Ng(s);break;case 1:Zt(s.type)&&Vu(s);break;case 4:Nh(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,p=s.memoizedProps.value;Ye(zu,f._currentValue),f._currentValue=p;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ye(rt,rt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?yy(i,s,l):(Ye(rt,rt.current&1),i=Ur(i,s,l),i!==null?i.sibling:null);Ye(rt,rt.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(i.flags&128)!==0){if(f)return vy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(rt,rt.current),f)break;return null;case 22:case 23:return s.lanes=0,hy(i,s,l)}return Ur(i,s,l)}var Ey,td,wy,Ty;Ey=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},td=function(){},wy=function(i,s,l,f){var p=i.memoizedProps;if(p!==f){i=s.stateNode,Es(cr.current);var y=null;switch(l){case"input":p=Zi(i,p),f=Zi(i,f),y=[];break;case"select":p=se({},p,{value:void 0}),f=se({},f,{value:void 0}),y=[];break;case"textarea":p=ya(i,p),f=ya(i,f),y=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Nu)}Ia(l,f);var w;l=null;for(K in p)if(!f.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var b=p[K];for(w in b)b.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in f){var M=f[K];if(b=p!=null?p[K]:void 0,f.hasOwnProperty(K)&&M!==b&&(M!=null||b!=null))if(K==="style")if(b){for(w in b)!b.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in M)M.hasOwnProperty(w)&&b[w]!==M[w]&&(l||(l={}),l[w]=M[w])}else l||(y||(y=[]),y.push(K,l)),l=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,b=b?b.__html:void 0,M!=null&&b!==M&&(y=y||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&Je("scroll",i),y||b===M||(y=[])):(y=y||[]).push(K,M))}l&&(y=y||[]).push("style",l);var K=y;(s.updateQueue=K)&&(s.flags|=4)}},Ty=function(i,s,l,f){l!==f&&(s.flags|=4)};function rl(i,s){if(!tt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ft(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function EI(i,s,l){var f=s.pendingProps;switch(Ih(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Zt(s.type)&&Lu(),Ft(s),null;case 3:return f=s.stateNode,bo(),Ze(Jt),Ze(Vt),Vh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&($u(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hn!==null&&(hd(Hn),Hn=null))),td(i,s),Ft(s),null;case 5:Dh(s);var p=Es(Ja.current);if(l=s.type,i!==null&&s.stateNode!=null)wy(i,s,l,f,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(i=Es(cr.current),$u(s)){f=s.stateNode,l=s.type;var y=s.memoizedProps;switch(f[ur]=s,f[Ka]=y,i=(s.mode&1)!==0,l){case"dialog":Je("cancel",f),Je("close",f);break;case"iframe":case"object":case"embed":Je("load",f);break;case"video":case"audio":for(p=0;p<qa.length;p++)Je(qa[p],f);break;case"source":Je("error",f);break;case"img":case"image":case"link":Je("error",f),Je("load",f);break;case"details":Je("toggle",f);break;case"input":qs(f,y),Je("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Je("invalid",f);break;case"textarea":Ws(f,y),Je("invalid",f)}Ia(l,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var b=y[w];w==="children"?typeof b=="string"?f.textContent!==b&&(y.suppressHydrationWarning!==!0&&Ou(f.textContent,b,i),p=["children",b]):typeof b=="number"&&f.textContent!==""+b&&(y.suppressHydrationWarning!==!0&&Ou(f.textContent,b,i),p=["children",""+b]):o.hasOwnProperty(w)&&b!=null&&w==="onScroll"&&Je("scroll",f)}switch(l){case"input":Ir(f),iu(f,y,!0);break;case"textarea":Ir(f),_a(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Nu)}f=p,s.updateQueue=f,f!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=mt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=w.createElement(l,{is:f.is}):(i=w.createElement(l),l==="select"&&(w=i,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):i=w.createElementNS(i,l),i[ur]=s,i[Ka]=f,Ey(i,s,!1,!1),s.stateNode=i;e:{switch(w=Sa(l,f),l){case"dialog":Je("cancel",i),Je("close",i),p=f;break;case"iframe":case"object":case"embed":Je("load",i),p=f;break;case"video":case"audio":for(p=0;p<qa.length;p++)Je(qa[p],i);p=f;break;case"source":Je("error",i),p=f;break;case"img":case"image":case"link":Je("error",i),Je("load",i),p=f;break;case"details":Je("toggle",i),p=f;break;case"input":qs(i,f),p=Zi(i,f),Je("invalid",i);break;case"option":p=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},p=se({},f,{value:void 0}),Je("invalid",i);break;case"textarea":Ws(i,f),p=ya(i,f),Je("invalid",i);break;default:p=f}Ia(l,p),b=p;for(y in b)if(b.hasOwnProperty(y)){var M=b[y];y==="style"?wa(i,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&va(i,M)):y==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&ii(i,M):typeof M=="number"&&ii(i,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&Je("scroll",i):M!=null&&j(i,y,M,w))}switch(l){case"input":Ir(i),iu(i,f,!1);break;case"textarea":Ir(i),_a(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Be(f.value));break;case"select":i.multiple=!!f.multiple,y=f.value,y!=null?Ar(i,!!f.multiple,y,!1):f.defaultValue!=null&&Ar(i,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(i&&s.stateNode!=null)Ty(i,s,i.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(t(166));if(l=Es(Ja.current),Es(cr.current),$u(s)){if(f=s.stateNode,l=s.memoizedProps,f[ur]=s,(y=f.nodeValue!==l)&&(i=mn,i!==null))switch(i.tag){case 3:Ou(f.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ou(f.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[ur]=s,s.stateNode=f}return Ft(s),null;case 13:if(Ze(rt),f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ag(),Ro(),s.flags|=98560,y=!1;else if(y=$u(s),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ur]=s}else Ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),y=!1}else Hn!==null&&(hd(Hn),Hn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(rt.current&1)!==0?vt===0&&(vt=3):md())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return bo(),td(i,s),i===null&&Ha(s.stateNode.containerInfo),Ft(s),null;case 10:return Ph(s.type._context),Ft(s),null;case 17:return Zt(s.type)&&Lu(),Ft(s),null;case 19:if(Ze(rt),y=s.memoizedState,y===null)return Ft(s),null;if(f=(s.flags&128)!==0,w=y.rendering,w===null)if(f)rl(y,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(w=Wu(i),w!==null){for(s.flags|=128,rl(y,!1),f=w.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)y=l,i=f,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ye(rt,rt.current&1|2),s.child}i=i.sibling}y.tail!==null&&Qe()>Do&&(s.flags|=128,f=!0,rl(y,!1),s.lanes=4194304)}else{if(!f)if(i=Wu(w),i!==null){if(s.flags|=128,f=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),rl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!tt)return Ft(s),null}else 2*Qe()-y.renderingStartTime>Do&&l!==1073741824&&(s.flags|=128,f=!0,rl(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Qe(),s.sibling=null,l=rt.current,Ye(rt,f?l&1|2:l&1),s):(Ft(s),null);case 22:case 23:return pd(),f=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(yn&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function wI(i,s){switch(Ih(s),s.tag){case 1:return Zt(s.type)&&Lu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return bo(),Ze(Jt),Ze(Vt),Vh(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Dh(s),null;case 13:if(Ze(rt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ro()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ze(rt),null;case 4:return bo(),null;case 10:return Ph(s.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var tc=!1,Ut=!1,TI=typeof WeakSet=="function"?WeakSet:Set,me=null;function Oo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){ot(i,s,f)}else l.current=null}function nd(i,s,l){try{l()}catch(f){ot(i,s,f)}}var Iy=!1;function II(i,s){if(ph=hi,i=tg(),oh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,b=-1,M=-1,K=0,ne=0,ie=i,te=null;t:for(;;){for(var de;ie!==l||p!==0&&ie.nodeType!==3||(b=w+p),ie!==y||f!==0&&ie.nodeType!==3||(M=w+f),ie.nodeType===3&&(w+=ie.nodeValue.length),(de=ie.firstChild)!==null;)te=ie,ie=de;for(;;){if(ie===i)break t;if(te===l&&++K===p&&(b=w),te===y&&++ne===f&&(M=w),(de=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=de}l=b===-1||M===-1?null:{start:b,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(mh={focusedElem:i,selectionRange:l},hi=!1,me=s;me!==null;)if(s=me,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,me=i;else for(;me!==null;){s=me;try{var ye=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var _e=ye.memoizedProps,lt=ye.memoizedState,q=s.stateNode,$=q.getSnapshotBeforeUpdate(s.elementType===s.type?_e:Wn(s.type,_e),lt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){ot(s,s.return,ue)}if(i=s.sibling,i!==null){i.return=s.return,me=i;break}me=s.return}return ye=Iy,Iy=!1,ye}function il(i,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&nd(s,l,y)}p=p.next}while(p!==f)}}function nc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function rd(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Sy(i){var s=i.alternate;s!==null&&(i.alternate=null,Sy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ur],delete s[Ka],delete s[vh],delete s[sI],delete s[oI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ay(i){return i.tag===5||i.tag===3||i.tag===4}function Ry(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ay(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function id(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Nu));else if(f!==4&&(i=i.child,i!==null))for(id(i,s,l),i=i.sibling;i!==null;)id(i,s,l),i=i.sibling}function sd(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(sd(i,s,l),i=i.sibling;i!==null;)sd(i,s,l),i=i.sibling}var bt=null,Kn=!1;function wi(i,s,l){for(l=l.child;l!==null;)Cy(i,s,l),l=l.sibling}function Cy(i,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ls,l)}catch{}switch(l.tag){case 5:Ut||Oo(l,s);case 6:var f=bt,p=Kn;bt=null,wi(i,s,l),bt=f,Kn=p,bt!==null&&(Kn?(i=bt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Kn?(i=bt,l=l.stateNode,i.nodeType===8?_h(i.parentNode,l):i.nodeType===1&&_h(i,l),zn(i)):_h(bt,l.stateNode));break;case 4:f=bt,p=Kn,bt=l.stateNode.containerInfo,Kn=!0,wi(i,s,l),bt=f,Kn=p;break;case 0:case 11:case 14:case 15:if(!Ut&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&nd(l,s,w),p=p.next}while(p!==f)}wi(i,s,l);break;case 1:if(!Ut&&(Oo(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(b){ot(l,s,b)}wi(i,s,l);break;case 21:wi(i,s,l);break;case 22:l.mode&1?(Ut=(f=Ut)||l.memoizedState!==null,wi(i,s,l),Ut=f):wi(i,s,l);break;default:wi(i,s,l)}}function ky(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new TI),s.forEach(function(f){var p=OI.bind(null,i,f);l.has(f)||(l.add(f),f.then(p,p))})}}function Gn(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];try{var y=i,w=s,b=w;e:for(;b!==null;){switch(b.tag){case 5:bt=b.stateNode,Kn=!1;break e;case 3:bt=b.stateNode.containerInfo,Kn=!0;break e;case 4:bt=b.stateNode.containerInfo,Kn=!0;break e}b=b.return}if(bt===null)throw Error(t(160));Cy(y,w,p),bt=null,Kn=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(K){ot(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Py(s,i),s=s.sibling}function Py(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gn(s,i),hr(i),f&4){try{il(3,i,i.return),nc(3,i)}catch(_e){ot(i,i.return,_e)}try{il(5,i,i.return)}catch(_e){ot(i,i.return,_e)}}break;case 1:Gn(s,i),hr(i),f&512&&l!==null&&Oo(l,l.return);break;case 5:if(Gn(s,i),hr(i),f&512&&l!==null&&Oo(l,l.return),i.flags&32){var p=i.stateNode;try{ii(p,"")}catch(_e){ot(i,i.return,_e)}}if(f&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,w=l!==null?l.memoizedProps:y,b=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{b==="input"&&y.type==="radio"&&y.name!=null&&ma(p,y),Sa(b,w);var K=Sa(b,y);for(w=0;w<M.length;w+=2){var ne=M[w],ie=M[w+1];ne==="style"?wa(p,ie):ne==="dangerouslySetInnerHTML"?va(p,ie):ne==="children"?ii(p,ie):j(p,ne,ie,K)}switch(b){case"input":ga(p,y);break;case"textarea":Ks(p,y);break;case"select":var te=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?Ar(p,!!y.multiple,de,!1):te!==!!y.multiple&&(y.defaultValue!=null?Ar(p,!!y.multiple,y.defaultValue,!0):Ar(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ka]=y}catch(_e){ot(i,i.return,_e)}}break;case 6:if(Gn(s,i),hr(i),f&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(_e){ot(i,i.return,_e)}}break;case 3:if(Gn(s,i),hr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{zn(s.containerInfo)}catch(_e){ot(i,i.return,_e)}break;case 4:Gn(s,i),hr(i);break;case 13:Gn(s,i),hr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(ld=Qe())),f&4&&ky(i);break;case 22:if(ne=l!==null&&l.memoizedState!==null,i.mode&1?(Ut=(K=Ut)||ne,Gn(s,i),Ut=K):Gn(s,i),hr(i),f&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(me=i,ne=i.child;ne!==null;){for(ie=me=ne;me!==null;){switch(te=me,de=te.child,te.tag){case 0:case 11:case 14:case 15:il(4,te,te.return);break;case 1:Oo(te,te.return);var ye=te.stateNode;if(typeof ye.componentWillUnmount=="function"){f=te,l=te.return;try{s=f,ye.props=s.memoizedProps,ye.state=s.memoizedState,ye.componentWillUnmount()}catch(_e){ot(f,l,_e)}}break;case 5:Oo(te,te.return);break;case 22:if(te.memoizedState!==null){Oy(ie);continue}}de!==null?(de.return=te,me=de):Oy(ie)}ne=ne.sibling}e:for(ne=null,ie=i;;){if(ie.tag===5){if(ne===null){ne=ie;try{p=ie.stateNode,K?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(b=ie.stateNode,M=ie.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,b.style.display=Ea("display",w))}catch(_e){ot(i,i.return,_e)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(_e){ot(i,i.return,_e)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Gn(s,i),hr(i),f&4&&ky(i);break;case 21:break;default:Gn(s,i),hr(i)}}function hr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Ay(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(ii(p,""),f.flags&=-33);var y=Ry(i);sd(i,y,p);break;case 3:case 4:var w=f.stateNode.containerInfo,b=Ry(i);id(i,b,w);break;default:throw Error(t(161))}}catch(M){ot(i,i.return,M)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function SI(i,s,l){me=i,by(i)}function by(i,s,l){for(var f=(i.mode&1)!==0;me!==null;){var p=me,y=p.child;if(p.tag===22&&f){var w=p.memoizedState!==null||tc;if(!w){var b=p.alternate,M=b!==null&&b.memoizedState!==null||Ut;b=tc;var K=Ut;if(tc=w,(Ut=M)&&!K)for(me=p;me!==null;)w=me,M=w.child,w.tag===22&&w.memoizedState!==null?Ny(p):M!==null?(M.return=w,me=M):Ny(p);for(;y!==null;)me=y,by(y),y=y.sibling;me=p,tc=b,Ut=K}xy(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,me=y):xy(i)}}function xy(i){for(;me!==null;){var s=me;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ut||nc(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Ut)if(l===null)f.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Wn(s.type,l.memoizedProps);f.componentDidUpdate(p,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Og(s,y,f);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Og(s,w,l)}break;case 5:var b=s.stateNode;if(l===null&&s.flags&4){l=b;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&zn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&rd(s)}catch(te){ot(s,s.return,te)}}if(s===i){me=null;break}if(l=s.sibling,l!==null){l.return=s.return,me=l;break}me=s.return}}function Oy(i){for(;me!==null;){var s=me;if(s===i){me=null;break}var l=s.sibling;if(l!==null){l.return=s.return,me=l;break}me=s.return}}function Ny(i){for(;me!==null;){var s=me;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{nc(4,s)}catch(M){ot(s,l,M)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var p=s.return;try{f.componentDidMount()}catch(M){ot(s,p,M)}}var y=s.return;try{rd(s)}catch(M){ot(s,y,M)}break;case 5:var w=s.return;try{rd(s)}catch(M){ot(s,w,M)}}}catch(M){ot(s,s.return,M)}if(s===i){me=null;break}var b=s.sibling;if(b!==null){b.return=s.return,me=b;break}me=s.return}}var AI=Math.ceil,rc=Y.ReactCurrentDispatcher,od=Y.ReactCurrentOwner,Pn=Y.ReactCurrentBatchConfig,je=0,At=null,ht=null,xt=0,yn=0,No=gi(0),vt=0,sl=null,Ts=0,ic=0,ad=0,ol=null,tn=null,ld=0,Do=1/0,$r=null,sc=!1,ud=null,Ti=null,oc=!1,Ii=null,ac=0,al=0,cd=null,lc=-1,uc=0;function Kt(){return(je&6)!==0?Qe():lc!==-1?lc:lc=Qe()}function Si(i){return(i.mode&1)===0?1:(je&2)!==0&&xt!==0?xt&-xt:lI.transition!==null?(uc===0&&(uc=cs()),uc):(i=Le,i!==0||(i=window.event,i=i===void 0?16:La(i.type)),i)}function Qn(i,s,l,f){if(50<al)throw al=0,cd=null,Error(t(185));li(i,l,f),((je&2)===0||i!==At)&&(i===At&&((je&2)===0&&(ic|=l),vt===4&&Ai(i,xt)),nn(i,f),l===1&&je===0&&(s.mode&1)===0&&(Do=Qe()+500,Mu&&_i()))}function nn(i,s){var l=i.callbackNode;kr(i,s);var f=us(i,i===At?xt:0);if(f===0)l!==null&&ba(l),i.callbackNode=null,i.callbackPriority=0;else if(s=f&-f,i.callbackPriority!==s){if(l!=null&&ba(l),s===1)i.tag===0?aI(Ly.bind(null,i)):Eg(Ly.bind(null,i)),rI(function(){(je&6)===0&&_i()}),l=null;else{switch(ci(f)){case 1:l=as;break;case 4:l=si;break;case 16:l=Tn;break;case 536870912:l=uu;break;default:l=Tn}l=By(l,Dy.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Dy(i,s){if(lc=-1,uc=0,(je&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Lo()&&i.callbackNode!==l)return null;var f=us(i,i===At?xt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||s)s=cc(i,f);else{s=f;var p=je;je|=2;var y=My();(At!==i||xt!==s)&&($r=null,Do=Qe()+500,Ss(i,s));do try{kI();break}catch(b){Vy(i,b)}while(!0);kh(),rc.current=y,je=p,ht!==null?s=0:(At=null,xt=0,s=vt)}if(s!==0){if(s===2&&(p=hn(i),p!==0&&(f=p,s=fd(i,p))),s===1)throw l=sl,Ss(i,0),Ai(i,f),nn(i,Qe()),l;if(s===6)Ai(i,f);else{if(p=i.current.alternate,(f&30)===0&&!RI(p)&&(s=cc(i,f),s===2&&(y=hn(i),y!==0&&(f=y,s=fd(i,y))),s===1))throw l=sl,Ss(i,0),Ai(i,f),nn(i,Qe()),l;switch(i.finishedWork=p,i.finishedLanes=f,s){case 0:case 1:throw Error(t(345));case 2:As(i,tn,$r);break;case 3:if(Ai(i,f),(f&130023424)===f&&(s=ld+500-Qe(),10<s)){if(us(i,0)!==0)break;if(p=i.suspendedLanes,(p&f)!==f){Kt(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=yh(As.bind(null,i,tn,$r),s);break}As(i,tn,$r);break;case 4:if(Ai(i,f),(f&4194240)===f)break;for(s=i.eventTimes,p=-1;0<f;){var w=31-qt(f);y=1<<w,w=s[w],w>p&&(p=w),f&=~y}if(f=p,f=Qe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*AI(f/1960))-f,10<f){i.timeoutHandle=yh(As.bind(null,i,tn,$r),f);break}As(i,tn,$r);break;case 5:As(i,tn,$r);break;default:throw Error(t(329))}}}return nn(i,Qe()),i.callbackNode===l?Dy.bind(null,i):null}function fd(i,s){var l=ol;return i.current.memoizedState.isDehydrated&&(Ss(i,s).flags|=256),i=cc(i,s),i!==2&&(s=tn,tn=l,s!==null&&hd(s)),i}function hd(i){tn===null?tn=i:tn.push.apply(tn,i)}function RI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var p=l[f],y=p.getSnapshot;p=p.value;try{if(!qn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ai(i,s){for(s&=~ad,s&=~ic,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-qt(s),f=1<<l;i[l]=-1,s&=~f}}function Ly(i){if((je&6)!==0)throw Error(t(327));Lo();var s=us(i,0);if((s&1)===0)return nn(i,Qe()),null;var l=cc(i,s);if(i.tag!==0&&l===2){var f=hn(i);f!==0&&(s=f,l=fd(i,f))}if(l===1)throw l=sl,Ss(i,0),Ai(i,s),nn(i,Qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,As(i,tn,$r),nn(i,Qe()),null}function dd(i,s){var l=je;je|=1;try{return i(s)}finally{je=l,je===0&&(Do=Qe()+500,Mu&&_i())}}function Is(i){Ii!==null&&Ii.tag===0&&(je&6)===0&&Lo();var s=je;je|=1;var l=Pn.transition,f=Le;try{if(Pn.transition=null,Le=1,i)return i()}finally{Le=f,Pn.transition=l,je=s,(je&6)===0&&_i()}}function pd(){yn=No.current,Ze(No)}function Ss(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,nI(l)),ht!==null)for(l=ht.return;l!==null;){var f=l;switch(Ih(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Lu();break;case 3:bo(),Ze(Jt),Ze(Vt),Vh();break;case 5:Dh(f);break;case 4:bo();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:Ph(f.type._context);break;case 22:case 23:pd()}l=l.return}if(At=i,ht=i=Ri(i.current,null),xt=yn=s,vt=0,sl=null,ad=ic=Ts=0,tn=ol=null,vs!==null){for(s=0;s<vs.length;s++)if(l=vs[s],f=l.interleaved,f!==null){l.interleaved=null;var p=f.next,y=l.pending;if(y!==null){var w=y.next;y.next=p,f.next=w}l.pending=f}vs=null}return i}function Vy(i,s){do{var l=ht;try{if(kh(),Ku.current=Xu,Gu){for(var f=it.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Gu=!1}if(ws=0,St=_t=it=null,Za=!1,el=0,od.current=null,l===null||l.return===null){vt=1,sl=s,ht=null;break}e:{var y=i,w=l.return,b=l,M=s;if(s=xt,b.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,ne=b,ie=ne.tag;if((ne.mode&1)===0&&(ie===0||ie===11||ie===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=ay(w);if(de!==null){de.flags&=-257,ly(de,w,b,y,s),de.mode&1&&oy(y,K,s),s=de,M=K;var ye=s.updateQueue;if(ye===null){var _e=new Set;_e.add(M),s.updateQueue=_e}else ye.add(M);break e}else{if((s&1)===0){oy(y,K,s),md();break e}M=Error(t(426))}}else if(tt&&b.mode&1){var lt=ay(w);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),ly(lt,w,b,y,s),Rh(xo(M,b));break e}}y=M=xo(M,b),vt!==4&&(vt=2),ol===null?ol=[y]:ol.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var q=iy(y,M,s);xg(y,q);break e;case 1:b=M;var $=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ti===null||!Ti.has(H)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=sy(y,b,s);xg(y,ue);break e}}y=y.return}while(y!==null)}Uy(l)}catch(ve){s=ve,ht===l&&l!==null&&(ht=l=l.return);continue}break}while(!0)}function My(){var i=rc.current;return rc.current=Xu,i===null?Xu:i}function md(){(vt===0||vt===3||vt===2)&&(vt=4),At===null||(Ts&268435455)===0&&(ic&268435455)===0||Ai(At,xt)}function cc(i,s){var l=je;je|=2;var f=My();(At!==i||xt!==s)&&($r=null,Ss(i,s));do try{CI();break}catch(p){Vy(i,p)}while(!0);if(kh(),je=l,rc.current=f,ht!==null)throw Error(t(261));return At=null,xt=0,vt}function CI(){for(;ht!==null;)Fy(ht)}function kI(){for(;ht!==null&&!au();)Fy(ht)}function Fy(i){var s=zy(i.alternate,i,yn);i.memoizedProps=i.pendingProps,s===null?Uy(i):ht=s,od.current=null}function Uy(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=EI(l,s,yn),l!==null){ht=l;return}}else{if(l=wI(l,s),l!==null){l.flags&=32767,ht=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{vt=6,ht=null;return}}if(s=s.sibling,s!==null){ht=s;return}ht=s=i}while(s!==null);vt===0&&(vt=5)}function As(i,s,l){var f=Le,p=Pn.transition;try{Pn.transition=null,Le=1,PI(i,s,l,f)}finally{Pn.transition=p,Le=f}return null}function PI(i,s,l,f){do Lo();while(Ii!==null);if((je&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ke(i,y),i===At&&(ht=At=null,xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||oc||(oc=!0,By(Tn,function(){return Lo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Pn.transition,Pn.transition=null;var w=Le;Le=1;var b=je;je|=4,od.current=null,II(i,l),Py(l,i),QT(mh),hi=!!ph,mh=ph=null,i.current=l,SI(l),Jf(),je=b,Le=w,Pn.transition=y}else i.current=l;if(oc&&(oc=!1,Ii=i,ac=p),y=i.pendingLanes,y===0&&(Ti=null),cu(l.stateNode),nn(i,Qe()),s!==null)for(f=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],f(p.value,{componentStack:p.stack,digest:p.digest});if(sc)throw sc=!1,i=ud,ud=null,i;return(ac&1)!==0&&i.tag!==0&&Lo(),y=i.pendingLanes,(y&1)!==0?i===cd?al++:(al=0,cd=i):al=0,_i(),null}function Lo(){if(Ii!==null){var i=ci(ac),s=Pn.transition,l=Le;try{if(Pn.transition=null,Le=16>i?16:i,Ii===null)var f=!1;else{if(i=Ii,Ii=null,ac=0,(je&6)!==0)throw Error(t(331));var p=je;for(je|=4,me=i.current;me!==null;){var y=me,w=y.child;if((me.flags&16)!==0){var b=y.deletions;if(b!==null){for(var M=0;M<b.length;M++){var K=b[M];for(me=K;me!==null;){var ne=me;switch(ne.tag){case 0:case 11:case 15:il(8,ne,y)}var ie=ne.child;if(ie!==null)ie.return=ne,me=ie;else for(;me!==null;){ne=me;var te=ne.sibling,de=ne.return;if(Sy(ne),ne===K){me=null;break}if(te!==null){te.return=de,me=te;break}me=de}}}var ye=y.alternate;if(ye!==null){var _e=ye.child;if(_e!==null){ye.child=null;do{var lt=_e.sibling;_e.sibling=null,_e=lt}while(_e!==null)}}me=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,me=w;else e:for(;me!==null;){if(y=me,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:il(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,me=q;break e}me=y.return}}var $=i.current;for(me=$;me!==null;){w=me;var H=w.child;if((w.subtreeFlags&2064)!==0&&H!==null)H.return=w,me=H;else e:for(w=$;me!==null;){if(b=me,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:nc(9,b)}}catch(ve){ot(b,b.return,ve)}if(b===w){me=null;break e}var ue=b.sibling;if(ue!==null){ue.return=b.return,me=ue;break e}me=b.return}}if(je=p,_i(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ls,i)}catch{}f=!0}return f}finally{Le=l,Pn.transition=s}}return!1}function $y(i,s,l){s=xo(l,s),s=iy(i,s,1),i=Ei(i,s,1),s=Kt(),i!==null&&(li(i,1,s),nn(i,s))}function ot(i,s,l){if(i.tag===3)$y(i,i,l);else for(;s!==null;){if(s.tag===3){$y(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ti===null||!Ti.has(f))){i=xo(l,i),i=sy(s,i,1),s=Ei(s,i,1),i=Kt(),s!==null&&(li(s,1,i),nn(s,i));break}}s=s.return}}function bI(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),s=Kt(),i.pingedLanes|=i.suspendedLanes&l,At===i&&(xt&l)===l&&(vt===4||vt===3&&(xt&130023424)===xt&&500>Qe()-ld?Ss(i,0):ad|=l),nn(i,s)}function jy(i,s){s===0&&((i.mode&1)===0?s=1:(s=ro,ro<<=1,(ro&130023424)===0&&(ro=4194304)));var l=Kt();i=Mr(i,s),i!==null&&(li(i,s,l),nn(i,l))}function xI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),jy(i,l)}function OI(i,s){var l=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(s),jy(i,l)}var zy;zy=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||Jt.current)en=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return en=!1,vI(i,s,l);en=(i.flags&131072)!==0}else en=!1,tt&&(s.flags&1048576)!==0&&wg(s,Uu,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;ec(i,s),i=s.pendingProps;var p=Io(s,Vt.current);Po(s,l),p=Uh(null,s,f,i,p,l);var y=$h();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zt(f)?(y=!0,Vu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Oh(s),p.updater=Ju,s.stateNode=p,p._reactInternals=s,Wh(s,f,i,l),s=Yh(null,s,f,!0,y,l)):(s.tag=0,tt&&y&&Th(s),Wt(null,s,p,l),s=s.child),s;case 16:f=s.elementType;e:{switch(ec(i,s),i=s.pendingProps,p=f._init,f=p(f._payload),s.type=f,p=s.tag=DI(f),i=Wn(f,i),p){case 0:s=Qh(null,s,f,i,l);break e;case 1:s=py(null,s,f,i,l);break e;case 11:s=uy(null,s,f,i,l);break e;case 14:s=cy(null,s,f,Wn(f.type,i),l);break e}throw Error(t(306,f,""))}return s;case 0:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Wn(f,p),Qh(i,s,f,p,l);case 1:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Wn(f,p),py(i,s,f,p,l);case 3:e:{if(my(s),i===null)throw Error(t(387));f=s.pendingProps,y=s.memoizedState,p=y.element,bg(i,s),Hu(s,f,null,l);var w=s.memoizedState;if(f=w.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=xo(Error(t(423)),s),s=gy(i,s,f,l,p);break e}else if(f!==p){p=xo(Error(t(424)),s),s=gy(i,s,f,l,p);break e}else for(gn=mi(s.stateNode.containerInfo.firstChild),mn=s,tt=!0,Hn=null,l=kg(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ro(),f===p){s=Ur(i,s,l);break e}Wt(i,s,f,l)}s=s.child}return s;case 5:return Ng(s),i===null&&Ah(s),f=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,w=p.children,gh(f,p)?w=null:y!==null&&gh(f,y)&&(s.flags|=32),dy(i,s),Wt(i,s,w,l),s.child;case 6:return i===null&&Ah(s),null;case 13:return yy(i,s,l);case 4:return Nh(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Co(s,null,f,l):Wt(i,s,f,l),s.child;case 11:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Wn(f,p),uy(i,s,f,p,l);case 7:return Wt(i,s,s.pendingProps,l),s.child;case 8:return Wt(i,s,s.pendingProps.children,l),s.child;case 12:return Wt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,p=s.pendingProps,y=s.memoizedProps,w=p.value,Ye(zu,f._currentValue),f._currentValue=w,y!==null)if(qn(y.value,w)){if(y.children===p.children&&!Jt.current){s=Ur(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){w=y.child;for(var M=b.firstContext;M!==null;){if(M.context===f){if(y.tag===1){M=Fr(-1,l&-l),M.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),K.pending=M}}y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),bh(y.return,l,s),b.lanes|=l;break}M=M.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,b=w.alternate,b!==null&&(b.lanes|=l),bh(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Wt(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,f=s.pendingProps.children,Po(s,l),p=Cn(p),f=f(p),s.flags|=1,Wt(i,s,f,l),s.child;case 14:return f=s.type,p=Wn(f,s.pendingProps),p=Wn(f.type,p),cy(i,s,f,p,l);case 15:return fy(i,s,s.type,s.pendingProps,l);case 17:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Wn(f,p),ec(i,s),s.tag=1,Zt(f)?(i=!0,Vu(s)):i=!1,Po(s,l),ny(s,f,p),Wh(s,f,p,l),Yh(null,s,f,!0,i,l);case 19:return vy(i,s,l);case 22:return hy(i,s,l)}throw Error(t(156,s.tag))};function By(i,s){return to(i,s)}function NI(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,s,l,f){return new NI(i,s,l,f)}function gd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function DI(i){if(typeof i=="function")return gd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===N)return 11;if(i===ae)return 14}return 2}function Ri(i,s){var l=i.alternate;return l===null?(l=bn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function fc(i,s,l,f,p,y){var w=2;if(f=i,typeof i=="function")gd(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case O:return Rs(l.children,p,y,s);case A:w=8,p|=8;break;case C:return i=bn(12,l,s,p|2),i.elementType=C,i.lanes=y,i;case R:return i=bn(13,l,s,p),i.elementType=R,i.lanes=y,i;case re:return i=bn(19,l,s,p),i.elementType=re,i.lanes=y,i;case W:return hc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:w=10;break e;case P:w=9;break e;case N:w=11;break e;case ae:w=14;break e;case Se:w=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=bn(w,l,s,p),s.elementType=i,s.type=f,s.lanes=y,s}function Rs(i,s,l,f){return i=bn(7,i,f,s),i.lanes=l,i}function hc(i,s,l,f){return i=bn(22,i,f,s),i.elementType=W,i.lanes=l,i.stateNode={isHidden:!1},i}function yd(i,s,l){return i=bn(6,i,null,s),i.lanes=l,i}function _d(i,s,l){return s=bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function LI(i,s,l,f,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function vd(i,s,l,f,p,y,w,b,M){return i=new LI(i,s,l,b,M),s===1?(s=1,y===!0&&(s|=8)):s=0,y=bn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oh(y),i}function VI(i,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:f==null?null:""+f,children:i,containerInfo:s,implementation:l}}function qy(i){if(!i)return yi;i=i._reactInternals;e:{if(Mn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Zt(l))return _g(i,l,s)}return s}function Hy(i,s,l,f,p,y,w,b,M){return i=vd(l,f,!0,i,p,y,w,b,M),i.context=qy(null),l=i.current,f=Kt(),p=Si(l),y=Fr(f,p),y.callback=s??null,Ei(l,y,p),i.current.lanes=p,li(i,p,f),nn(i,f),i}function dc(i,s,l,f){var p=s.current,y=Kt(),w=Si(p);return l=qy(l),s.context===null?s.context=l:s.pendingContext=l,s=Fr(y,w),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=Ei(p,s,w),i!==null&&(Qn(i,p,w,y),qu(i,p,w)),w}function pc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Wy(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Ed(i,s){Wy(i,s),(i=i.alternate)&&Wy(i,s)}function MI(){return null}var Ky=typeof reportError=="function"?reportError:function(i){console.error(i)};function wd(i){this._internalRoot=i}mc.prototype.render=wd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));dc(i,s,null,null)},mc.prototype.unmount=wd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Is(function(){dc(null,i,null,null)}),s[Nr]=null}};function mc(i){this._internalRoot=i}mc.prototype.unstable_scheduleHydration=function(i){if(i){var s=mu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,i),l===0&&_u(i)}};function Td(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function gc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Gy(){}function FI(i,s,l,f,p){if(p){if(typeof f=="function"){var y=f;f=function(){var K=pc(w);y.call(K)}}var w=Hy(s,f,i,0,null,!1,!1,"",Gy);return i._reactRootContainer=w,i[Nr]=w.current,Ha(i.nodeType===8?i.parentNode:i),Is(),w}for(;p=i.lastChild;)i.removeChild(p);if(typeof f=="function"){var b=f;f=function(){var K=pc(M);b.call(K)}}var M=vd(i,0,!1,null,null,!1,!1,"",Gy);return i._reactRootContainer=M,i[Nr]=M.current,Ha(i.nodeType===8?i.parentNode:i),Is(function(){dc(s,M,l,f)}),M}function yc(i,s,l,f,p){var y=l._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var b=p;p=function(){var M=pc(w);b.call(M)}}dc(s,w,i,p)}else w=FI(l,s,i,p,f);return pc(w)}du=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=oi(s.pendingLanes);l!==0&&(ui(s,l|1),nn(s,Qe()),(je&6)===0&&(Do=Qe()+500,_i()))}break;case 13:Is(function(){var f=Mr(i,1);if(f!==null){var p=Kt();Qn(f,i,1,p)}}),Ed(i,1)}},io=function(i){if(i.tag===13){var s=Mr(i,134217728);if(s!==null){var l=Kt();Qn(s,i,134217728,l)}Ed(i,134217728)}},pu=function(i){if(i.tag===13){var s=Si(i),l=Mr(i,s);if(l!==null){var f=Kt();Qn(l,i,s,f)}Ed(i,s)}},mu=function(){return Le},gu=function(i,s){var l=Le;try{return Le=i,s()}finally{Le=l}},Qs=function(i,s,l){switch(s){case"input":if(ga(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var p=Du(f);if(!p)throw Error(t(90));Bs(f),ga(f,p)}}}break;case"textarea":Ks(i,l);break;case"select":s=l.value,s!=null&&Ar(i,!!l.multiple,s,!1)}},rs=dd,Ra=Is;var UI={usingClientEntryPoint:!1,Events:[Ga,wo,Du,rr,Aa,dd]},ll={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$I={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Pa(i),i===null?null:i.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||MI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{ls=_c.inject($I),fn=_c}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UI,rn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(s))throw Error(t(200));return VI(i,s,null,l)},rn.createRoot=function(i,s){if(!Td(i))throw Error(t(299));var l=!1,f="",p=Ky;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=vd(i,1,!1,null,null,l,!1,f,p),i[Nr]=s.current,Ha(i.nodeType===8?i.parentNode:i),new wd(s)},rn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Pa(s),i=i===null?null:i.stateNode,i},rn.flushSync=function(i){return Is(i)},rn.hydrate=function(i,s,l){if(!gc(s))throw Error(t(200));return yc(null,i,s,!0,l)},rn.hydrateRoot=function(i,s,l){if(!Td(i))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,p=!1,y="",w=Ky;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=Hy(s,null,i,1,l??null,p,!1,y,w),i[Nr]=s.current,Ha(i),f)for(i=0;i<f.length;i++)l=f[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new mc(s)},rn.render=function(i,s,l){if(!gc(s))throw Error(t(200));return yc(null,i,s,!1,l)},rn.unmountComponentAtNode=function(i){if(!gc(i))throw Error(t(40));return i._reactRootContainer?(Is(function(){yc(null,null,i,!1,function(){i._reactRootContainer=null,i[Nr]=null})}),!0):!1},rn.unstable_batchedUpdates=dd,rn.unstable_renderSubtreeIntoContainer=function(i,s,l,f){if(!gc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return yc(i,s,l,!1,f)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var i_;function Op(){if(i_)return Cd.exports;i_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cd.exports=dS(),Cd.exports}var bd={exports:{}},xd,s_;function pS(){if(s_)return xd;s_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xd=n,xd}var Od,o_;function mS(){if(o_)return Od;o_=1;var n=pS();function e(){}function t(){}return t.resetWarningCache=e,Od=function(){function r(u,h,d,m,_,E){if(E!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Od}var a_;function y0(){return a_||(a_=1,bd.exports=mS()()),bd.exports}var Ec={exports:{}},xn={},wc={exports:{}},l_;function _0(){return l_||(l_=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=_;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",r="contents",o=/^(input|select|textarea|button|object|iframe)$/;function a(E,T){return T.getPropertyValue("overflow")!=="visible"||E.scrollWidth<=0&&E.scrollHeight<=0}function u(E){var T=E.offsetWidth<=0&&E.offsetHeight<=0;if(T&&!E.innerHTML)return!0;try{var S=window.getComputedStyle(E),k=S.getPropertyValue("display");return T?k!==r&&a(E,S):k===t}catch{return console.warn("Failed to inspect element style"),!1}}function h(E){for(var T=E,S=E.getRootNode&&E.getRootNode();T&&T!==document.body;){if(S&&T===S&&(T=S.host.parentNode),u(T))return!1;T=T.parentNode}return!0}function d(E,T){var S=E.nodeName.toLowerCase(),k=o.test(S)&&!E.disabled||S==="a"&&E.href||T;return k&&h(E)}function m(E){var T=E.getAttribute("tabindex");T===null&&(T=void 0);var S=isNaN(T);return(S||T>=0)&&d(E,!S)}function _(E){var T=[].slice.call(E.querySelectorAll("*"),0).reduce(function(S,k){return S.concat(k.shadowRoot?_(k.shadowRoot):[k])},[]);return T.filter(m)}n.exports=e.default}(wc,wc.exports)),wc.exports}var u_;function gS(){if(u_)return xn;u_=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.resetState=u,xn.log=h,xn.handleBlur=d,xn.handleFocus=m,xn.markForFocusLater=_,xn.returnFocus=E,xn.popWithoutFocus=T,xn.setupScopedFocus=S,xn.teardownScopedFocus=k;var n=_0(),e=t(n);function t(D){return D&&D.__esModule?D:{default:D}}var r=[],o=null,a=!1;function u(){r=[]}function h(){}function d(){a=!0}function m(){if(a){if(a=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var D=(0,e.default)(o)[0]||o;D.focus()}},0)}}function _(){r.push(document.activeElement)}function E(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=null;try{r.length!==0&&(x=r.pop(),x.focus({preventScroll:D}));return}catch{console.warn(["You tried to return focus to",x,"but it is not in the DOM anymore"].join(" "))}}function T(){r.length>0&&r.pop()}function S(D){o=D,window.addEventListener?(window.addEventListener("blur",d,!1),document.addEventListener("focus",m,!0)):(window.attachEvent("onBlur",d),document.attachEvent("onFocus",m))}function k(){o=null,window.addEventListener?(window.removeEventListener("blur",d),document.removeEventListener("focus",m)):(window.detachEvent("onBlur",d),document.detachEvent("onFocus",m))}return xn}var Tc={exports:{}},c_;function yS(){return c_||(c_=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=_0(),r=o(t);function o(h){return h&&h.__esModule?h:{default:h}}function a(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return h.activeElement.shadowRoot?a(h.activeElement.shadowRoot):h.activeElement}function u(h,d){var m=(0,r.default)(h);if(!m.length){d.preventDefault();return}var _=void 0,E=d.shiftKey,T=m[0],S=m[m.length-1],k=a();if(h===k){if(!E)return;_=S}if(S===k&&!E&&(_=T),T===k&&E&&(_=S),_){d.preventDefault(),_.focus();return}var D=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),x=D!=null&&D[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(x){var L=m.indexOf(k);if(L>-1&&(L+=E?-1:1),_=m[L],typeof _>"u"){d.preventDefault(),_=E?S:T,_.focus();return}d.preventDefault(),_.focus()}}n.exports=e.default}(Tc,Tc.exports)),Tc.exports}var Yn={},Nd,f_;function _S(){if(f_)return Nd;f_=1;var n=function(){};return Nd=n,Nd}var dr={},Dd={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var h_;function vS(){return h_||(h_=1,function(n){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};n.exports?n.exports=t:window.ExecutionEnvironment=t})()}(Dd)),Dd.exports}var d_;function Np(){if(d_)return dr;d_=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.canUseDOM=dr.SafeNodeList=dr.SafeHTMLCollection=void 0;var n=vS(),e=t(n);function t(a){return a&&a.__esModule?a:{default:a}}var r=e.default,o=r.canUseDOM?window.HTMLElement:{};return dr.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},dr.SafeNodeList=r.canUseDOM?window.NodeList:{},dr.canUseDOM=r.canUseDOM,dr.default=o,dr}var p_;function v0(){if(p_)return Yn;p_=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.resetState=a,Yn.log=u,Yn.assertNodeList=h,Yn.setElement=d,Yn.validateElement=m,Yn.hide=_,Yn.show=E,Yn.documentNotReadyOrSSRTesting=T;var n=_S(),e=r(n),t=Np();function r(S){return S&&S.__esModule?S:{default:S}}var o=null;function a(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(S){return S.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(S){return S.removeAttribute("aria-hidden")})),o=null}function u(){}function h(S,k){if(!S||!S.length)throw new Error("react-modal: No elements were found for selector "+k+".")}function d(S){var k=S;if(typeof k=="string"&&t.canUseDOM){var D=document.querySelectorAll(k);h(D,k),k=D}return o=k||o,o}function m(S){var k=S||o;return k?Array.isArray(k)||k instanceof HTMLCollection||k instanceof NodeList?k:[k]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function _(S){var k=!0,D=!1,x=void 0;try{for(var L=m(S)[Symbol.iterator](),z;!(k=(z=L.next()).done);k=!0){var j=z.value;j.setAttribute("aria-hidden","true")}}catch(Y){D=!0,x=Y}finally{try{!k&&L.return&&L.return()}finally{if(D)throw x}}}function E(S){var k=!0,D=!1,x=void 0;try{for(var L=m(S)[Symbol.iterator](),z;!(k=(z=L.next()).done);k=!0){var j=z.value;j.removeAttribute("aria-hidden")}}catch(Y){D=!0,x=Y}finally{try{!k&&L.return&&L.return()}finally{if(D)throw x}}}function T(){o=null}return Yn}var Cs={},m_;function ES(){if(m_)return Cs;m_=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.resetState=r,Cs.log=o;var n={},e={};function t(m,_){m.classList.remove(_)}function r(){var m=document.getElementsByTagName("html")[0];for(var _ in n)t(m,n[_]);var E=document.body;for(var T in e)t(E,e[T]);n={},e={}}function o(){}var a=function(_,E){return _[E]||(_[E]=0),_[E]+=1,E},u=function(_,E){return _[E]&&(_[E]-=1),E},h=function(_,E,T){T.forEach(function(S){a(E,S),_.add(S)})},d=function(_,E,T){T.forEach(function(S){u(E,S),E[S]===0&&_.remove(S)})};return Cs.add=function(_,E){return h(_.classList,_.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},Cs.remove=function(_,E){return d(_.classList,_.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},Cs}var Vo={},g_;function E0(){if(g_)return Vo;g_=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.log=r,Vo.resetState=o;function n(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var e=function a(){var u=this;n(this,a),this.register=function(h){u.openInstances.indexOf(h)===-1&&(u.openInstances.push(h),u.emit("register"))},this.deregister=function(h){var d=u.openInstances.indexOf(h);d!==-1&&(u.openInstances.splice(d,1),u.emit("deregister"))},this.subscribe=function(h){u.subscribers.push(h)},this.emit=function(h){u.subscribers.forEach(function(d){return d(h,u.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function r(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function o(){t=new e}return Vo.default=t,Vo}var cl={},y_;function wS(){if(y_)return cl;y_=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.resetState=u,cl.log=h;var n=E0(),e=t(n);function t(_){return _&&_.__esModule?_:{default:_}}var r=void 0,o=void 0,a=[];function u(){for(var _=[r,o],E=0;E<_.length;E++){var T=_[E];T&&T.parentNode&&T.parentNode.removeChild(T)}r=o=null,a=[]}function h(){console.log("bodyTrap ----------"),console.log(a.length);for(var _=[r,o],E=0;E<_.length;E++){var T=_[E],S=T||{};console.log(S.nodeName,S.className,S.id)}console.log("edn bodyTrap ----------")}function d(){a.length!==0&&a[a.length-1].focusContent()}function m(_,E){!r&&!o&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",d),o=r.cloneNode(),o.addEventListener("focus",d)),a=E,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(r.parentElement&&r.parentElement.removeChild(r),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(m),cl}var __;function TS(){return __||(__=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(re){for(var ae=1;ae<arguments.length;ae++){var Se=arguments[ae];for(var W in Se)Object.prototype.hasOwnProperty.call(Se,W)&&(re[W]=Se[W])}return re},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},o=function(){function re(ae,Se){for(var W=0;W<Se.length;W++){var Q=Se[W];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ae,Q.key,Q)}}return function(ae,Se,W){return Se&&re(ae.prototype,Se),W&&re(ae,W),ae}}(),a=Ul(),u=y0(),h=le(u),d=gS(),m=Y(d),_=yS(),E=le(_),T=v0(),S=Y(T),k=ES(),D=Y(k),x=Np(),L=le(x),z=E0(),j=le(z);wS();function Y(re){if(re&&re.__esModule)return re;var ae={};if(re!=null)for(var Se in re)Object.prototype.hasOwnProperty.call(re,Se)&&(ae[Se]=re[Se]);return ae.default=re,ae}function le(re){return re&&re.__esModule?re:{default:re}}function oe(re,ae){if(!(re instanceof ae))throw new TypeError("Cannot call a class as a function")}function O(re,ae){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:re}function A(re,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);re.prototype=Object.create(ae&&ae.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(re,ae):re.__proto__=ae)}var C={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},V=function(ae){return ae.code==="Tab"||ae.keyCode===9},P=function(ae){return ae.code==="Escape"||ae.keyCode===27},N=0,R=function(re){A(ae,re);function ae(Se){oe(this,ae);var W=O(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,Se));return W.setOverlayRef=function(Q){W.overlay=Q,W.props.overlayRef&&W.props.overlayRef(Q)},W.setContentRef=function(Q){W.content=Q,W.props.contentRef&&W.props.contentRef(Q)},W.afterClose=function(){var Q=W.props,fe=Q.appElement,se=Q.ariaHideApp,U=Q.htmlOpenClassName,X=Q.bodyOpenClassName,ge=Q.parentSelector,ke=ge&&ge().ownerDocument||document;X&&D.remove(ke.body,X),U&&D.remove(ke.getElementsByTagName("html")[0],U),se&&N>0&&(N-=1,N===0&&S.show(fe)),W.props.shouldFocusAfterRender&&(W.props.shouldReturnFocusAfterClose?(m.returnFocus(W.props.preventScroll),m.teardownScopedFocus()):m.popWithoutFocus()),W.props.onAfterClose&&W.props.onAfterClose(),j.default.deregister(W)},W.open=function(){W.beforeOpen(),W.state.afterOpen&&W.state.beforeClose?(clearTimeout(W.closeTimer),W.setState({beforeClose:!1})):(W.props.shouldFocusAfterRender&&(m.setupScopedFocus(W.node),m.markForFocusLater()),W.setState({isOpen:!0},function(){W.openAnimationFrame=requestAnimationFrame(function(){W.setState({afterOpen:!0}),W.props.isOpen&&W.props.onAfterOpen&&W.props.onAfterOpen({overlayEl:W.overlay,contentEl:W.content})})}))},W.close=function(){W.props.closeTimeoutMS>0?W.closeWithTimeout():W.closeWithoutTimeout()},W.focusContent=function(){return W.content&&!W.contentHasFocus()&&W.content.focus({preventScroll:!0})},W.closeWithTimeout=function(){var Q=Date.now()+W.props.closeTimeoutMS;W.setState({beforeClose:!0,closesAt:Q},function(){W.closeTimer=setTimeout(W.closeWithoutTimeout,W.state.closesAt-Date.now())})},W.closeWithoutTimeout=function(){W.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},W.afterClose)},W.handleKeyDown=function(Q){V(Q)&&(0,E.default)(W.content,Q),W.props.shouldCloseOnEsc&&P(Q)&&(Q.stopPropagation(),W.requestClose(Q))},W.handleOverlayOnClick=function(Q){W.shouldClose===null&&(W.shouldClose=!0),W.shouldClose&&W.props.shouldCloseOnOverlayClick&&(W.ownerHandlesClose()?W.requestClose(Q):W.focusContent()),W.shouldClose=null},W.handleContentOnMouseUp=function(){W.shouldClose=!1},W.handleOverlayOnMouseDown=function(Q){!W.props.shouldCloseOnOverlayClick&&Q.target==W.overlay&&Q.preventDefault()},W.handleContentOnClick=function(){W.shouldClose=!1},W.handleContentOnMouseDown=function(){W.shouldClose=!1},W.requestClose=function(Q){return W.ownerHandlesClose()&&W.props.onRequestClose(Q)},W.ownerHandlesClose=function(){return W.props.onRequestClose},W.shouldBeClosed=function(){return!W.state.isOpen&&!W.state.beforeClose},W.contentHasFocus=function(){return document.activeElement===W.content||W.content.contains(document.activeElement)},W.buildClassName=function(Q,fe){var se=(typeof fe>"u"?"undefined":r(fe))==="object"?fe:{base:C[Q],afterOpen:C[Q]+"--after-open",beforeClose:C[Q]+"--before-close"},U=se.base;return W.state.afterOpen&&(U=U+" "+se.afterOpen),W.state.beforeClose&&(U=U+" "+se.beforeClose),typeof fe=="string"&&fe?U+" "+fe:U},W.attributesFromObject=function(Q,fe){return Object.keys(fe).reduce(function(se,U){return se[Q+"-"+U]=fe[U],se},{})},W.state={afterOpen:!1,beforeClose:!1},W.shouldClose=null,W.moveFromContentToOverlay=null,W}return o(ae,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(W,Q){this.props.isOpen&&!W.isOpen?this.open():!this.props.isOpen&&W.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Q.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var W=this.props,Q=W.appElement,fe=W.ariaHideApp,se=W.htmlOpenClassName,U=W.bodyOpenClassName,X=W.parentSelector,ge=X&&X().ownerDocument||document;U&&D.add(ge.body,U),se&&D.add(ge.getElementsByTagName("html")[0],se),fe&&(N+=1,S.hide(Q)),j.default.register(this)}},{key:"render",value:function(){var W=this.props,Q=W.id,fe=W.className,se=W.overlayClassName,U=W.defaultStyles,X=W.children,ge=fe?{}:U.content,ke=se?{}:U.overlay;if(this.shouldBeClosed())return null;var be={ref:this.setOverlayRef,className:this.buildClassName("overlay",se),style:t({},ke,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Oe=t({id:Q,ref:this.setContentRef,style:t({},ge,this.props.style.content),className:this.buildClassName("content",fe),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),$e=this.props.contentElement(Oe,X);return this.props.overlayElement(be,$e)}}]),ae}(a.Component);R.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},R.propTypes={isOpen:h.default.bool.isRequired,defaultStyles:h.default.shape({content:h.default.object,overlay:h.default.object}),style:h.default.shape({content:h.default.object,overlay:h.default.object}),className:h.default.oneOfType([h.default.string,h.default.object]),overlayClassName:h.default.oneOfType([h.default.string,h.default.object]),parentSelector:h.default.func,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,ariaHideApp:h.default.bool,appElement:h.default.oneOfType([h.default.instanceOf(L.default),h.default.instanceOf(x.SafeHTMLCollection),h.default.instanceOf(x.SafeNodeList),h.default.arrayOf(h.default.instanceOf(L.default))]),onAfterOpen:h.default.func,onAfterClose:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,role:h.default.string,contentLabel:h.default.string,aria:h.default.object,data:h.default.object,children:h.default.node,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func,testId:h.default.string},e.default=R,n.exports=e.default}(Ec,Ec.exports)),Ec.exports}function w0(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function T0(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function I0(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}w0.__suppressDeprecationWarning=!0;T0.__suppressDeprecationWarning=!0;I0.__suppressDeprecationWarning=!0;function IS(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,o=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||r!==null||o!==null){var a=n.displayName||n.name,u=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+u+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=w0,e.componentWillReceiveProps=T0),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=I0;var h=e.componentDidUpdate;e.componentDidUpdate=function(m,_,E){var T=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;h.call(this,m,_,T)}}return n}const SS=Object.freeze(Object.defineProperty({__proto__:null,polyfill:IS},Symbol.toStringTag,{value:"Module"})),AS=BI(SS);var v_;function RS(){if(v_)return ki;v_=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.bodyOpenClassName=ki.portalClassName=void 0;var n=Object.assign||function(P){for(var N=1;N<arguments.length;N++){var R=arguments[N];for(var re in R)Object.prototype.hasOwnProperty.call(R,re)&&(P[re]=R[re])}return P},e=function(){function P(N,R){for(var re=0;re<R.length;re++){var ae=R[re];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(N,ae.key,ae)}}return function(N,R,re){return R&&P(N.prototype,R),re&&P(N,re),N}}(),t=Ul(),r=x(t),o=Op(),a=x(o),u=y0(),h=x(u),d=TS(),m=x(d),_=v0(),E=D(_),T=Np(),S=x(T),k=AS;function D(P){if(P&&P.__esModule)return P;var N={};if(P!=null)for(var R in P)Object.prototype.hasOwnProperty.call(P,R)&&(N[R]=P[R]);return N.default=P,N}function x(P){return P&&P.__esModule?P:{default:P}}function L(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")}function z(P,N){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:P}function j(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);P.prototype=Object.create(N&&N.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(P,N):P.__proto__=N)}var Y=ki.portalClassName="ReactModalPortal",le=ki.bodyOpenClassName="ReactModal__Body--open",oe=T.canUseDOM&&a.default.createPortal!==void 0,O=function(N){return document.createElement(N)},A=function(){return oe?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function C(P){return P()}var V=function(P){j(N,P);function N(){var R,re,ae,Se;L(this,N);for(var W=arguments.length,Q=Array(W),fe=0;fe<W;fe++)Q[fe]=arguments[fe];return Se=(re=(ae=z(this,(R=N.__proto__||Object.getPrototypeOf(N)).call.apply(R,[this].concat(Q))),ae),ae.removePortal=function(){!oe&&a.default.unmountComponentAtNode(ae.node);var se=C(ae.props.parentSelector);se&&se.contains(ae.node)?se.removeChild(ae.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ae.portalRef=function(se){ae.portal=se},ae.renderPortal=function(se){var U=A(),X=U(ae,r.default.createElement(m.default,n({defaultStyles:N.defaultStyles},se)),ae.node);ae.portalRef(X)},re),z(ae,Se)}return e(N,[{key:"componentDidMount",value:function(){if(T.canUseDOM){oe||(this.node=O("div")),this.node.className=this.props.portalClassName;var re=C(this.props.parentSelector);re.appendChild(this.node),!oe&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(re){var ae=C(re.parentSelector),Se=C(this.props.parentSelector);return{prevParent:ae,nextParent:Se}}},{key:"componentDidUpdate",value:function(re,ae,Se){if(T.canUseDOM){var W=this.props,Q=W.isOpen,fe=W.portalClassName;re.portalClassName!==fe&&(this.node.className=fe);var se=Se.prevParent,U=Se.nextParent;U!==se&&(se.removeChild(this.node),U.appendChild(this.node)),!(!re.isOpen&&!Q)&&!oe&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!T.canUseDOM||!this.node||!this.portal)){var re=this.portal.state,ae=Date.now(),Se=re.isOpen&&this.props.closeTimeoutMS&&(re.closesAt||ae+this.props.closeTimeoutMS);Se?(re.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,Se-ae)):this.removePortal()}}},{key:"render",value:function(){if(!T.canUseDOM||!oe)return null;!this.node&&oe&&(this.node=O("div"));var re=A();return re(r.default.createElement(m.default,n({ref:this.portalRef,defaultStyles:N.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(re){E.setElement(re)}}]),N}(t.Component);return V.propTypes={isOpen:h.default.bool.isRequired,style:h.default.shape({content:h.default.object,overlay:h.default.object}),portalClassName:h.default.string,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,className:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),overlayClassName:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),appElement:h.default.oneOfType([h.default.instanceOf(S.default),h.default.instanceOf(T.SafeHTMLCollection),h.default.instanceOf(T.SafeNodeList),h.default.arrayOf(h.default.instanceOf(S.default))]),onAfterOpen:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,ariaHideApp:h.default.bool,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,parentSelector:h.default.func,aria:h.default.object,data:h.default.object,role:h.default.string,contentLabel:h.default.string,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func},V.defaultProps={isOpen:!1,portalClassName:Y,bodyOpenClassName:le,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(N,R){return r.default.createElement("div",N,R)},contentElement:function(N,R){return r.default.createElement("div",N,R)}},V.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,k.polyfill)(V),ki.default=V,ki}var E_;function CS(){return E_||(E_=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=RS(),r=o(t);function o(a){return a&&a.__esModule?a:{default:a}}e.default=r.default,n.exports=e.default}(vc,vc.exports)),vc.exports}var kS=CS();const S0=Fl(kS),PS="_wrapper_1u7sg_1",bS="_wrapper_large_1u7sg_5",xS="_skeleton_1u7sg_10",OS="_button_1u7sg_16",NS="_button_circle_1u7sg_40",fl={wrapper:PS,wrapper_large:bS,skeleton:xS,button:OS,button_circle:NS},DS="_icon_1vh8w_1",LS={icon:DS},VS=({children:n,className:e})=>Z.jsx("span",{className:Qt("material-symbols-outlined",LS.icon,e),"aria-hidden":"true",children:n}),MS="_wrapper_19a1s_9",FS="_wrapper_disabled_19a1s_17",US="_body_19a1s_20",$S="_spinner_19a1s_24",jr={wrapper:MS,wrapper_disabled:FS,"wrapper_spinner-small":"_wrapper_spinner-small_19a1s_20",body:US,spinner:$S,"spinner-wrapper":"_spinner-wrapper_19a1s_30"},jS="_loader_1dv2z_1",zS={loader:jS},w_="ToDo",A0=0,R0=99972349199e3,vD=4096,ED=8,wD=350,TD=80,ID=30,SD=4,AD=10,RD=10,CD=3,BS={emailRequired:"Email ",emailIncorrect:" email",passwordRequired:" ",passwordUpperCase:"        ",passwordLowerCase:"        ",passwordNumber:"      ",passwordMin:n=>`   ${n} `,passwordMax:n=>`   ${n} `,nameMax:n=>`   ${n} `,passwordRepeatRequired:"   ",passwordRepeatIncorrect:"  ",policyRequired:"    ",policyCheckbox:"    ",dateRequired:" ",nameTaskMax:n=>`    ${n} `,nameTaskRequired:"  ",nameTagMax:n=>`    ${n} `,nameTagRequired:"  ",hexColorInvalid:"    HEX",colorRequired:" ",dateRange:()=>{const n=new Date(A0).getFullYear(),e=new Date(R0).getFullYear();return`      ${n}.  ${e}.`}},kD={"auth/too-many-requests":"  ,  ","auth/user-not-found":"   ","auth/wrong-password":"   ","auth/invalid-credential":"   ","auth/invalid-display-name":" ","auth/invalid-email":" email","auth/invalid-password":" ","auth/password-does-not-meet-requirements":" ","auth/email-already-in-use":"   Email  ","auth/expired-action-code":"   ","auth/invalid-action-code":" ",unknown:" ,  "},qS={userLoading:"  ,   ",updateTask:"  ,   ",tasksLoading:"    ,   ",tasksLoadingShort:"  ",quantityUpcomingTasksLoading:"      ,   ",addTask:"  ,   ",saveTask:"  ,   ",deleteTask:"  ,   ",addTag:"  ,   ",saveTag:"  ,   ",deleteTag:"  ,   ",tagNameLoading:"   ,   ",tagLoading:"  ,   ",tagsLoading:"    ,   ",signOut:" ,   ",unknown:" ,  "},C0={common:"...",tasks:" ...",tags:" ..."},PD={todayTasks:"   ",tomorrowTasks:"   ",nearTasks:"  ",tags:" ",tasks:" ",tagSet:"  "},bD={addTask:" ",saveTask:" ",deleteTask:" ",addTag:" ",saveTag:" ",deleteTag:" ",resetPassword:"  email       ",confirmPasswordReset:"  "},HS=({isLoading:n,hiddenMessage:e=C0.common,children:t})=>Z.jsxs(Z.Fragment,{children:[Z.jsx("span",{className:Qt("visually-hidden",zS.loader),role:"status",children:n&&e}),t]});var F=Ul();const Ue=Fl(F),xD=zI({__proto__:null,default:Ue},[F]),WS=Ue.createContext({}),k0=!0;function KS({baseColor:n,highlightColor:e,width:t,height:r,borderRadius:o,circle:a,direction:u,duration:h,enableAnimation:d=k0,customHighlightBackground:m}){const _={};return u==="rtl"&&(_["--animation-direction"]="reverse"),typeof h=="number"&&(_["--animation-duration"]=`${h}s`),d||(_["--pseudo-element-display"]="none"),(typeof t=="string"||typeof t=="number")&&(_.width=t),(typeof r=="string"||typeof r=="number")&&(_.height=r),(typeof o=="string"||typeof o=="number")&&(_.borderRadius=o),a&&(_.borderRadius="50%"),typeof n<"u"&&(_["--base-color"]=n),typeof e<"u"&&(_["--highlight-color"]=e),typeof m=="string"&&(_["--custom-highlight-background"]=m),_}function GS({count:n=1,wrapper:e,className:t,containerClassName:r,containerTestId:o,circle:a=!1,style:u,...h}){var d,m,_;const E=Ue.useContext(WS),T={...h};for(const[j,Y]of Object.entries(h))typeof Y>"u"&&delete T[j];const S={...E,...T,circle:a},k={...u,...KS(S)};let D="react-loading-skeleton";t&&(D+=` ${t}`);const x=(d=S.inline)!==null&&d!==void 0?d:!1,L=[],z=Math.ceil(n);for(let j=0;j<z;j++){let Y=k;if(z>n&&j===z-1){const oe=(m=Y.width)!==null&&m!==void 0?m:"100%",O=n%1,A=typeof oe=="number"?oe*O:`calc(${oe} * ${O})`;Y={...Y,width:A}}const le=Ue.createElement("span",{className:D,style:Y,key:j},"");x?L.push(le):L.push(Ue.createElement(Ue.Fragment,{key:j},le,Ue.createElement("br",null)))}return Ue.createElement("span",{className:r,"data-testid":o,"aria-live":"polite","aria-busy":(_=S.enableAnimation)!==null&&_!==void 0?_:k0},e?L.map((j,Y)=>Ue.createElement(e,{key:Y},j)):L)}const QS=n=>{const[e,t]=F.useState(n);return F.useEffect(()=>{let r;return n?r=setTimeout(()=>t(!0),300):t(!1),()=>clearTimeout(r)},[n]),e};var hl={},T_;function YS(){if(T_)return hl;T_=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.parse=u,hl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,S){const k=new a,D=T.length;if(D<2)return k;const x=(S==null?void 0:S.decode)||_;let L=0;do{const z=T.indexOf("=",L);if(z===-1)break;const j=T.indexOf(";",L),Y=j===-1?D:j;if(z>Y){L=T.lastIndexOf(";",z-1)+1;continue}const le=h(T,L,z),oe=d(T,z,le),O=T.slice(le,oe);if(k[O]===void 0){let A=h(T,z+1,Y),C=d(T,Y,A);const V=x(T.slice(A,C));k[O]=V}L=Y+1}while(L<D);return k}function h(T,S,k){do{const D=T.charCodeAt(S);if(D!==32&&D!==9)return S}while(++S<k);return k}function d(T,S,k){for(;S>k;){const D=T.charCodeAt(--S);if(D!==32&&D!==9)return S+1}return k}function m(T,S,k){const D=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const x=D(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let L=T+"="+x;if(!k)return L;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);L+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);L+="; Domain="+k.domain}if(k.path){if(!r.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);L+="; Path="+k.path}if(k.expires){if(!E(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);L+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(L+="; HttpOnly"),k.secure&&(L+="; Secure"),k.partitioned&&(L+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return L}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return o.call(T)==="[object Date]"}return hl}YS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var I_="popstate";function XS(n={}){function e(r,o){let{pathname:a,search:u,hash:h}=r.location;return Zd("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Sl(o)}return ZS(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JS(){return Math.random().toString(36).substring(2,10)}function S_(n,e){return{usr:n.state,key:n.key,idx:e}}function Zd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:t,key:e&&e.key||r||JS()}}function Sl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function oa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ZS(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",d=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function E(){h="POP";let x=_(),L=x==null?null:x-m;m=x,d&&d({action:h,location:D.location,delta:L})}function T(x,L){h="PUSH";let z=Zd(D.location,x,L);m=_()+1;let j=S_(z,m),Y=D.createHref(z);try{u.pushState(j,"",Y)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(Y)}a&&d&&d({action:h,location:D.location,delta:1})}function S(x,L){h="REPLACE";let z=Zd(D.location,x,L);m=_();let j=S_(z,m),Y=D.createHref(z);u.replaceState(j,"",Y),a&&d&&d({action:h,location:D.location,delta:0})}function k(x){let L=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof x=="string"?x:Sl(x);return z=z.replace(/ $/,"%20"),nt(L,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,L)}let D={get action(){return h},get location(){return n(o,u)},listen(x){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(I_,E),d=x,()=>{o.removeEventListener(I_,E),d=null}},createHref(x){return e(o,x)},createURL:k,encodeLocation(x){let L=k(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:S,go(x){return u.go(x)}};return D}function P0(n,e,t="/"){return eA(n,e,t,!1)}function eA(n,e,t,r){let o=typeof e=="string"?oa(e):e,a=zi(o.pathname||"/",t);if(a==null)return null;let u=b0(n);tA(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=hA(a);h=cA(u[d],m,r)}return h}function b0(n,e=[],t=[],r=""){let o=(a,u,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(nt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=Wr([r,d.relativePath]),_=t.concat(d);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),b0(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:lA(m,a.index),routesMeta:_})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let d of x0(a.path))o(a,u,d)}),e}function x0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=x0(r.join("/")),h=[];return h.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function tA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var nA=/^:[\w-]+$/,rA=3,iA=2,sA=1,oA=10,aA=-2,A_=n=>n==="*";function lA(n,e){let t=n.split("/"),r=t.length;return t.some(A_)&&(r+=aA),e&&(r+=iA),t.filter(o=>!A_(o)).reduce((o,a)=>o+(nA.test(a)?rA:a===""?sA:oA),r)}function uA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function cA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=Gc({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},_),T=d.route;if(!E&&m&&t&&!r[r.length-1].route.index&&(E=Gc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Wr([a,E.pathname]),pathnameBase:gA(Wr([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Wr([a,E.pathnameBase]))}return u}function Gc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=fA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:E},T)=>{if(_==="*"){let k=h[T]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const S=h[T];return E&&!S?m[_]=void 0:m[_]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function fA(n,e=!1,t=!0){Zn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function hA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function dA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?oa(n):n;return{pathname:t?t.startsWith("/")?t:pA(t,e):e,search:yA(r),hash:_A(o)}}function pA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ld(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dp(n){let e=mA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Lp(n,e,t,r=!1){let o;typeof n=="string"?o=oa(n):(o={...n},nt(!o.pathname||!o.pathname.includes("?"),Ld("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Ld("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Ld("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}h=E>=0?e[E]:"/"}let d=dA(o,h),m=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||_)&&(d.pathname+="/"),d}var Wr=n=>n.join("/").replace(/\/\/+/g,"/"),gA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_A=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function vA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var O0=["POST","PUT","PATCH","DELETE"];new Set(O0);var EA=["GET",...O0];new Set(EA);var aa=F.createContext(null);aa.displayName="DataRouter";var _f=F.createContext(null);_f.displayName="DataRouterState";var N0=F.createContext({isTransitioning:!1});N0.displayName="ViewTransition";var wA=F.createContext(new Map);wA.displayName="Fetchers";var TA=F.createContext(null);TA.displayName="Await";var tr=F.createContext(null);tr.displayName="Navigation";var $l=F.createContext(null);$l.displayName="Location";var Dn=F.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var Vp=F.createContext(null);Vp.displayName="RouteError";function IA(n,{relative:e}={}){nt(la(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(tr),{hash:o,pathname:a,search:u}=jl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Wr([t,a])),r.createHref({pathname:h,search:u,hash:o})}function la(){return F.useContext($l)!=null}function Qi(){return nt(la(),"useLocation() may be used only in the context of a <Router> component."),F.useContext($l).location}var D0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L0(n){F.useContext(tr).static||F.useLayoutEffect(n)}function V0(){let{isDataRoute:n}=F.useContext(Dn);return n?FA():SA()}function SA(){nt(la(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(aa),{basename:e,navigator:t}=F.useContext(tr),{matches:r}=F.useContext(Dn),{pathname:o}=Qi(),a=JSON.stringify(Dp(r)),u=F.useRef(!1);return L0(()=>{u.current=!0}),F.useCallback((d,m={})=>{if(Zn(u.current,D0),!u.current)return;if(typeof d=="number"){t.go(d);return}let _=Lp(d,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Wr([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}var AA=F.createContext(null);function RA(n){let e=F.useContext(Dn).outlet;return e&&F.createElement(AA.Provider,{value:n},e)}function OD(){let{matches:n}=F.useContext(Dn),e=n[n.length-1];return e?e.params:{}}function jl(n,{relative:e}={}){let{matches:t}=F.useContext(Dn),{pathname:r}=Qi(),o=JSON.stringify(Dp(t));return F.useMemo(()=>Lp(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function CA(n,e){return M0(n,e)}function M0(n,e,t,r){var z;nt(la(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=F.useContext(tr),{matches:u}=F.useContext(Dn),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",_=h?h.pathnameBase:"/",E=h&&h.route;{let j=E&&E.path||"";F0(m,!E||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let T=Qi(),S;if(e){let j=typeof e=="string"?oa(e):e;nt(_==="/"||((z=j.pathname)==null?void 0:z.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=T;let k=S.pathname||"/",D=k;if(_!=="/"){let j=_.replace(/^\//,"").split("/");D="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:P0(n,{pathname:D});Zn(E||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Zn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=OA(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Wr([_,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:Wr([_,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,r);return e&&L?F.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function kA(){let n=MA(),e=vA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,u)}var PA=F.createElement(kA,null),bA=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Dn.Provider,{value:this.props.routeContext},F.createElement(Vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xA({routeContext:n,match:e,children:t}){let r=F.useContext(aa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Dn.Provider,{value:n},t)}function OA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let d=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:_,errors:E}=t,T=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||T){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,_)=>{let E,T=!1,S=null,k=null;t&&(E=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||PA,u&&(h<0&&_===0?(F0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,k=null):h===_&&(T=!0,k=m.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,_+1)),x=()=>{let L;return E?L=S:T?L=k:m.route.Component?L=F.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=d,F.createElement(xA,{match:m,routeContext:{outlet:d,matches:D,isDataRoute:t!=null},children:L})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?F.createElement(bA,{location:t.location,revalidation:t.revalidation,component:S,error:E,children:x(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):x()},null)}function Mp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(n){let e=F.useContext(aa);return nt(e,Mp(n)),e}function DA(n){let e=F.useContext(_f);return nt(e,Mp(n)),e}function LA(n){let e=F.useContext(Dn);return nt(e,Mp(n)),e}function Fp(n){let e=LA(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function VA(){return Fp("useRouteId")}function MA(){var r;let n=F.useContext(Vp),e=DA("useRouteError"),t=Fp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function FA(){let{router:n}=NA("useNavigate"),e=Fp("useNavigate"),t=F.useRef(!1);return L0(()=>{t.current=!0}),F.useCallback(async(o,a={})=>{Zn(t.current,D0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var R_={};function F0(n,e,t){!e&&!R_[n]&&(R_[n]=!0,Zn(!1,t))}F.memo(UA);function UA({routes:n,future:e,state:t}){return M0(n,void 0,t,e)}function C_({to:n,replace:e,state:t,relative:r}){nt(la(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(tr);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Dn),{pathname:u}=Qi(),h=V0(),d=Lp(n,Dp(a),u,r==="path"),m=JSON.stringify(d);return F.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:r})},[h,m,r,e,t]),null}function $A(n){return RA(n.context)}function Ot(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){nt(!la(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=oa(t));let{pathname:d="/",search:m="",hash:_="",state:E=null,key:T="default"}=t,S=F.useMemo(()=>{let k=zi(d,u);return k==null?null:{location:{pathname:k,search:m,hash:_,state:E,key:T},navigationType:r}},[u,d,m,_,E,T,r]);return Zn(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:F.createElement(tr.Provider,{value:h},F.createElement($l.Provider,{children:e,value:S}))}function zA({children:n,location:e}){return CA(ep(n),e)}function ep(n,e=[]){let t=[];return F.Children.forEach(n,(r,o)=>{if(!F.isValidElement(r))return;let a=[...e,o];if(r.type===F.Fragment){t.push.apply(t,ep(r.props.children,a));return}nt(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ep(r.props.children,a)),t.push(u)}),t}var Nc="get",Dc="application/x-www-form-urlencoded";function vf(n){return n!=null&&typeof n.tagName=="string"}function BA(n){return vf(n)&&n.tagName.toLowerCase()==="button"}function qA(n){return vf(n)&&n.tagName.toLowerCase()==="form"}function HA(n){return vf(n)&&n.tagName.toLowerCase()==="input"}function WA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function KA(n,e){return n.button===0&&(!e||e==="_self")&&!WA(n)}var Ic=null;function GA(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var QA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vd(n){return n!=null&&!QA.has(n)?(Zn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):n}function YA(n,e){let t,r,o,a,u;if(qA(n)){let h=n.getAttribute("action");r=h?zi(h,e):null,t=n.getAttribute("method")||Nc,o=Vd(n.getAttribute("enctype"))||Dc,a=new FormData(n)}else if(BA(n)||HA(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?zi(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Nc,o=Vd(n.getAttribute("formenctype"))||Vd(h.getAttribute("enctype"))||Dc,a=new FormData(h,n),!GA()){let{name:m,type:_,value:E}=n;if(_==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,E)}}else{if(vf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nc,r=null,o=Dc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Up(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function XA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZA(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await XA(a,t);return u.links?u.links():[]}return[]}));return rR(r.flat(1).filter(JA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function k_(n,e,t,r,o,a){let u=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>{var _;return t[m].pathname!==d.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):a==="data"?e.filter((d,m)=>{var E;let _=r.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function eR(n,e,{includeHydrateFallback:t}={}){return tR(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function tR(n){return[...new Set(n)]}function nR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function rR(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(nR(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function iR(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sR(){let n=F.useContext(aa);return Up(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oR(){let n=F.useContext(_f);return Up(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $p=F.createContext(void 0);$p.displayName="FrameworkContext";function U0(){let n=F.useContext($p);return Up(n,"You must render this element inside a <HydratedRouter> element"),n}function aR(n,e){let t=F.useContext($p),[r,o]=F.useState(!1),[a,u]=F.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:_,onTouchStart:E}=e,T=F.useRef(null);F.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=L=>{L.forEach(z=>{u(z.isIntersecting)})},x=new IntersectionObserver(D,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[n]),F.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let S=()=>{o(!0)},k=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:dl(h,S),onBlur:dl(d,k),onMouseEnter:dl(m,S),onMouseLeave:dl(_,k),onTouchStart:dl(E,S)}]:[!1,T,{}]}function dl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lR({page:n,...e}){let{router:t}=sR(),r=F.useMemo(()=>P0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(cR,{page:n,matches:r,...e}):null}function uR(n){let{manifest:e,routeModules:t}=U0(),[r,o]=F.useState([]);return F.useEffect(()=>{let a=!1;return ZA(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function cR({page:n,matches:e,...t}){let r=Qi(),{manifest:o,routeModules:a}=U0(),{loaderData:u,matches:h}=oR(),d=F.useMemo(()=>k_(n,e,h,o,r,"data"),[n,e,h,o,r]),m=F.useMemo(()=>k_(n,e,h,o,r,"assets"),[n,e,h,o,r]),_=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(x=>{var z;let L=o.routes[x.route.id];!L||!L.hasLoader||(!d.some(j=>j.route.id===x.route.id)&&x.route.id in u&&((z=a[x.route.id])!=null&&z.shouldRevalidate)||L.hasClientLoader?k=!0:S.add(x.route.id))}),S.size===0)return[];let D=iR(n);return k&&S.size>0&&D.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[D.pathname+D.search]},[u,r,o,d,e,n,a]),E=F.useMemo(()=>eR(m,o),[m,o]),T=uR(m);return F.createElement(F.Fragment,null,_.map(S=>F.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),E.map(S=>F.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),T.map(({key:S,link:k})=>F.createElement("link",{key:S,...k})))}function fR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$0&&(window.__reactRouterVersion="7.2.0")}catch{}function hR({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=XS({window:t,v5Compat:!0}));let o=r.current,[a,u]=F.useState({action:o.action,location:o.location}),h=F.useCallback(d=>{F.startTransition(()=>u(d))},[u]);return F.useLayoutEffect(()=>o.listen(h),[o,h]),F.createElement(jA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var j0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jp=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:d,to:m,preventScrollReset:_,viewTransition:E,...T},S){let{basename:k}=F.useContext(tr),D=typeof m=="string"&&j0.test(m),x,L=!1;if(typeof m=="string"&&D&&(x=m,$0))try{let C=new URL(window.location.href),V=m.startsWith("//")?new URL(C.protocol+m):new URL(m),P=zi(V.pathname,k);V.origin===C.origin&&P!=null?m=P+V.search+V.hash:L=!0}catch{Zn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=IA(m,{relative:o}),[j,Y,le]=aR(r,T),oe=gR(m,{replace:u,state:h,target:d,preventScrollReset:_,relative:o,viewTransition:E});function O(C){e&&e(C),C.defaultPrevented||oe(C)}let A=F.createElement("a",{...T,...le,href:x||z,onClick:L||a?e:O,ref:fR(S,Y),target:d,"data-discover":!D&&t==="render"?"true":void 0});return j&&!D?F.createElement(F.Fragment,null,A,F.createElement(lR,{page:z})):A});jp.displayName="Link";var dR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:d,...m},_){let E=jl(u,{relative:m.relative}),T=Qi(),S=F.useContext(_f),{navigator:k,basename:D}=F.useContext(tr),x=S!=null&&wR(E)&&h===!0,L=k.encodeLocation?k.encodeLocation(E).pathname:E.pathname,z=T.pathname,j=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),j=j?j.toLowerCase():null,L=L.toLowerCase()),j&&D&&(j=zi(j,D)||j);const Y=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let le=z===L||!o&&z.startsWith(L)&&z.charAt(Y)==="/",oe=j!=null&&(j===L||!o&&j.startsWith(L)&&j.charAt(L.length)==="/"),O={isActive:le,isPending:oe,isTransitioning:x},A=le?e:void 0,C;typeof r=="function"?C=r(O):C=[r,le?"active":null,oe?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(O):a;return F.createElement(jp,{...m,"aria-current":A,className:C,ref:_,style:V,to:u,viewTransition:h},typeof d=="function"?d(O):d)});dR.displayName="NavLink";var pR=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Nc,action:h,onSubmit:d,relative:m,preventScrollReset:_,viewTransition:E,...T},S)=>{let k=vR(),D=ER(h,{relative:m}),x=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&j0.test(h),z=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let Y=j.nativeEvent.submitter,le=(Y==null?void 0:Y.getAttribute("formmethod"))||u;k(Y||j.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:E})};return F.createElement("form",{ref:S,method:x,action:D,onSubmit:r?d:z,...T,"data-discover":!L&&n==="render"?"true":void 0})});pR.displayName="Form";function mR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z0(n){let e=F.useContext(aa);return nt(e,mR(n)),e}function gR(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=V0(),d=Qi(),m=jl(n,{relative:a});return F.useCallback(_=>{if(KA(_,e)){_.preventDefault();let E=t!==void 0?t:Sl(d)===Sl(m);h(n,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[d,h,m,t,r,e,n,o,a,u])}var yR=0,_R=()=>`__${String(++yR)}__`;function vR(){let{router:n}=z0("useSubmit"),{basename:e}=F.useContext(tr),t=VA();return F.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:d,body:m}=YA(r,e);if(o.navigate===!1){let _=o.fetcherKey||_R();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function ER(n,{relative:e}={}){let{basename:t}=F.useContext(tr),r=F.useContext(Dn);nt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...jl(n||".",{relative:e})},u=Qi();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(E=>E).forEach(E=>h.append("index",E));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Wr([t,a.pathname])),Sl(a)}function wR(n,e={}){let t=F.useContext(N0);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=z0("useViewTransitionState"),o=jl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=zi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=zi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Gc(o.pathname,u)!=null||Gc(o.pathname,a)!=null}new TextEncoder;const B0=({type:n,to:e,isSkeleton:t,isLoading:r=!1,isLoadingSkeleton:o=!1,isSpinnerSmall:a=!0,disabled:u,className:h,children:d,...m})=>{const _=QS(r),E=a?d:Z.jsxs("span",{className:jr.body,children:[_&&Z.jsx("span",{className:jr.spinner}),d]}),T=Qt(jr.button,h==null?void 0:h.button),S=u||r;return Z.jsxs("div",{className:Qt(jr.wrapper,h==null?void 0:h.wrapper,{[jr.wrapper_disabled]:S,[jr["wrapper_spinner-small"]]:a}),children:[Z.jsx(HS,{isLoading:o,children:t?Z.jsx(GS,{className:Qt(jr.skeleton,h==null?void 0:h.skeleton)}):Z.jsx(Z.Fragment,{children:e!==void 0?Z.jsx(jp,{to:e,className:T,...m,children:E}):Z.jsx("button",{type:n??"button",className:T,disabled:S,...m,children:E})})}),_&&a&&Z.jsx("span",{className:jr["spinner-wrapper"],children:Z.jsx("span",{className:jr.spinner})})]})},TR=({hiddenName:n,styleType:e="default",size:t="default",className:r,children:o,...a})=>Z.jsxs(B0,{...a,className:{wrapper:Qt(fl.wrapper,fl[`wrapper_${t}`],r),button:Qt(fl.button,fl[`button_${e}`]),skeleton:fl.skeleton},children:[Z.jsx("span",{className:"visually-hidden",children:n}),Z.jsx(VS,{children:o})]}),IR=()=>{const n=F.createContext(void 0);return[()=>{const r=F.useContext(n);if(!r)throw new Error("This component can only be called inside the parent component.");return r},({children:r,value:o})=>Z.jsx(n.Provider,{value:o,children:r})]},[SR,AR]=IR(),Ef=({role:n="dialog",styleModal:e="popup",isOpen:t,children:r,animation:o="fade",className:a,onClose:u,"aria-labelledby":h,"aria-describedby":d})=>Z.jsx(AR,{value:{onClose:u},children:Z.jsx(S0,{contentRef:m=>m==null?void 0:m.removeAttribute("aria-modal"),role:n,isOpen:t,onRequestClose:u,bodyOpenClassName:e!=="dialog"?on["body-open"]:null,shouldCloseOnOverlayClick:e!=="dialog",className:Qt(on.modal,a==null?void 0:a.modal),closeTimeoutMS:o==="fade"?200:600,overlayClassName:{base:Qt(on.root,on[`root_${e}`],on[`root_animation-${o}`],a==null?void 0:a.root),afterOpen:on[`root_after-open-${o}`],beforeClose:on[`root_before-close-${o}`]},aria:{labelledby:h,describedby:d},overlayElement:(m,_)=>Z.jsxs("div",{...m,children:[Z.jsx("div",{className:on.overlay}),Z.jsx("div",{className:on.container,children:_})]}),children:r})}),RR=({id:n,children:e})=>{const{onClose:t}=SR();return Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:on.close,children:Z.jsx(TR,{className:on.close,size:"large",hiddenName:"",onClick:t,children:"close"})}),Z.jsx("div",{id:n,className:Qt("h2",on.title),children:e})]})};Ef.Title=RR;const CR=({children:n})=>Z.jsx("div",{className:on.buttons,children:n});Ef.Buttons=CR;const kR=({className:n,children:e})=>Z.jsx("div",{className:Qt(on.description,n),children:e});Ef.Description=kR;const PR="_button_45jc2_1",bR="_button_medium_45jc2_26",xR="_button_small_45jc2_29",OR="_button_border_45jc2_35",NR="_button_delete_45jc2_58",DR="_wrapper_45jc2_81",LR="_wrapper_small_45jc2_86",VR="_wrapper_medium_45jc2_90",MR="_wrapper_full_45jc2_93",FR="_skeleton_45jc2_102",UR="_skeleton_full_45jc2_106",ks={button:PR,button_medium:bR,button_small:xR,button_border:OR,button_delete:NR,wrapper:DR,wrapper_small:LR,wrapper_medium:VR,wrapper_full:MR,skeleton:FR,skeleton_full:UR},q0=({size:n="default",styleType:e="default",children:t,isFull:r,className:o,...a})=>Z.jsx(B0,{isSpinnerSmall:n==="small",className:{wrapper:Qt(ks.wrapper,ks[`wrapper_${n}`],o,{[ks.wrapper_full]:r}),button:Qt(ks.button,ks[`button_${n}`],ks[`button_${e}`]),skeleton:Qt(ks.skeleton)},...a,children:t});var Md,P_;function $R(){if(P_)return Md;P_=1;function n(L){this._maxSize=L,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(L){return this._values[L]},n.prototype.set=function(L,z){return this._size>=this._maxSize&&this.clear(),L in this._values||this._size++,this._values[L]=z};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,r=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,h=new n(u),d=new n(u),m=new n(u);Md={Cache:n,split:E,normalizePath:_,setter:function(L){var z=_(L);return d.get(L)||d.set(L,function(Y,le){for(var oe=0,O=z.length,A=Y;oe<O-1;){var C=z[oe];if(C==="__proto__"||C==="constructor"||C==="prototype")return Y;A=A[z[oe++]]}A[z[oe]]=le})},getter:function(L,z){var j=_(L);return m.get(L)||m.set(L,function(le){for(var oe=0,O=j.length;oe<O;)if(le!=null||!z)le=le[j[oe++]];else return;return le})},join:function(L){return L.reduce(function(z,j){return z+(S(j)||t.test(j)?"["+j+"]":(z?".":"")+j)},"")},forEach:function(L,z,j){T(Array.isArray(L)?L:E(L),z,j)}};function _(L){return h.get(L)||h.set(L,E(L).map(function(z){return z.replace(a,"$2")}))}function E(L){return L.match(e)||[""]}function T(L,z,j){var Y=L.length,le,oe,O,A;for(oe=0;oe<Y;oe++)le=L[oe],le&&(x(le)&&(le='"'+le+'"'),A=S(le),O=!A&&/^\d+$/.test(le),z.call(j,le,A,O,oe,L))}function S(L){return typeof L=="string"&&L&&["'",'"'].indexOf(L.charAt(0))!==-1}function k(L){return L.match(r)&&!L.match(t)}function D(L){return o.test(L)}function x(L){return!S(L)&&(k(L)||D(L))}return Md}var xs=$R(),Fd,b_;function jR(){if(b_)return Fd;b_=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=_=>_.match(n)||[],t=_=>_[0].toUpperCase()+_.slice(1),r=(_,E)=>e(_).join(E).toLowerCase(),o=_=>e(_).reduce((E,T)=>`${E}${E?T[0].toUpperCase()+T.slice(1).toLowerCase():T.toLowerCase()}`,"");return Fd={words:e,upperFirst:t,camelCase:o,pascalCase:_=>t(o(_)),snakeCase:_=>r(_,"_"),kebabCase:_=>r(_,"-"),sentenceCase:_=>t(r(_," ")),titleCase:_=>e(_).map(t).join(" ")},Fd}var Ud=jR(),Sc={exports:{}},x_;function zR(){if(x_)return Sc.exports;x_=1,Sc.exports=function(o){return n(e(o),o)},Sc.exports.array=n;function n(o,a){var u=o.length,h=new Array(u),d={},m=u,_=t(a),E=r(o);for(a.forEach(function(S){if(!E.has(S[0])||!E.has(S[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});m--;)d[m]||T(o[m],m,new Set);return h;function T(S,k,D){if(D.has(S)){var x;try{x=", node was:"+JSON.stringify(S)}catch{x=""}throw new Error("Cyclic dependency"+x)}if(!E.has(S))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(S));if(!d[k]){d[k]=!0;var L=_.get(S)||new Set;if(L=Array.from(L),k=L.length){D.add(S);do{var z=L[--k];T(z,E.get(z),D)}while(k);D.delete(S)}h[--u]=S}}}function e(o){for(var a=new Set,u=0,h=o.length;u<h;u++){var d=o[u];a.add(d[0]),a.add(d[1])}return Array.from(a)}function t(o){for(var a=new Map,u=0,h=o.length;u<h;u++){var d=o[u];a.has(d[0])||a.set(d[0],new Set),a.has(d[1])||a.set(d[1],new Set),a.get(d[0]).add(d[1])}return a}function r(o){for(var a=new Map,u=0,h=o.length;u<h;u++)a.set(o[u],u);return a}return Sc.exports}var BR=zR();const qR=Fl(BR),HR=Object.prototype.toString,WR=Error.prototype.toString,KR=RegExp.prototype.toString,GR=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",QR=/^Symbol\((.*)\)(.*)$/;function YR(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function O_(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return YR(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return GR.call(n).replace(QR,"Symbol($1)");const r=HR.call(n).slice(8,-1);return r==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):r==="Error"||n instanceof Error?"["+WR.call(n)+"]":r==="RegExp"?KR.call(n):null}function Kr(n,e){let t=O_(n,e);return t!==null?t:JSON.stringify(n,function(r,o){let a=O_(this[r],e);return a!==null?a:o},2)}function H0(n){return n==null?[]:[].concat(n)}let W0,K0,G0,XR=/\$\{\s*(\w+)\s*\}/g;W0=Symbol.toStringTag;class N_{constructor(e,t,r,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[W0]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=o,this.errors=[],this.inner=[],H0(e).forEach(a=>{if(ln.isError(a)){this.errors.push(...a.errors);const u=a.inner.length?a.inner:[a];this.inner.push(...u)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}K0=Symbol.hasInstance;G0=Symbol.toStringTag;class ln extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),typeof e=="string"?e.replace(XR,(o,a)=>Kr(t[a])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,o,a){const u=new N_(e,t,r,o);if(a)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[G0]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ln)}static[K0](e){return N_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let pr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:r})=>{const o=r!=null&&r!==t?` (cast from the value \`${Kr(r,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Kr(t,!0)}\``+o:`${n} must match the configured type. The validated value was: \`${Kr(t,!0)}\``+o}},sn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},bi={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},tp={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},np={isValue:"${path} field must be ${value}"},Lc={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Vc={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},JR={notType:n=>{const{path:e,value:t,spec:r}=n,o=r.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${Kr(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${Kr(t,!0)}\``}return ln.formatError(pr.notType,n)}};var ZR=Object.assign(Object.create(null),{mixed:pr,string:sn,number:bi,date:tp,object:Lc,array:Vc,boolean:np,tuple:JR});const wf=n=>n&&n.__isYupSchema__;class Qc{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:o,otherwise:a}=t,u=typeof r=="function"?r:(...h)=>h.every(d=>d===r);return new Qc(e,(h,d)=>{var m;let _=u(...h)?o:a;return(m=_==null?void 0:_(d))!=null?m:d})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(a=>a.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(r,e,t);if(o===void 0||o===e)return e;if(!wf(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const Ac={context:"$",value:"."};function ND(n,e){return new Yi(n,e)}class Yi{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ac.context,this.isValue=this.key[0]===Ac.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Ac.context:this.isValue?Ac.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&xs.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let o=this.isContext?r:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Yi.prototype.__isYupRef=!0;const Xn=n=>n==null;function Mo(n){function e({value:t,path:r="",options:o,originalValue:a,schema:u},h,d){const{name:m,test:_,params:E,message:T,skipAbsent:S}=n;let{parent:k,context:D,abortEarly:x=u.spec.abortEarly,disableStackTrace:L=u.spec.disableStackTrace}=o;function z(P){return Yi.isRef(P)?P.getValue(t,k,D):P}function j(P={}){const N=Object.assign({value:t,originalValue:a,label:u.spec.label,path:P.path||r,spec:u.spec,disableStackTrace:P.disableStackTrace||L},E,P.params);for(const re of Object.keys(N))N[re]=z(N[re]);const R=new ln(ln.formatError(P.message||T,N),t,N.path,P.type||m,N.disableStackTrace);return R.params=N,R}const Y=x?h:d;let le={path:r,parent:k,type:m,from:o.from,createError:j,resolve:z,options:o,originalValue:a,schema:u};const oe=P=>{ln.isError(P)?Y(P):P?d(null):Y(j())},O=P=>{ln.isError(P)?Y(P):h(P)};if(S&&Xn(t))return oe(!0);let C;try{var V;if(C=_.call(le,t,le),typeof((V=C)==null?void 0:V.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${le.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(oe,O)}}catch(P){O(P);return}oe(C)}return e.OPTIONS=n,e}function eC(n,e,t,r=t){let o,a,u;return e?(xs.forEach(e,(h,d,m)=>{let _=d?h.slice(1,h.length-1):h;n=n.resolve({context:r,parent:o,value:t});let E=n.type==="tuple",T=m?parseInt(_,10):0;if(n.innerType||E){if(E&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(t&&T>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${h}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[T],n=E?n.spec.types[T]:n.innerType}if(!m){if(!n.fields||!n.fields[_])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${n.type}")`);o=t,t=t&&t[_],n=n.fields[_]}a=_,u=d?"["+h+"]":"."+h}),{schema:n,parent:o,parentPath:a}):{parent:o,parentPath:e,schema:n}}class Yc extends Set{describe(){const e=[];for(const t of this.values())e.push(Yi.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new Yc(this.values())}merge(e,t){const r=this.clone();return e.forEach(o=>r.add(o)),t.forEach(o=>r.delete(o)),r}}function zo(n,e=new Map){if(wf(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let r=0;r<n.length;r++)t[r]=zo(n[r],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[r,o]of n.entries())t.set(r,zo(o,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const r of n)t.add(zo(r,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[r,o]of Object.entries(n))t[r]=zo(o,e)}else throw Error(`Unable to clone ${n}`);return t}class vn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Yc,this._blacklist=new Yc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(pr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=zo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const o=Object.assign({},t.spec,r.spec);return r.spec=o,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(a=>{e.tests.forEach(u=>{a.test(u.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((o,a)=>a.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,o,a;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",a=r._cast(e,t);if(t.assert!==!1&&!r.isType(a)){if(o&&Xn(a))return a;let u=Kr(e),h=Kr(a);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${u} 
`+(h!==u?`result of cast: ${h}`:""))}return a}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((o,a)=>a.call(this,o,e,this),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,o){let{path:a,originalValue:u=e,strict:h=this.spec.strict}=t,d=e;h||(d=this._cast(d,Object.assign({assert:!1},t)));let m=[];for(let _ of Object.values(this.internalTests))_&&m.push(_);this.runTests({path:a,value:d,originalValue:u,options:t,tests:m},r,_=>{if(_.length)return o(_,d);this.runTests({path:a,value:d,originalValue:u,options:t,tests:this.tests},r,o)})}runTests(e,t,r){let o=!1,{tests:a,value:u,originalValue:h,path:d,options:m}=e,_=D=>{o||(o=!0,t(D,u))},E=D=>{o||(o=!0,r(D,u))},T=a.length,S=[];if(!T)return E([]);let k={value:u,originalValue:h,path:d,options:m,schema:this};for(let D=0;D<a.length;D++){const x=a[D];x(k,_,function(z){z&&(Array.isArray(z)?S.push(...z):S.push(z)),--T<=0&&E(S)})}}asNestedTest({key:e,index:t,parent:r,parentPath:o,originalParent:a,options:u}){const h=e??t;if(h==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof h=="number";let m=r[h];const _=Object.assign({},u,{strict:!0,parent:r,value:m,originalValue:a[h],key:void 0,[d?"index":"key"]:h,path:d||h.includes(".")?`${o||""}[${d?h:`"${h}"`}]`:(o?`${o}.`:"")+e});return(E,T,S)=>this.resolve(_)._validate(m,_,T,S)}validate(e,t){var r;let o=this.resolve(Object.assign({},t,{value:e})),a=(r=t==null?void 0:t.disableStackTrace)!=null?r:o.spec.disableStackTrace;return new Promise((u,h)=>o._validate(e,t,(d,m)=>{ln.isError(d)&&(d.value=m),h(d)},(d,m)=>{d.length?h(new ln(d,m,void 0,void 0,a)):u(m)}))}validateSync(e,t){var r;let o=this.resolve(Object.assign({},t,{value:e})),a,u=(r=t==null?void 0:t.disableStackTrace)!=null?r:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(h,d)=>{throw ln.isError(h)&&(h.value=d),h},(h,d)=>{if(h.length)throw new ln(h,e,void 0,void 0,u);a=d}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(ln.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(ln.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):zo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=Mo({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=Mo({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=pr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=pr.notNull){return this.nullability(!1,e)}required(e=pr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=pr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),o=Mo(t),a=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(u=>!(u.OPTIONS.name===t.name&&(a||u.OPTIONS.test===o.OPTIONS.test))),r.tests.push(o),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),o=H0(e).map(a=>new Yi(a));return o.forEach(a=>{a.isSibling&&r.deps.push(a.key)}),r.conditions.push(typeof t=="function"?new Qc(o,t):Qc.fromOptions(o,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=Mo({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=pr.oneOf){let r=this.clone();return e.forEach(o=>{r._whitelist.add(o),r._blacklist.delete(o)}),r.internalTests.whiteList=Mo({message:t,name:"oneOf",skipAbsent:!0,test(o){let a=this.schema._whitelist,u=a.resolveAll(this.resolve);return u.includes(o)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:u}})}}),r}notOneOf(e,t=pr.notOneOf){let r=this.clone();return e.forEach(o=>{r._blacklist.add(o),r._whitelist.delete(o)}),r.internalTests.blacklist=Mo({message:t,name:"notOneOf",test(o){let a=this.schema._blacklist,u=a.resolveAll(this.resolve);return u.includes(o)?this.createError({params:{values:Array.from(a).join(", "),resolved:u}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:o,optional:a,nullable:u}=t.spec;return{meta:o,label:r,optional:a,nullable:u,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(d=>({name:d.OPTIONS.name,params:d.OPTIONS.params})).filter((d,m,_)=>_.findIndex(E=>E.name===d.name)===m)}}}vn.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])vn.prototype[`${n}At`]=function(e,t,r={}){const{parent:o,parentPath:a,schema:u}=eC(this,e,t,r.context);return u[n](o&&o[a],Object.assign({},r,{parent:o,path:e}))};for(const n of["equals","is"])vn.prototype[n]=vn.prototype.oneOf;for(const n of["not","nope"])vn.prototype[n]=vn.prototype.notOneOf;function Q0(){return new Y0}class Y0 extends vn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=np.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return Xn(t)||t===!0}})}isFalse(e=np.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return Xn(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Q0.prototype=Y0.prototype;const tC=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function nC(n){const e=rp(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function rp(n){var e,t;const r=tC.exec(n);return r?{year:zr(r[1]),month:zr(r[2],1)-1,day:zr(r[3],1),hour:zr(r[4]),minute:zr(r[5]),second:zr(r[6]),millisecond:r[7]?zr(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:zr(r[10]),minuteOffset:zr(r[11])}:null}function zr(n,e=0){return Number(n)||e}let rC=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,iC=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,sC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oC="^\\d{4}-\\d{2}-\\d{2}",aC="\\d{2}:\\d{2}:\\d{2}",lC="(([+-]\\d{2}(:?\\d{2})?)|Z)",uC=new RegExp(`${oC}T${aC}(\\.\\d+)?${lC}$`),cC=n=>Xn(n)||n===n.trim(),fC={}.toString();function hC(){return new X0}class X0 extends vn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===fC?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||pr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=sn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=sn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=sn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,o,a;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:o,name:a}=t:o=t),this.test({name:a||"matches",message:o||sn.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&r||u.search(e)!==-1})}email(e=sn.email){return this.matches(rC,{name:"email",message:e,excludeEmptyString:!0})}url(e=sn.url){return this.matches(iC,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=sn.uuid){return this.matches(sC,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,o;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:o=void 0}=e:t=e),this.matches(uC,{name:"datetime",message:t||sn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||sn.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:a=>{if(!a||r)return!0;const u=rp(a);return u?!!u.z:!1}}).test({name:"datetime_precision",message:t||sn.datetime_precision,params:{precision:o},skipAbsent:!0,test:a=>{if(!a||o==null)return!0;const u=rp(a);return u?u.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=sn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:cC})}lowercase(e=sn.lowercase){return this.transform(t=>Xn(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Xn(t)||t===t.toLowerCase()})}uppercase(e=sn.uppercase){return this.transform(t=>Xn(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Xn(t)||t===t.toUpperCase()})}}hC.prototype=X0.prototype;let dC=n=>n!=+n;function pC(){return new J0}class J0 extends vn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!dC(e)}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce)return e;let o=e;if(typeof o=="string"){if(o=o.replace(/\s/g,""),o==="")return NaN;o=+o}return r.isType(o)||o===null?o:parseFloat(o)})})}min(e,t=bi.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,t=bi.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,t=bi.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,t=bi.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=bi.positive){return this.moreThan(0,e)}negative(e=bi.negative){return this.lessThan(0,e)}integer(e=bi.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>Xn(e)?e:e|0)}round(e){var t;let r=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(o=>Xn(o)?o:Math[e](o))}}pC.prototype=J0.prototype;let Z0=new Date(""),mC=n=>Object.prototype.toString.call(n)==="[object Date]";function zp(){return new zl}class zl extends vn{constructor(){super({type:"date",check(e){return mC(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=nC(e),isNaN(e)?zl.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(Yi.isRef(e))r=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=o}return r}min(e,t=tp.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(r)}})}max(e,t=tp.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(r)}})}}zl.INVALID_DATE=Z0;zp.prototype=zl.prototype;zp.INVALID_DATE=Z0;function gC(n,e=[]){let t=[],r=new Set,o=new Set(e.map(([u,h])=>`${u}-${h}`));function a(u,h){let d=xs.split(u)[0];r.add(d),o.has(`${h}-${d}`)||t.push([h,d])}for(const u of Object.keys(n)){let h=n[u];r.add(u),Yi.isRef(h)&&h.isSibling?a(h.path,u):wf(h)&&"deps"in h&&h.deps.forEach(d=>a(d,u))}return qR.array(Array.from(r),t).reverse()}function D_(n,e){let t=1/0;return n.some((r,o)=>{var a;if((a=e.path)!=null&&a.includes(r))return t=o,!0}),t}function eE(n){return(e,t)=>D_(n,e)-D_(n,t)}const tE=(n,e,t)=>{if(typeof n!="string")return n;let r=n;try{r=JSON.parse(n)}catch{}return t.isType(r)?r:n};function Mc(n){if("fields"in n){const e={};for(const[t,r]of Object.entries(n.fields))e[t]=Mc(r);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Mc(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Mc)}):"optional"in n?n.optional():n}const yC=(n,e)=>{const t=[...xs.normalizePath(e)];if(t.length===1)return t[0]in n;let r=t.pop(),o=xs.getter(xs.join(t),!0)(n);return!!(o&&r in o)};let L_=n=>Object.prototype.toString.call(n)==="[object Object]";function V_(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const _C=eE([]);function nE(n){return new rE(n)}class rE extends vn{constructor(e){super({type:"object",check(t){return L_(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=_C,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let a=this.fields,u=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,h=[].concat(this._nodes,Object.keys(o).filter(E=>!this._nodes.includes(E))),d={},m=Object.assign({},t,{parent:d,__validating:t.__validating||!1}),_=!1;for(const E of h){let T=a[E],S=E in o;if(T){let k,D=o[E];m.path=(t.path?`${t.path}.`:"")+E,T=T.resolve({value:D,context:t.context,parent:d});let x=T instanceof vn?T.spec:void 0,L=x==null?void 0:x.strict;if(x!=null&&x.strip){_=_||E in o;continue}k=!t.__validating||!L?T.cast(o[E],m):o[E],k!==void 0&&(d[E]=k)}else S&&!u&&(d[E]=o[E]);(S!==E in d||d[E]!==o[E])&&(_=!0)}return _?d:o}_validate(e,t={},r,o){let{from:a=[],originalValue:u=e,recursive:h=this.spec.recursive}=t;t.from=[{schema:this,value:u},...a],t.__validating=!0,t.originalValue=u,super._validate(e,t,r,(d,m)=>{if(!h||!L_(m)){o(d,m);return}u=u||m;let _=[];for(let E of this._nodes){let T=this.fields[E];!T||Yi.isRef(T)||_.push(T.asNestedTest({options:t,key:E,parent:m,parentPath:t.path,originalParent:u}))}this.runTests({tests:_,value:m,originalValue:u,options:t},r,E=>{o(E.sort(this._sortErrors).concat(d),m)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[o,a]of Object.entries(this.fields)){const u=r[o];r[o]=u===void 0?a:u}return t.withMutation(o=>o.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var o;const a=this.fields[r];let u=e;(o=u)!=null&&o.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[r]})),t[r]=a&&"getDefault"in a?a.getDefault(u):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=gC(e,t),r._sortErrors=eE(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let o=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),o)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Mc(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,o])=>e.includes(r)&&e.includes(o)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let o=xs.getter(e,!0);return this.transform(a=>{if(!a)return a;let u=a;return yC(a,e)&&(u=Object.assign({},a),r||delete u[e],u[t]=o(a)),u})}json(){return this.transform(tE)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Lc.exact,test(t){if(t==null)return!0;const r=V_(this.schema,t);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Lc.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const a=V_(this.schema,o);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=Lc.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const o of Object.keys(t))r[e(o)]=t[o];return r})}camelCase(){return this.transformKeys(Ud.camelCase)}snakeCase(){return this.transformKeys(Ud.snakeCase)}constantCase(){return this.transformKeys(e=>Ud.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[a,u]of Object.entries(t.fields)){var o;let h=e;(o=h)!=null&&o.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[a]})),r.fields[a]=u.describe(h)}return r}}nE.prototype=rE.prototype;function vC(n){return new iE(n)}class iE extends vn{constructor(e){super({type:"array",spec:{types:e},check(t){return Array.isArray(t)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let o=!1;const a=r.map((u,h)=>{const d=this.innerType.cast(u,Object.assign({},t,{path:`${t.path||""}[${h}]`}));return d!==u&&(o=!0),d});return o?a:r}_validate(e,t={},r,o){var a;let u=this.innerType,h=(a=t.recursive)!=null?a:this.spec.recursive;t.originalValue!=null&&t.originalValue,super._validate(e,t,r,(d,m)=>{var _;if(!h||!u||!this._typeCheck(m)){o(d,m);return}let E=new Array(m.length);for(let S=0;S<m.length;S++){var T;E[S]=u.asNestedTest({options:t,index:S,parent:m,parentPath:t.path,originalParent:(T=t.originalValue)!=null?T:e})}this.runTests({value:m,tests:E,originalValue:(_=t.originalValue)!=null?_:e,options:t},r,S=>o(S.concat(d),m))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(tE)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!wf(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Kr(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=Vc.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t){return t=t||Vc.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t){return t=t||Vc.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:t==null?[]:[].concat(t))}compact(e){let t=e?(r,o,a)=>!e(r,o,a):r=>!!r;return this.transform(r=>r!=null?r.filter(t):r)}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);if(t.innerType){var o;let a=e;(o=a)!=null&&o.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[0]})),r.innerType=t.innerType.describe(a)}return r}}vC.prototype=iE.prototype;function EC(n){Object.keys(n).forEach(e=>{Object.keys(n[e]).forEach(t=>{ZR[e][t]=n[e][t]})})}const wC=nE({accept:Q0().required(),end:zp().required()}),TC=()=>{const n=new Date;n.setDate(n.getDate()+14);const e={accept:!0,end:n};localStorage.setItem("cookie-accept",JSON.stringify(e))},IC=async()=>{const n=localStorage.getItem("cookie-accept");if(!n)return!1;try{const e=JSON.parse(n),t=await wC.validate(e),r=new Date,o=new Date(t.end);return t.accept&&r<o}catch(e){return console.error(e),console.error('The "cookie-accept" parameter of the local storage has been cleared'),localStorage.removeItem("cookie-accept"),!1}},SC=()=>{const[n,e]=F.useState(!1);F.useEffect(()=>{(async()=>await IC()||e(!0))()},[]);const t=()=>{e(!1),TC()},r=F.useId();return Z.jsxs(Ef,{role:"alertdialog",styleModal:"dialog","aria-labelledby":r,isOpen:n,onClose:t,className:{root:Ad.root},children:[Z.jsx("h2",{id:r,className:Qt("h2",Ad.title),children:"Cookie"}),Z.jsxs("div",{className:Ad.body,children:[Z.jsx("div",{children:"    "}),Z.jsx(q0,{size:"medium",onClick:t,children:""})]})]})},AC=()=>Z.jsxs(Z.Fragment,{children:[Z.jsx("main",{children:Z.jsx($A,{})}),Z.jsx(SC,{})]});var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},RC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,d=o+2<n.length,m=d?n[o+2]:0,_=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|m>>6,S=m&63;d||(S=64,u||(T=64)),r.push(t[_],t[E],t[T],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||E==null)throw new CC;const T=a<<2|h>>4;if(r.push(T),m!==64){const S=h<<4&240|m>>2;if(r.push(S),E!==64){const k=m<<6&192|E;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kC=function(n){const e=sE(n);return oE.encodeByteArray(e,!0)},Xc=function(n){return kC(n).replace(/\./g,"")},aE=function(n){try{return oE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=()=>PC().__FIREBASE_DEFAULTS__,xC=()=>{if(typeof process>"u"||typeof M_>"u")return;const n=M_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&aE(n[1]);return e&&JSON.parse(e)},Tf=()=>{try{return bC()||xC()||OC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lE=n=>{var e,t;return(t=(e=Tf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NC=n=>{const e=lE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},uE=()=>{var n;return(n=Tf())===null||n===void 0?void 0:n.config},cE=n=>{var e;return(e=Tf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xc(JSON.stringify(t)),Xc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function MC(){var n;const e=(n=Tf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jC(){const n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zC(){return!MC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BC(){try{return typeof indexedDB=="object"}catch{return!1}}function qC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="FirebaseError";class ei extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=HC,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?WC(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new ei(o,h,r)}}function WC(n,e){return n.replace(KC,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const KC=/\{\$([^}]+)}/g;function GC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(F_(a)&&F_(u)){if(!Jc(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function F_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function ml(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function QC(n,e){const t=new YC(n,e);return t.subscribe.bind(t)}class YC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=$d),o.error===void 0&&(o.error=$d),o.complete===void 0&&(o.complete=$d);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class Ds{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new DC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e1(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZC(n){return n===Ps?void 0:n}function e1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const n1={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},r1=Ne.INFO,i1={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},s1=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=i1[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bp{constructor(e){this.name=e,this._logLevel=r1,this._logHandler=s1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const o1=(n,e)=>e.some(t=>n instanceof t);let U_,$_;function a1(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l1(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,ip=new WeakMap,hE=new WeakMap,jd=new WeakMap,qp=new WeakMap;function u1(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Vi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&fE.set(t,n)}).catch(()=>{}),qp.set(e,n),e}function c1(n){if(ip.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ip.set(n,e)}let sp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ip.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function f1(n){sp=n(sp)}function h1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(zd(this),e,...t);return hE.set(r,e.sort?e.sort():[e]),Vi(r)}:l1().includes(n)?function(...e){return n.apply(zd(this),e),Vi(fE.get(this))}:function(...e){return Vi(n.apply(zd(this),e))}}function d1(n){return typeof n=="function"?h1(n):(n instanceof IDBTransaction&&c1(n),o1(n,a1())?new Proxy(n,sp):n)}function Vi(n){if(n instanceof IDBRequest)return u1(n);if(jd.has(n))return jd.get(n);const e=d1(n);return e!==n&&(jd.set(n,e),qp.set(e,n)),e}const zd=n=>qp.get(n);function p1(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=Vi(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Vi(u.result),d.oldVersion,d.newVersion,Vi(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const m1=["get","getKey","getAll","getAllKeys","count"],g1=["put","add","delete","clear"],Bd=new Map;function j_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=g1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||m1.includes(t)))return;const a=async function(u,...h){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&d.done]))[0]};return Bd.set(e,a),a}f1(n=>({...n,get:(e,t,r)=>j_(e,t)||n.get(e,t,r),has:(e,t)=>!!j_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_1(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function _1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",z_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Bp("@firebase/app"),v1="@firebase/app-compat",E1="@firebase/analytics-compat",w1="@firebase/analytics",T1="@firebase/app-check-compat",I1="@firebase/app-check",S1="@firebase/auth",A1="@firebase/auth-compat",R1="@firebase/database",C1="@firebase/data-connect",k1="@firebase/database-compat",P1="@firebase/functions",b1="@firebase/functions-compat",x1="@firebase/installations",O1="@firebase/installations-compat",N1="@firebase/messaging",D1="@firebase/messaging-compat",L1="@firebase/performance",V1="@firebase/performance-compat",M1="@firebase/remote-config",F1="@firebase/remote-config-compat",U1="@firebase/storage",$1="@firebase/storage-compat",j1="@firebase/firestore",z1="@firebase/vertexai",B1="@firebase/firestore-compat",q1="firebase",H1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",W1={[op]:"fire-core",[v1]:"fire-core-compat",[w1]:"fire-analytics",[E1]:"fire-analytics-compat",[I1]:"fire-app-check",[T1]:"fire-app-check-compat",[S1]:"fire-auth",[A1]:"fire-auth-compat",[R1]:"fire-rtdb",[C1]:"fire-data-connect",[k1]:"fire-rtdb-compat",[P1]:"fire-fn",[b1]:"fire-fn-compat",[x1]:"fire-iid",[O1]:"fire-iid-compat",[N1]:"fire-fcm",[D1]:"fire-fcm-compat",[L1]:"fire-perf",[V1]:"fire-perf-compat",[M1]:"fire-rc",[F1]:"fire-rc-compat",[U1]:"fire-gcs",[$1]:"fire-gcs-compat",[j1]:"fire-fst",[B1]:"fire-fst-compat",[z1]:"fire-vertex","fire-js":"fire-js",[q1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,K1=new Map,lp=new Map;function B_(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yo(n){const e=n.name;if(lp.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,n);for(const t of Zc.values())B_(t,n);for(const t of K1.values())B_(t,n);return!0}function Hp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function On(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new Bl("app","Firebase",G1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=H1;function dE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ap,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(t||(t=uE()),!t)throw Mi.create("no-options");const a=Zc.get(o);if(a){if(Jc(t,a.options)&&Jc(r,a.config))return a;throw Mi.create("duplicate-app",{appName:o})}const u=new t1(o);for(const d of lp.values())u.addComponent(d);const h=new Q1(t,r,u);return Zc.set(o,h),h}function pE(n=ap){const e=Zc.get(n);if(!e&&n===ap&&uE())return dE();if(!e)throw Mi.create("no-app",{appName:n});return e}function Fi(n,e,t){var r;let o=(r=W1[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(h.join(" "));return}Yo(new Ds(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebase-heartbeat-database",X1=1,Al="firebase-heartbeat-store";let qd=null;function mE(){return qd||(qd=p1(Y1,X1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Al)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),qd}async function J1(n){try{const t=(await mE()).transaction(Al),r=await t.objectStore(Al).get(gE(n));return await t.done,r}catch(e){if(e instanceof ei)Qr.warn(e.message);else{const t=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(t.message)}}}async function q_(n,e){try{const r=(await mE()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,gE(n)),await r.done}catch(t){if(t instanceof ei)Qr.warn(t.message);else{const r=Mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qr.warn(r.message)}}}function gE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1024,ek=30;class tk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>ek){const u=ik(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:r,unsentEntries:o}=nk(this._heartbeatsCache.heartbeats),a=Xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Qr.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function nk(n,e=Z1){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),W_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),W_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class rk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BC()?qC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await J1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return q_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return q_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W_(n){return Xc(JSON.stringify({version:2,heartbeats:n})).length}function ik(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n){Yo(new Ds("platform-logger",e=>new y1(e),"PRIVATE")),Yo(new Ds("heartbeat",e=>new tk(e),"PRIVATE")),Fi(op,z_,n),Fi(op,z_,"esm2017"),Fi("fire-js","")}sk("");function Wp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function yE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ok=yE,_E=new Bl("auth","Firebase",yE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Bp("@firebase/auth");function ak(n,...e){ef.logLevel<=Ne.WARN&&ef.warn(`Auth (${ua}): ${n}`,...e)}function Fc(n,...e){ef.logLevel<=Ne.ERROR&&ef.error(`Auth (${ua}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n,...e){throw Kp(n,...e)}function gr(n,...e){return Kp(n,...e)}function vE(n,e,t){const r=Object.assign(Object.assign({},ok()),{[e]:t});return new Bl("auth","Firebase",r).create(e,{appName:n.name})}function Gr(n){return vE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _E.create(n,...e)}function Ee(n,e,...t){if(!n)throw Kp(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function Yr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function lk(){return K_()==="http:"||K_()==="https:"}function K_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lk()||UC()||"connection"in navigator)?navigator.onLine:!0}function ck(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=VC()||$C()}get(){return uk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n,e){Yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Hl(3e4,6e4);function wr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Tr(n,e,t,r,o={}){return wE(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=ql(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:d},a);return FC()||(m.referrerPolicy="no-referrer"),EE.fetch()(TE(n,n.config.apiHost,t,h),m)})}async function wE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},fk),e);try{const o=new pk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Rc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Rc(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Rc(n,"user-disabled",u);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw vE(n,_,m);Nn(n,_)}}catch(o){if(o instanceof ei)throw o;Nn(n,"network-request-failed",{message:String(o)})}}async function Wl(n,e,t,r,o={}){const a=await Tr(n,e,t,r,o);return"mfaPendingCredential"in a&&Nn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function TE(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?Gp(n.config,o):`${n.config.apiScheme}://${o}`}function dk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),hk.get())})}}function Rc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=gr(n,e,r);return o.customData._tokenResponse=t,o}function G_(n){return n!==void 0&&n.enterprise!==void 0}class mk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gk(n,e){return Tr(n,"GET","/v2/recaptchaConfig",wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(n,e){return Tr(n,"POST","/v1/accounts:delete",e)}async function IE(n,e){return Tr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _k(n,e=!1){const t=ct(n),r=await t.getIdToken(e),o=Qp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:El(Hd(o.auth_time)),issuedAtTime:El(Hd(o.iat)),expirationTime:El(Hd(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Hd(n){return Number(n)*1e3}function Qp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=aE(t);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Q_(n){const e=Qp(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ei&&vk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function vk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Rl(n,IE(t,{idToken:r}));Ee(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?SE(a.providerUserInfo):[],h=Tk(n.providerData,u),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=d?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new cp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function wk(n){const e=ct(n);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function SE(n){return n.map(e=>{var{providerId:t}=e,r=Wp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(n,e){const t=await wE(n,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=TE(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",EE.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Sk(n,e){return Tr(n,"POST","/v2/accounts:revokeToken",wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Q_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Ik(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Ho;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _k(this,e)}reload(){return wk(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Rl(this,yk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,h,d,m,_;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:j,emailVerified:Y,isAnonymous:le,providerData:oe,stsTokenManager:O}=t;Ee(j&&O,e,"internal-error");const A=Ho.fromJSON(this.name,O);Ee(typeof j=="string",e,"internal-error"),Pi(E,e.name),Pi(T,e.name),Ee(typeof Y=="boolean",e,"internal-error"),Ee(typeof le=="boolean",e,"internal-error"),Pi(S,e.name),Pi(k,e.name),Pi(D,e.name),Pi(x,e.name),Pi(L,e.name),Pi(z,e.name);const C=new qr({uid:j,auth:e,email:T,emailVerified:Y,displayName:E,isAnonymous:le,photoURL:k,phoneNumber:S,tenantId:D,stsTokenManager:A,createdAt:L,lastLoginAt:z});return oe&&Array.isArray(oe)&&(C.providerData=oe.map(V=>Object.assign({},V))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ho;o.updateFromServerResponse(t);const a=new qr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await tf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?SE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new Ho;h.updateFromIdToken(r);const d=new qr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;function Hr(n){Yr(n instanceof Function,"Expected a class definition");let e=Y_.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Y_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AE.type="NONE";const X_=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Wo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Uc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wo(Hr(X_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Hr(X_);const u=Uc(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const _=await m._get(u);if(_){const E=qr._fromJSON(e,_);m!==a&&(h=E),a=m;break}}catch{}const d=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Wo(a,e,r):(a=d[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Wo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(OE(e))return"Webos";if(CE(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(bE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RE(n=Bt()){return/firefox\//i.test(n)}function CE(n=Bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(n=Bt()){return/crios\//i.test(n)}function PE(n=Bt()){return/iemobile/i.test(n)}function bE(n=Bt()){return/android/i.test(n)}function xE(n=Bt()){return/blackberry/i.test(n)}function OE(n=Bt()){return/webos/i.test(n)}function Yp(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ak(n=Bt()){var e;return Yp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Rk(){return jC()&&document.documentMode===10}function NE(n=Bt()){return Yp(n)||bE(n)||OE(n)||xE(n)||/windows phone/i.test(n)||PE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e=[]){let t;switch(n){case"Browser":t=J_(Bt());break;case"Worker":t=`${J_(Bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const d=e(a);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(n,e={}){return Tr(n,"GET","/v2/passwordPolicy",wr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=6;class bk{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Pk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new Ck(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hr(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await IE(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(On(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(o=d.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Gr(this));const t=e?ct(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kk(this),t=new bk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,o);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ak(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ti(n){return ct(n)}class Z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=QC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ok(n){If=n}function LE(n){return If.loadJS(n)}function Nk(){return If.recaptchaEnterpriseScript}function Dk(){return If.gapiScript}function Lk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Vk{constructor(){this.enterprise=new Mk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Mk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Fk="recaptcha-enterprise",VE="NO_RECAPTCHA";class Uk{constructor(e){this.type=Fk,this.auth=ti(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{gk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new mk(d);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function o(a,u,h){const d=window.grecaptcha;G_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(VE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&G_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Nk();d.length!==0&&(d+=h),LE(d).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function ev(n,e,t,r=!1,o=!1){const a=new Uk(n);let u;if(o)u=VE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function nf(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ev(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ev(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n,e){const t=Hp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Jc(a,e??{}))return o;Nn(o,"already-initialized")}return t.initialize({options:e})}function jk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Hr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zk(n,e,t){const r=ti(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=ME(e),{host:u,port:h}=Bk(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),qk()}function ME(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Bk(n){const e=ME(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:tv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:tv(u)}}}function tv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FE(n,e){return Tr(n,"POST","/v1/accounts:resetPassword",wr(n,e))}async function Hk(n,e){return Tr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n,e){return Wl(n,"POST","/v1/accounts:signInWithPassword",wr(n,e))}async function Kk(n,e){return Tr(n,"POST","/v1/accounts:sendOobCode",wr(n,e))}async function Gk(n,e){return Kk(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n,e){return Wl(n,"POST","/v1/accounts:signInWithEmailLink",wr(n,e))}async function Yk(n,e){return Wl(n,"POST","/v1/accounts:signInWithEmailLink",wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Xp{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Cl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Cl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nf(e,t,"signInWithPassword",Wk);case"emailLink":return Qk(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nf(e,r,"signUpPassword",Hk);case"emailLink":return Yk(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n,e){return Wl(n,"POST","/v1/accounts:signInWithIdp",wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="http://localhost";class Ls extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Wp(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Ls(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ko(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ko(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ko(e,t)}buildRequest(){const e={requestUri:Xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ql(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zk(n){const e=pl(ml(n)).link,t=e?pl(ml(e)).deep_link_id:null,r=pl(ml(n)).deep_link_id;return(r?pl(ml(r)).link:null)||r||t||e||n}class Sf{constructor(e){var t,r,o,a,u,h;const d=pl(ml(e)),m=(t=d.apiKey)!==null&&t!==void 0?t:null,_=(r=d.oobCode)!==null&&r!==void 0?r:null,E=Jk((o=d.mode)!==null&&o!==void 0?o:null);Ee(m&&_&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=_,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=Zk(e);try{return new Sf(t)}catch{return null}}}function DD(n){return Sf.parseLink(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,t){return Cl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Sf.parseLink(t);return Ee(r,"argument-error"),Cl._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends UE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Kl{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ls._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Kl{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Kl{constructor(){super("twitter.com")}static credential(e,t){return Ls._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Di.credential(t,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(n,e){return Wl(n,"POST","/v1/accounts:signUp",wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await qr._fromIdTokenResponse(e,r,o),u=nv(r);return new Vs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=nv(r);return new Vs({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function nv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends ei{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new rf(e,t,r,o)}}function $E(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(n,a,e,r):a})}async function tP(n,e,t=!1){const r=await Rl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(n,e,t=!1){const{auth:r}=n;if(On(r.app))return Promise.reject(Gr(r));const o="reauthenticate";try{const a=await Rl(n,$E(r,o,e,n),t);Ee(a.idToken,r,"internal-error");const u=Qp(a.idToken);Ee(u,r,"internal-error");const{sub:h}=u;return Ee(n.uid===h,r,"user-mismatch"),Vs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jE(n,e,t=!1){if(On(n.app))return Promise.reject(Gr(n));const r="signIn",o=await $E(n,r,e),a=await Vs._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function rP(n,e){return jE(ti(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Zp._fromServerResponse(e,t):"totpInfo"in t?em._fromServerResponse(e,t):Nn(e,"internal-error")}}class Zp extends Jp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Zp(t)}}class em extends Jp{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new em(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(n,e,t){var r;Ee(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),Ee(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Ee(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ee(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ee(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(n){const e=ti(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sP(n,e,t){const r=ti(n),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&iP(r,o,t),await nf(r,o,"getOobCode",Gk)}async function LD(n,e,t){await FE(ct(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tm(n),r})}async function VD(n,e){const t=ct(n),r=await FE(t,{oobCode:e}),o=r.requestType;switch(Ee(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(r.mfaInfo,t,"internal-error");default:Ee(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Jp._fromServerResponse(ti(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:o}}async function oP(n,e,t){if(On(n.app))return Promise.reject(Gr(n));const r=ti(n),u=await nf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&tm(n),d}),h=await Vs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function aP(n,e,t){return On(n.app)?Promise.reject(Gr(n)):rP(ct(n),ca.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tm(n),r})}function lP(n,e,t,r){return ct(n).onIdTokenChanged(e,t,r)}function uP(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function cP(n,e,t,r){return ct(n).onAuthStateChanged(e,t,r)}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1e3,hP=10;class BE extends zE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Rk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hP):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BE.type="LOCAL";const dP=BE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends zE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qE.type="SESSION";const HE=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),d=await pP(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,d)=>{const m=nm("",20);o.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(_),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function gP(n){yr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function yP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _P(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vP(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebaseLocalStorageDb",EP=1,of="firebaseLocalStorage",GE="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rf(n,e){return n.transaction([of],e?"readwrite":"readonly").objectStore(of)}function wP(){const n=indexedDB.deleteDatabase(KE);return new Gl(n).toPromise()}function fp(){const n=indexedDB.open(KE,EP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(of,{keyPath:GE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(of)?e(r):(r.close(),await wP(),e(await fp()))})})}async function rv(n,e,t){const r=Rf(n,!0).put({[GE]:e,value:t});return new Gl(r).toPromise()}async function TP(n,e){const t=Rf(n,!1).get(e),r=await new Gl(t).toPromise();return r===void 0?null:r.value}function iv(n,e){const t=Rf(n,!0).delete(e);return new Gl(t).toPromise()}const IP=800,SP=3;class QE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>SP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(vP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yP(),!this.activeServiceWorker)return;this.sender=new mP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_P()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await rv(e,sf,"1"),await iv(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>rv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>TP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Rf(o,!1).getAll();return new Gl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QE.type="LOCAL";const AP=QE;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n,e){return e?Hr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CP(n){return jE(n.auth,new rm(n),n.bypassAuthState)}function kP(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),nP(t,new rm(n),n.bypassAuthState)}async function PP(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),tP(t,new rm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CP;case"linkViaPopup":case"linkViaRedirect":return PP;case"reauthViaPopup":case"reauthViaRedirect":return kP;default:Nn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Hl(2e3,1e4);class Bo extends YE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bP.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="pendingRedirect",$c=new Map;class OP extends YE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await NP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NP(n,e){const t=VP(e),r=LP(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function DP(n,e){$c.set(n._key(),e)}function LP(n){return Hr(n._redirectPersistence)}function VP(n){return Uc(xP,n.config.apiKey,n.name)}async function MP(n,e,t=!1){if(On(n.app))return Promise.reject(Gr(n));const r=ti(n),o=RP(r,e),u=await new OP(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=10*60*1e3;class UP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$P(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(gr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FP&&this.cachedEventUids.clear(),this.cachedEventUids.has(sv(e))}saveEventToCache(e){this.cachedEventUids.add(sv(e)),this.lastProcessedEventTime=Date.now()}}function sv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $P(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(n,e={}){return Tr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BP=/^https?/;async function qP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jP(n);for(const t of e)try{if(HP(t))return}catch{}Nn(n,"unauthorized-domain")}function HP(n){const e=up(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!BP.test(t))return!1;if(zP.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new Hl(3e4,6e4);function ov(){const n=yr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function KP(n){return new Promise((e,t)=>{var r,o,a;function u(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),t(gr(n,"network-request-failed"))},timeout:WP.get()})}if(!((o=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=yr().gapi)===null||a===void 0)&&a.load)u();else{const h=Lk("iframefcb");return yr()[h]=()=>{gapi.load?u():t(gr(n,"network-request-failed"))},LE(`${Dk()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw jc=null,e})}let jc=null;function GP(n){return jc=jc||KP(n),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Hl(5e3,15e3),YP="__/auth/iframe",XP="emulator/auth/iframe",JP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eb(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gp(e,XP):`https://${n.config.authDomain}/${YP}`,r={apiKey:e.apiKey,appName:n.name,v:ua},o=ZP.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ql(r).slice(1)}`}async function tb(n){const e=await GP(n),t=yr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:eb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=gr(n,"network-request-failed"),h=yr().setTimeout(()=>{a(u)},QP.get());function d(){yr().clearTimeout(h),o(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rb=500,ib=600,sb="_blank",ob="http://localhost";class av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ab(n,e,t,r=rb,o=ib){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},nb),{width:r.toString(),height:o.toString(),top:a,left:u}),m=Bt().toLowerCase();t&&(h=kE(m)?sb:t),RE(m)&&(e=e||ob,d.scrollbars="yes");const _=Object.entries(d).reduce((T,[S,k])=>`${T}${S}=${k},`,"");if(Ak(m)&&h!=="_self")return lb(e||"",h),new av(null);const E=window.open(e||"",h,_);Ee(E,n,"popup-blocked");try{E.focus()}catch{}return new av(E)}function lb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__/auth/handler",cb="emulator/auth/handler",fb=encodeURIComponent("fac");async function lv(n,e,t,r,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ua,eventId:o};if(e instanceof UE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",GC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof Kl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),m=d?`#${fb}=${encodeURIComponent(d)}`:"";return`${hb(n)}?${ql(h).slice(1)}${m}`}function hb({config:n}){return n.emulator?Gp(n,cb):`https://${n.authDomain}/${ub}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class db{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HE,this._completeRedirectFn=MP,this._overrideRedirectResult=DP}async _openPopup(e,t,r,o){var a;Yr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await lv(e,t,r,up(),o);return ab(e,u,nm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await lv(e,t,r,up(),o);return gP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Yr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await tb(e),r=new UP(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wd,{type:Wd},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Wd];u!==void 0&&t(!!u),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NE()||CE()||Yp()}}const pb=db;var uv="@firebase/auth",cv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yb(n){Yo(new Ds("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DE(n)},m=new xk(r,o,a,d);return jk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Ds("auth-internal",e=>{const t=ti(e.getProvider("auth").getImmediate());return(r=>new mb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(uv,cv,gb(n)),Fi(uv,cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=5*60,vb=cE("authIdTokenMaxAge")||_b;let fv=null;const Eb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vb)return;const o=t==null?void 0:t.token;fv!==o&&(fv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wb(n=pE()){const e=Hp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=$k(n,{popupRedirectResolver:pb,persistence:[AP,dP,HE]}),r=cE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Eb(a.toString());uP(t,u,()=>u(t.currentUser)),lP(t,h=>u(h))}}const o=lE("auth");return o&&zk(t,`http://${o}`),t}function Tb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ok({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=gr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",Tb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yb("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ql(n,e,t,r){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function h(_){try{m(r.next(_))}catch(E){u(E)}}function d(_){try{m(r.throw(_))}catch(E){u(E)}}function m(_){_.done?a(_.value):o(_.value).then(h,d)}m((r=r.apply(n,[])).next())})}function Yl(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(_){return d([m,_])}}function d(m){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,o=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(m[0]===6&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(_){m=[6,_],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qo=function(){return qo=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},qo.apply(this,arguments)},JE=function(n){return{loading:n==null,value:n}},Ib=function(){return function(n,e){switch(e.type){case"error":return qo(qo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return JE(e.defaultValue);case"value":return qo(qo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},Sb=function(n){var e=n?n():void 0,t=F.useReducer(Ib(),JE(e)),r=t[0],o=t[1],a=F.useCallback(function(){var d=n?n():void 0;o({type:"reset",defaultValue:d})},[n]),u=F.useCallback(function(d){o({type:"error",error:d})},[]),h=F.useCallback(function(d){o({type:"value",value:d})},[]);return F.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:u,setValue:h,value:r.value}},[r.error,r.loading,a,u,h,r.value])},Ab=function(n,e){var t=Sb(function(){return n.currentUser}),r=t.error,o=t.loading,a=t.setError,u=t.setValue,h=t.value;return F.useEffect(function(){var d=cP(n,function(m){return Ql(void 0,void 0,void 0,function(){var _;return Yl(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return E.sent(),[3,4];case 3:return _=E.sent(),a(_),[3,4];case 4:return u(m),[2]}})})},a);return function(){d()}},[n]),[h,o,r]},MD=function(n,e){var t=F.useState(),r=t[0],o=t[1],a=F.useState(),u=a[0],h=a[1],d=F.useState(!1),m=d[0],_=d[1],E=F.useCallback(function(T,S){return Ql(void 0,void 0,void 0,function(){var k,D;return Yl(this,function(x){switch(x.label){case 0:_(!0),o(void 0),x.label=1;case 1:return x.trys.push([1,5,6,7]),[4,oP(n,T,S)];case 2:return k=x.sent(),[3,4];case 3:x.sent(),x.label=4;case 4:return h(k),[2,k];case 5:return D=x.sent(),o(D),[3,7];case 6:return _(!1),[7];case 7:return[2]}})})},[n,e]);return[E,u,m,r]},FD=function(n){var e=F.useState(),t=e[0],r=e[1],o=F.useState(!1),a=o[0],u=o[1],h=F.useCallback(function(d,m){return Ql(void 0,void 0,void 0,function(){var _;return Yl(this,function(E){switch(E.label){case 0:u(!0),r(void 0),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,sP(n,d,m)];case 2:return E.sent(),[2,!0];case 3:return _=E.sent(),r(_),[2,!1];case 4:return u(!1),[7];case 5:return[2]}})})},[n]);return[h,a,t]},UD=function(n){var e=F.useState(),t=e[0],r=e[1],o=F.useState(),a=o[0],u=o[1],h=F.useState(!1),d=h[0],m=h[1],_=F.useCallback(function(E,T){return Ql(void 0,void 0,void 0,function(){var S,k;return Yl(this,function(D){switch(D.label){case 0:m(!0),r(void 0),D.label=1;case 1:return D.trys.push([1,3,4,5]),[4,aP(n,E,T)];case 2:return S=D.sent(),u(S),[2,S];case 3:return k=D.sent(),r(k),[3,5];case 4:return m(!1),[7];case 5:return[2]}})})},[n]);return[_,a,d,t]},$D=function(n){var e=F.useState(),t=e[0],r=e[1],o=F.useState(!1),a=o[0],u=o[1],h=F.useCallback(function(){return Ql(void 0,void 0,void 0,function(){var d;return Yl(this,function(m){switch(m.label){case 0:u(!0),r(void 0),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,n.signOut()];case 2:return m.sent(),[2,!0];case 3:return d=m.sent(),r(d),[2,!1];case 4:return u(!1),[7];case 5:return[2]}})})},[n]);return[h,a,t]},Rb="firebase",Cb="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(Rb,Cb,"app");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,ZE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function C(){}C.prototype=A.prototype,O.D=A.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(V,P,N){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return A.prototype[P].apply(V,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,C){C||(C=0);var V=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)V[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;16>P;++P)V[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=O.g[0],C=O.g[1],P=O.g[2];var N=O.g[3],R=A+(N^C&(P^N))+V[0]+3614090360&4294967295;A=C+(R<<7&4294967295|R>>>25),R=N+(P^A&(C^P))+V[1]+3905402710&4294967295,N=A+(R<<12&4294967295|R>>>20),R=P+(C^N&(A^C))+V[2]+606105819&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(A^P&(N^A))+V[3]+3250441966&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(N^C&(P^N))+V[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=N+(P^A&(C^P))+V[5]+1200080426&4294967295,N=A+(R<<12&4294967295|R>>>20),R=P+(C^N&(A^C))+V[6]+2821735955&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(A^P&(N^A))+V[7]+4249261313&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(N^C&(P^N))+V[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=N+(P^A&(C^P))+V[9]+2336552879&4294967295,N=A+(R<<12&4294967295|R>>>20),R=P+(C^N&(A^C))+V[10]+4294925233&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(A^P&(N^A))+V[11]+2304563134&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(N^C&(P^N))+V[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=N+(P^A&(C^P))+V[13]+4254626195&4294967295,N=A+(R<<12&4294967295|R>>>20),R=P+(C^N&(A^C))+V[14]+2792965006&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(A^P&(N^A))+V[15]+1236535329&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(P^N&(C^P))+V[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(A^C))+V[6]+3225465664&4294967295,N=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(N^A))+V[11]+643717713&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^A&(P^N))+V[0]+3921069994&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^N&(C^P))+V[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(A^C))+V[10]+38016083&4294967295,N=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(N^A))+V[15]+3634488961&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^A&(P^N))+V[4]+3889429448&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^N&(C^P))+V[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(A^C))+V[14]+3275163606&4294967295,N=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(N^A))+V[3]+4107603335&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^A&(P^N))+V[8]+1163531501&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^N&(C^P))+V[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(A^C))+V[2]+4243563512&4294967295,N=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(N^A))+V[7]+1735328473&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^A&(P^N))+V[12]+2368359562&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(C^P^N)+V[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=N+(A^C^P)+V[8]+2272392833&4294967295,N=A+(R<<11&4294967295|R>>>21),R=P+(N^A^C)+V[11]+1839030562&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^A)+V[14]+4259657740&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^N)+V[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=N+(A^C^P)+V[4]+1272893353&4294967295,N=A+(R<<11&4294967295|R>>>21),R=P+(N^A^C)+V[7]+4139469664&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^A)+V[10]+3200236656&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^N)+V[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=N+(A^C^P)+V[0]+3936430074&4294967295,N=A+(R<<11&4294967295|R>>>21),R=P+(N^A^C)+V[3]+3572445317&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^A)+V[6]+76029189&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^N)+V[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=N+(A^C^P)+V[12]+3873151461&4294967295,N=A+(R<<11&4294967295|R>>>21),R=P+(N^A^C)+V[15]+530742520&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^A)+V[2]+3299628645&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(P^(C|~N))+V[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=N+(C^(A|~P))+V[7]+1126891415&4294967295,N=A+(R<<10&4294967295|R>>>22),R=P+(A^(N|~C))+V[14]+2878612391&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~A))+V[5]+4237533241&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~N))+V[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=N+(C^(A|~P))+V[3]+2399980690&4294967295,N=A+(R<<10&4294967295|R>>>22),R=P+(A^(N|~C))+V[10]+4293915773&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~A))+V[1]+2240044497&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~N))+V[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=N+(C^(A|~P))+V[15]+4264355552&4294967295,N=A+(R<<10&4294967295|R>>>22),R=P+(A^(N|~C))+V[6]+2734768916&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~A))+V[13]+1309151649&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~N))+V[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=N+(C^(A|~P))+V[11]+3174756917&4294967295,N=A+(R<<10&4294967295|R>>>22),R=P+(A^(N|~C))+V[2]+718787259&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~A))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+N&4294967295}r.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var C=A-this.blockSize,V=this.B,P=this.h,N=0;N<A;){if(P==0)for(;N<=C;)o(this,O,N),N+=this.blockSize;if(typeof O=="string"){for(;N<A;)if(V[P++]=O.charCodeAt(N++),P==this.blockSize){o(this,V),P=0;break}}else for(;N<A;)if(V[P++]=O[N++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var C=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=C&255,C/=256;for(this.u(O),O=Array(16),A=C=0;4>A;++A)for(var V=0;32>V;V+=8)O[C++]=this.g[A]>>>V&255;return O};function a(O,A){var C=h;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=A(O)}function u(O,A){this.h=A;for(var C=[],V=!0,P=O.length-1;0<=P;P--){var N=O[P]|0;V&&N==A||(C[P]=N,V=!1)}this.g=C}var h={};function d(O){return-128<=O&&128>O?a(O,function(A){return new u([A|0],0>A?-1:0)}):new u([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return x(m(-O));for(var A=[],C=1,V=0;O>=C;V++)A[V]=O/C|0,C*=4294967296;return new u(A,0)}function _(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return x(_(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(A,8)),V=E,P=0;P<O.length;P+=8){var N=Math.min(8,O.length-P),R=parseInt(O.substring(P,P+N),A);8>N?(N=m(Math.pow(A,N)),V=V.j(N).add(m(R))):(V=V.j(C),V=V.add(m(R)))}return V}var E=d(0),T=d(1),S=d(16777216);n=u.prototype,n.m=function(){if(D(this))return-x(this).m();for(var O=0,A=1,C=0;C<this.g.length;C++){var V=this.i(C);O+=(0<=V?V:4294967296+V)*A,A*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(D(this))return"-"+x(this).toString(O);for(var A=m(Math.pow(O,6)),C=this,V="";;){var P=Y(C,A).g;C=L(C,P.j(A));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=P,k(C))return N+V;for(;6>N.length;)N="0"+N;V=N+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function D(O){return O.h==-1}n.l=function(O){return O=L(this,O),D(O)?-1:k(O)?0:1};function x(O){for(var A=O.g.length,C=[],V=0;V<A;V++)C[V]=~O.g[V];return new u(C,~O.h).add(T)}n.abs=function(){return D(this)?x(this):this},n.add=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],V=0,P=0;P<=A;P++){var N=V+(this.i(P)&65535)+(O.i(P)&65535),R=(N>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);V=R>>>16,N&=65535,R&=65535,C[P]=R<<16|N}return new u(C,C[C.length-1]&-2147483648?-1:0)};function L(O,A){return O.add(x(A))}n.j=function(O){if(k(this)||k(O))return E;if(D(this))return D(O)?x(this).j(x(O)):x(x(this).j(O));if(D(O))return x(this.j(x(O)));if(0>this.l(S)&&0>O.l(S))return m(this.m()*O.m());for(var A=this.g.length+O.g.length,C=[],V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<O.g.length;P++){var N=this.i(V)>>>16,R=this.i(V)&65535,re=O.i(P)>>>16,ae=O.i(P)&65535;C[2*V+2*P]+=R*ae,z(C,2*V+2*P),C[2*V+2*P+1]+=N*ae,z(C,2*V+2*P+1),C[2*V+2*P+1]+=R*re,z(C,2*V+2*P+1),C[2*V+2*P+2]+=N*re,z(C,2*V+2*P+2)}for(V=0;V<A;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=A;V<2*A;V++)C[V]=0;return new u(C,0)};function z(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function j(O,A){this.g=O,this.h=A}function Y(O,A){if(k(A))throw Error("division by zero");if(k(O))return new j(E,E);if(D(O))return A=Y(x(O),A),new j(x(A.g),x(A.h));if(D(A))return A=Y(O,x(A)),new j(x(A.g),A.h);if(30<O.g.length){if(D(O)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var C=T,V=A;0>=V.l(O);)C=le(C),V=le(V);var P=oe(C,1),N=oe(V,1);for(V=oe(V,2),C=oe(C,2);!k(V);){var R=N.add(V);0>=R.l(O)&&(P=P.add(C),N=R),V=oe(V,1),C=oe(C,1)}return A=L(O,P.j(A)),new j(P,A)}for(P=E;0<=O.l(A);){for(C=Math.max(1,Math.floor(O.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),N=m(C),R=N.j(A);D(R)||0<R.l(O);)C-=V,N=m(C),R=N.j(A);k(N)&&(N=T),P=P.add(N),O=L(O,R)}return new j(P,O)}n.A=function(O){return Y(this,O).h},n.and=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)&O.i(V);return new u(C,this.h&O.h)},n.or=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)|O.i(V);return new u(C,this.h|O.h)},n.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)^O.i(V);return new u(C,this.h^O.h)};function le(O){for(var A=O.g.length+1,C=[],V=0;V<A;V++)C[V]=O.i(V)<<1|O.i(V-1)>>>31;return new u(C,O.h)}function oe(O,A){var C=A>>5;A%=32;for(var V=O.g.length-C,P=[],N=0;N<V;N++)P[N]=0<A?O.i(N+C)>>>A|O.i(N+C+1)<<32-A:O.i(N+C);return new u(P,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,Ui=u}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ew,gl,tw,zc,hp,nw,rw,iw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in v))break e;v=v[B]}c=c[c.length-1],I=v[c],g=g(I),g!=I&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var v=0,I=!1,B={next:function(){if(!I&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function E(c,g,v){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function T(c,g,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,T.apply(null,arguments)}function S(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function k(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(I,B,G){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return g.prototype[B].apply(I,ce)}}function D(c){const g=c.length;if(0<g){const v=Array(g);for(let I=0;I<g;I++)v[I]=c[I];return v}return[]}function x(c,g){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(d(I)){const B=c.length||0,G=I.length||0;c.length=B+G;for(let ce=0;ce<G;ce++)c[B+ce]=I[ce]}else c.push(I)}}class L{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var le=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function oe(c,g,v){for(const I in c)g.call(v,c[I],I,c)}function O(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function A(c){const g={};for(const v in c)g[v]=c[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let v,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(v in I)c[v]=I[v];for(let G=0;G<C.length;G++)v=C[G],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function P(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function N(c){h.setTimeout(()=>{throw c},0)}function R(){var c=fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,v){const I=ae.get();I.set(g,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ae=new L(()=>new Se,c=>c.reset());class Se{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Q=!1,fe=new re,se=()=>{const c=h.Promise.resolve(void 0);W=()=>{c.then(U)}};var U=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(v){N(v)}var g=ae;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,g),h.removeEventListener("test",v,g)}catch{}return c}();function be(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(le){e:{try{Y(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}k(be,ge);var Oe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Ge(c,g,v,I,B){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!I,this.ha=B,this.key=++Be,this.da=this.fa=!1}function Tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ir(c){this.src=c,this.g={},this.h=0}Ir.prototype.add=function(c,g,v,I,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ce=ri(c,g,I,B);return-1<ce?(g=c[ce],v||(g.fa=!1)):(g=new Ge(g,this.src,G,!!I,B),g.fa=v,c.push(g)),g};function Bs(c,g){var v=g.type;if(v in c.g){var I=c.g[v],B=Array.prototype.indexOf.call(I,g,void 0),G;(G=0<=B)&&Array.prototype.splice.call(I,B,1),G&&(Tt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ri(c,g,v,I){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==I)return B}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),qs={};function ma(c,g,v,I,B){if(Array.isArray(g)){for(var G=0;G<g.length;G++)ma(c,g[G],v,I,B);return null}return v=_a(v),c&&c[$e]?c.K(g,v,m(I)?!!I.capture:!1,B):ga(c,g,v,!1,I,B)}function ga(c,g,v,I,B,G){if(!g)throw Error("Invalid event type");var ce=m(B)?!!B.capture:!!B,He=Ws(c);if(He||(c[Zi]=He=new Ir(c)),v=He.add(g,v,I,ce,G),v.proxy)return v;if(I=iu(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)ke||(B=ce),B===void 0&&(B=!1),c.addEventListener(g.toString(),I,B);else if(c.attachEvent)c.attachEvent(Ar(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function iu(){function c(v){return g.call(c.src,c.listener,v)}const g=ya;return c}function Hs(c,g,v,I,B){if(Array.isArray(g))for(var G=0;G<g.length;G++)Hs(c,g[G],v,I,B);else I=m(I)?!!I.capture:!!I,v=_a(v),c&&c[$e]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=ri(G,v,I,B),-1<v&&(Tt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ws(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ri(g,v,I,B)),(v=-1<c?g[c]:null)&&Sr(v))}function Sr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[$e])Bs(g.i,c);else{var v=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(v,I,c.capture):g.detachEvent?g.detachEvent(Ar(v),I):g.addListener&&g.removeListener&&g.removeListener(I),(v=Ws(g))?(Bs(v,c),v.h==0&&(v.src=null,g[Zi]=null)):Tt(c)}}}function Ar(c){return c in qs?qs[c]:qs[c]="on"+c}function ya(c,g){if(c.da)c=!0;else{g=new be(g,this);var v=c.listener,I=c.ha||c.src;c.fa&&Sr(c),c=v.call(I,g)}return c}function Ws(c){return c=c[Zi],c instanceof Ir?c:null}var Ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function _a(c){return typeof c=="function"?c:(c[Ks]||(c[Ks]=function(g){return c.handleEvent(g)}),c[Ks])}function mt(){X.call(this),this.i=new Ir(this),this.M=this,this.F=null}k(mt,X),mt.prototype[$e]=!0,mt.prototype.removeEventListener=function(c,g,v,I){Hs(this,c,g,v,I)};function gt(c,g){var v,I=c.F;if(I)for(v=[];I;I=I.F)v.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var B=g;g=new ge(I,c),V(g,B)}if(B=!0,v)for(var G=v.length-1;0<=G;G--){var ce=g.g=v[G];B=Rr(ce,I,!0,g)&&B}if(ce=g.g=c,B=Rr(ce,I,!0,g)&&B,B=Rr(ce,I,!1,g)&&B,v)for(G=0;G<v.length;G++)ce=g.g=v[G],B=Rr(ce,I,!1,g)&&B}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],I=0;I<v.length;I++)Tt(v[I]);delete c.g[g],c.h--}}this.F=null},mt.prototype.K=function(c,g,v,I){return this.i.add(String(c),g,!1,v,I)},mt.prototype.L=function(c,g,v,I){return this.i.add(String(c),g,!0,v,I)};function Rr(c,g,v,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,G=0;G<g.length;++G){var ce=g[G];if(ce&&!ce.da&&ce.capture==v){var He=ce.listener,yt=ce.ha||ce.src;ce.fa&&Bs(c.i,ce),B=He.call(yt,I)!==!1&&B}}return B&&!I.defaultPrevented}function va(c,g,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ii(c){c.g=va(()=>{c.g=null,c.i&&(c.i=!1,ii(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class es extends X{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ii(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){X.call(this),this.h=c,this.g={}}k(ts,X);var Ea=[];function wa(c){oe(c.g,function(g,v){this.g.hasOwnProperty(v)&&Sr(g)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),wa(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ta=h.JSON.stringify,Ia=h.JSON.parse,Sa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ns(){}ns.prototype.h=null;function Gs(c){return c.h||(c.h=c.i())}function Qs(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){ge.call(this,"d")}k(nr,ge);function Ys(){ge.call(this,"c")}k(Ys,ge);var rr={},Aa=null;function rs(){return Aa=Aa||new mt}rr.La="serverreachability";function Ra(c){ge.call(this,rr.La,c)}k(Ra,ge);function Cr(c){const g=rs();gt(g,new Ra(g))}rr.STAT_EVENT="statevent";function Ca(c,g){ge.call(this,rr.STAT_EVENT,c),this.stat=g}k(Ca,ge);function at(c){const g=rs();gt(g,new Ca(g,c))}rr.Ma="timingevent";function Xs(c,g){ge.call(this,rr.Ma,c),this.size=g}k(Xs,ge);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function ss(c,g,v,I,B,G){c.info(function(){if(c.g)if(G)for(var ce="",He=G.split("&"),yt=0;yt<He.length;yt++){var Me=He[yt].split("=");if(1<Me.length){var It=Me[0];Me=Me[1];var ft=It.split("_");ce=2<=ft.length&&ft[1]=="type"?ce+(It+"="+Me+"&"):ce+(It+"=redacted&")}}else ce=null;else ce=G;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+g+`
`+v+`
`+ce})}function Js(c,g,v,I,B,G,ce){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+g+`
`+v+`
`+G+" "+ce})}function Vn(c,g,v,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Xf(c,v)+(I?" "+I:"")})}function ka(c,g){c.info(function(){return"TIMEOUT: "+g})}is.prototype.info=function(){};function Xf(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var I=v[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ce=1;ce<B.length;ce++)B[ce]=""}}}}return Ta(v)}catch{return g}}var Zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},su={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function os(){}k(os,ns),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},Mn=new os;function Fn(c,g,v,I){this.j=c,this.i=g,this.l=v,this.R=I||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ou}function ou(){this.i=null,this.g="",this.h=!1}var Pa={},eo={};function to(c,g,v){c.L=1,c.v=ui(hn(g)),c.m=v,c.P=!0,ba(c,null)}function ba(c,g){c.F=Date.now(),Qe(c),c.A=hn(c.v);var v=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),fi(v.i,"t",I),c.C=0,v=c.j.J,c.h=new ou,c.g=Su(c.j,v?g:null,!c.m),0<c.O&&(c.M=new es(T(c.Y,c,c.g),c.O)),g=c.U,v=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ea[0]=B.toString()),B=Ea);for(var G=0;G<B.length;G++){var ce=ma(v,B[G],I||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Cr(),ss(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Xt(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const ft=Xt(this.g);var g=this.g.Ba();const Sn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Va(this.g)))){this.J||ft!=4||g==7||(g==8||0>=Sn?Cr(3):Cr(2)),as(this);var v=this.g.Z();this.X=v;t:if(au(this)){var I=Va(this.g);c="";var B=I.length,G=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),si(this);var ce="";break t}this.h.i=new h.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(G&&g==B-1)});I.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,Js(this.i,this.u,this.A,this.l,this.R,ft,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,yt=this.g;if((He=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(He)){var Me=He;break t}}Me=null}if(v=Me)Vn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xa(this,v);else{this.o=!1,this.s=3,at(12),Tn(this),si(this);break e}}if(this.P){v=!0;let pn;for(;!this.J&&this.C<ce.length;)if(pn=Jf(this,ce),pn==eo){ft==4&&(this.s=4,at(14),v=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Pa){this.s=4,at(15),Vn(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else Vn(this.i,this.l,pn,null),xa(this,pn);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||ce.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Vn(this.i,this.l,ce,"[Invalid Chunked Response]"),Tn(this),si(this);else if(0<ce.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Fa(It),It.M=!0,at(11))}}else Vn(this.i,this.l,ce,null),xa(this,ce);ft==4&&Tn(this),this.o&&!this.J&&(ft==4?ho(this.j,this):(this.o=!1,Qe(this)))}else ao(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Tn(this),si(this)}}}catch{}finally{}};function au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Jf(c,g){var v=c.C,I=g.indexOf(`
`,v);return I==-1?eo:(v=Number(g.substring(v,I)),isNaN(v)?Pa:(I+=1,I+v>g.length?eo:(g=g.slice(I,I+v),c.C=I+v,g)))}Fn.prototype.cancel=function(){this.J=!0,Tn(this)};function Qe(c){c.S=Date.now()+c.I,lu(c,c.I)}function lu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(T(c.ba,c),g)}function as(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ka(this.i,this.A),this.L!=2&&(Cr(),at(17)),Tn(this),this.s=2,si(this)):lu(this,this.S-c)};function si(c){c.j.G==0||c.J||ho(c.j,c)}function Tn(c){as(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,wa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function xa(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||qt(v.h,c))){if(!c.K&&qt(v.h,c)&&v.G==3){try{var I=v.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)fo(v),Bn(v);else break e;co(v),at(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ln(T(v.Za,v),6e3));if(1>=cu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Or(v,11)}else if((c.K||v.g==c)&&fo(v),!z(g))for(B=v.Da.g.parse(g),g=0;g<B.length;g++){let Me=B[g];if(v.T=Me[0],Me=Me[1],v.G==2)if(Me[0]=="c"){v.K=Me[1],v.ia=Me[2];const It=Me[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const ft=Me[4];ft!=null&&(v.Aa=ft,v.j.info("SVER="+v.Aa));const Sn=Me[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(I=1.5*Sn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const pn=c.g;if(pn){const ps=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var G=I.h;G.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Oa(G,G.h),G.h=null))}if(I.D){const mo=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(I.ya=mo,Ke(I.I,I.D,mo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ce=c;if(I.qa=Iu(I,I.J?I.ia:null,I.W),ce.K){fu(I.h,ce);var He=ce,yt=I.L;yt&&(He.I=yt),He.B&&(as(He),Qe(He)),I.g=ce}else ds(I);0<v.i.length&&ar(v)}else Me[0]!="stop"&&Me[0]!="close"||Or(v,7);else v.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Or(v,7):Pt(v):Me[0]!="noop"&&v.l&&v.l.ta(Me),v.v=0)}}Cr(4)}catch{}}var uu=class{constructor(c,g){this.g=c,this.map=g}};function ls(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cu(c){return c.h?1:c.g?c.g.size:0}function qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Oa(c,g){c.g?c.g.add(g):c.h=g}function fu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ls.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return D(c.i)}function no(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var g=[],v=c.length,I=0;I<v;I++)g.push(c[I]);return g}g=[],v=0;for(I in c)g[v++]=c[I];return g}function ro(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const I in c)g[v++]=I;return g}}}function oi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=ro(c),I=no(c),B=I.length,G=0;G<B;G++)g.call(void 0,I[G],v&&v[G],c)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zf(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var I=c[v].indexOf("="),B=null;if(0<=I){var G=c[v].substring(0,I);B=c[v].substring(I+1)}else G=c[v];g(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function kr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof kr){this.h=c.h,cs(this,c.j),this.o=c.o,this.g=c.g,ai(this,c.s),this.l=c.l;var g=c.i,v=new ir;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),li(this,v),this.m=c.m}else c&&(g=String(c).match(us))?(this.h=!1,cs(this,g[1]||"",!0),this.o=Le(g[2]||""),this.g=Le(g[3]||"",!0),ai(this,g[4]),this.l=Le(g[5]||"",!0),li(this,g[6]||"",!0),this.m=Le(g[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}kr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ci(g,io,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ci(g,io,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ci(v,v.charAt(0)=="/"?mu:pu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ci(v,Na)),c.join("")};function hn(c){return new kr(c)}function cs(c,g,v){c.j=v?Le(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ai(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function li(c,g,v){g instanceof ir?(c.i=g,sr(c.i,c.h)):(v||(g=ci(g,gu)),c.i=new ir(g,c.h))}function Ke(c,g,v){c.i.set(g,v)}function ui(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Le(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ci(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,du),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var io=/[#\/\?@]/g,pu=/[#\?:]/g,mu=/[#\?]/g,gu=/[#\?@]/g,Na=/#/g;function ir(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function kt(c){c.g||(c.g=new Map,c.h=0,c.i&&Zf(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=ir.prototype,n.add=function(c,g){kt(this),this.i=null,c=In(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Un(c,g){kt(c),g=In(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function $n(c,g){return kt(c),g=In(c,g),c.g.has(g)}n.forEach=function(c,g){kt(this),this.g.forEach(function(v,I){v.forEach(function(B){c.call(g,B,I,this)},this)},this)},n.na=function(){kt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let I=0;I<g.length;I++){const B=c[I];for(let G=0;G<B.length;G++)v.push(g[I])}return v},n.V=function(c){kt(this);let g=[];if(typeof c=="string")$n(this,c)&&(g=g.concat(this.g.get(In(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},n.set=function(c,g){return kt(this),this.i=null,c=In(this,c),$n(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function fi(c,g,v){Un(c,g),0<v.length&&(c.i=null,c.g.set(In(c,g),D(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var I=g[v];const G=encodeURIComponent(String(I)),ce=this.V(I);for(I=0;I<ce.length;I++){var B=G;ce[I]!==""&&(B+="="+encodeURIComponent(String(ce[I]))),c.push(B)}}return this.i=c.join("&")};function In(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sr(c,g){g&&!c.j&&(kt(c),c.i=null,c.g.forEach(function(v,I){var B=I.toLowerCase();I!=B&&(Un(this,I),fi(this,B,v))},c)),c.j=g}function eh(c,g){const v=new is;if(h.Image){const I=new Image;I.onload=S(Yt,v,"TestLoadImage: loaded",!0,g,I),I.onerror=S(Yt,v,"TestLoadImage: error",!1,g,I),I.onabort=S(Yt,v,"TestLoadImage: abort",!1,g,I),I.ontimeout=S(Yt,v,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function yu(c,g){const v=new is,I=new AbortController,B=setTimeout(()=>{I.abort(),Yt(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(G=>{clearTimeout(B),G.ok?Yt(v,"TestPingServer: ok",!0,g):Yt(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),Yt(v,"TestPingServer: error",!1,g)})}function Yt(c,g,v,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(v)}catch{}}function th(){this.g=new Sa}function _u(c,g,v){const I=v||"";try{oi(c,function(B,G){let ce=B;m(B)&&(ce=Ta(B)),g.push(I+G+"="+encodeURIComponent(ce))})}catch(B){throw g.push(I+"type="+encodeURIComponent("_badmap")),B}}function Pr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Pr,ns),Pr.prototype.g=function(){return new fs(this.l,this.j)},Pr.prototype.i=function(c){return function(){return c}}({});function fs(c,g){mt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(fs,mt),n=fs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?jn(this):zn(this),this.readyState==3&&vu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,jn(this))},n.Qa=function(c){this.g&&(this.response=c,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function br(c){let g="";return oe(c,function(v,I){g+=I,g+=":",g+=v,g+=`\r
`}),g}function hi(c,g,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=br(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,g,v))}function et(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(et,mt);var nh=/^https?$/i,Da=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Gs(this.o):Gs(Mn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){hs(this,G);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)v.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())v.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Da,g,void 0))||I||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ce]of v)this.g.setRequestHeader(G,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){hs(this,G)}};function hs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,so(c),dn(c)}function so(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},n.bb=function(){La(this)};function La(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Xt(c)!=4||c.Z()!=2)){if(c.u&&Xt(c)==4)va(c.Ea,0,c);else if(gt(c,"readystatechange"),Xt(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var I;if(I=ce===0){var B=String(c.D).match(us)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),I=!nh.test(B?B.toLowerCase():"")}v=I}if(v)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var G=2<Xt(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",so(c)}}finally{dn(c)}}}}function dn(c,g){if(c.g){oo(c);const v=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||gt(c,"ready");try{v.onreadystatechange=I}catch{}}}function oo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Xt(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ia(g)}};function Va(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ao(c){const g={};c=(c.g&&2<=Xt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(z(c[I]))continue;var v=P(c[I]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[B]||[];g[B]=G,G.push(v)}O(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ma(c){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,c),this.cb=or("retryDelaySeedMs",1e4,c),this.Wa=or("forwardChannelMaxRetries",2,c),this.wa=or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ls(c&&c.concurrentRequestLimit),this.Da=new th,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ma.prototype,n.la=8,n.G=1,n.connect=function(c,g,v,I){at(0),this.W=c,this.H=g||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Iu(this,null,this.W),ar(this)};function Pt(c){if(lo(c),c.G==3){var g=c.U++,v=hn(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),xr(c,v),g=new Fn(c,c.j,g),g.L=2,g.v=ui(hn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=g.v,v=!0),v||(g.g=Su(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qe(g)}Tu(c)}function Bn(c){c.g&&(Fa(c),c.g.cancel(),c.g=null)}function lo(c){Bn(c),c.u&&(h.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ar(c){if(!fn(c.h)&&!c.s){c.s=!0;var g=c.Ga;W||se(),Q||(W(),Q=!0),fe.add(g,c),c.B=0}}function rh(c,g){return cu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(T(c.Ga,c,g),wu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Fn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=di(this,B,g),v=hn(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),xr(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(br(G)))+"&"+g:this.m&&hi(v,this.m,G)),Oa(this.h,B),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",g),Ke(v,"SID","null"),B.T=!0,to(B,v,null)):to(B,v,g),this.G=2}}else this.G==3&&(c?uo(this,c):this.i.length==0||fn(this.h)||uo(this))};function uo(c,g){var v;g?v=g.l:v=c.U++;const I=hn(c.I);Ke(I,"SID",c.K),Ke(I,"RID",v),Ke(I,"AID",c.T),xr(c,I),c.m&&c.o&&hi(I,c.m,c.o),v=new Fn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=di(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oa(c.h,v),to(v,I,g)}function xr(c,g){c.H&&oe(c.H,function(v,I){Ke(g,I,v)}),c.l&&oi({},function(v,I){Ke(g,I,v)})}function di(c,g,v){v=Math.min(c.i.length,v);var I=c.l?T(c.l.Na,c.l,c):null;e:{var B=c.i;let G=-1;for(;;){const ce=["count="+v];G==-1?0<v?(G=B[0].g,ce.push("ofs="+G)):G=0:ce.push("ofs="+G);let He=!0;for(let yt=0;yt<v;yt++){let Me=B[yt].g;const It=B[yt].map;if(Me-=G,0>Me)G=Math.max(0,B[yt].g-100),He=!1;else try{_u(It,ce,"req"+Me+"_")}catch{I&&I(It)}}if(He){I=ce.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,I}function ds(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;W||se(),Q||(W(),Q=!0),fe.add(g,c),c.v=0}}function co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(T(c.Fa,c),wu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Bn(this),Eu(this))};function Fa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=hn(c.qa);Ke(g,"RID","rpc"),Ke(g,"SID",c.K),Ke(g,"AID",c.T),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(g,"TO",c.ja),Ke(g,"TYPE","xmlhttp"),xr(c,g),c.m&&c.o&&hi(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ui(hn(g)),v.m=null,v.P=!0,ba(v,c)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),co(this),at(19))};function fo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ho(c,g){var v=null;if(c.g==g){fo(c),Fa(c),c.g=null;var I=2}else if(qt(c.h,g))v=g.D,fu(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;I=rs(),gt(I,new Xs(I,v)),ar(c)}else ds(c);else if(B=g.s,B==3||B==0&&0<g.X||!(I==1&&rh(c,g)||I==2&&co(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),B){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function wu(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Or(c,g){if(c.j.info("Error code "+g),g==2){var v=T(c.fb,c),I=c.Xa;const B=!I;I=new kr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||cs(I,"https"),ui(I),B?eh(I.toString(),v):yu(I.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(g),Tu(c),lo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Tu(c){if(c.G=0,c.ka=[],c.l){const g=hu(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Iu(c,g,v){var I=v instanceof kr?hn(v):new kr(v);if(I.g!="")g&&(I.g=g+"."+I.g),ai(I,I.s);else{var B=h.location;I=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var G=new kr(null);I&&cs(G,I),g&&(G.g=g),B&&ai(G,B),v&&(G.l=v),I=G}return v=c.D,g=c.ya,v&&g&&Ke(I,v,g),Ke(I,"VER",c.la),xr(c,I),I}function Su(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new et(new Pr({eb:v})):new et(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ua(){}n=Ua.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function po(){}po.prototype.g=function(c,g){return new Ht(c,g)};function Ht(c,g){mt.call(this),this.g=new Ma(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new lr(this)}k(Ht,mt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Pt(this.g)},Ht.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ta(c),c=v);g.i.push(new uu(g.Ya++,c)),g.G==3&&ar(g)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Ht.aa.N.call(this)};function Au(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}k(Au,nr);function Ru(){Ys.call(this),this.status=1}k(Ru,Ys);function lr(c){this.g=c}k(lr,Ua),lr.prototype.ua=function(){gt(this.g,"a")},lr.prototype.ta=function(c){gt(this.g,new Au(c))},lr.prototype.sa=function(c){gt(this.g,new Ru)},lr.prototype.ra=function(){gt(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,iw=function(){return new po},rw=function(){return rs()},nw=rr,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,zc=Zs,su.COMPLETE="complete",tw=su,Qs.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,gl=Qs,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,ew=et}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",pv="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Bp("@firebase/firestore");function Fo(){return Ms.logLevel}function pe(n,...e){if(Ms.logLevel<=Ne.DEBUG){const t=e.map(im);Ms.debug(`Firestore (${fa}): ${n}`,...t)}}function Xr(n,...e){if(Ms.logLevel<=Ne.ERROR){const t=e.map(im);Ms.error(`Firestore (${fa}): ${n}`,...t)}}function Xo(n,...e){if(Ms.logLevel<=Ne.WARN){const t=e.map(im);Ms.warn(`Firestore (${fa}): ${n}`,...t)}}function im(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function qe(n,e){n||Ae()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class Pb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bb{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Os,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Os)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new sw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new jt(e)}}class xb{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ob{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new xb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nb{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,On(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new mv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Db(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Jo(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-62135596800,yv=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*yv);return new Et(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gv)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Et(0,0))}static max(){return new Ce(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="__name__";class mr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(),r===void 0?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=mr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=mr.isNumericId(e),o=mr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?mr.extractNumericId(e).compare(mr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class Xe extends mr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Xe(t)}static emptyPath(){return new Xe([])}}const Lb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends mr{construct(e,t,r){return new Dt(e,t,r)}static isValidIdentifier(e){return Lb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new Dt([_v])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Xe.fromString(e))}static fromName(e){return new we(Xe.fromString(e).popFirst(5))}static empty(){return new we(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function Vb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new Et(t+1,0):new Et(t,r));return new Bi(o,we.empty(),e)}function Mb(n){return new Bi(n.readTime,n.key,kl)}class Bi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bi(Ce.min(),we.empty(),kl)}static max(){return new Bi(Ce.max(),we.empty(),kl)}}function Fb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==Ub)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},d=>r(d))}),u=!0,a===o&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(o=>o?ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let d=0;d<a;d++){const m=d;t(e[m]).next(_=>{u[m]=_,++h,h===a&&r(u)},_=>o(_))}})}static doWhile(e,t){return new ee((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function jb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function da(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Cf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=-1;function kf(n){return n==null}function af(n){return n===0&&1/n==-1/0}function zb(n){return typeof n=="number"&&Number.isInteger(n)&&!af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="";function Bb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vv(e)),e=qb(n.get(t),e);return vv(e)}function qb(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case aw:t+="";break;default:t+=a}}return t}function vv(n){return n+aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Nt.RED,this.left=o??Nt.EMPTY,this.right=a??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Nt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(e){return new wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new _n([])}unionWith(e){let t=new wt(Dt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uw("Invalid base64 string: "+a):a}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const Hb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(n){if(qe(!!n),typeof n=="string"){let e=0;const t=Hb.exec(n);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hi(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="server_timestamp",fw="__type__",hw="__previous_value__",dw="__local_write_time__";function Pf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[fw])===null||t===void 0?void 0:t.stringValue)===cw}function bf(n){const e=n.mapValue.fields[hw];return Pf(e)?bf(e):e}function Pl(n){const e=qi(n.mapValue.fields[dw].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,r,o,a,u,h,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}}const lf="(default)";class bl{constructor(e,t){this.projectId=e,this.database=t||lf}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="__type__",Kb="__max__",Pc={mapValue:{}},mw="__vector__",uf="value";function Wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pf(n)?4:Qb(n)?9007199254740991:Gb(n)?10:11:Ae()}function Er(n,e){if(n===e)return!0;const t=Wi(n);if(t!==Wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=qi(o.timestampValue),h=qi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Hi(o.bytesValue).isEqual(Hi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ut(o.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ut(o.integerValue)===ut(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ut(o.doubleValue),h=ut(a.doubleValue);return u===h?af(u)===af(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Jo(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Ev(u)!==Ev(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Er(u[d],h[d])))return!1;return!0}(n,e);default:return Ae()}}function xl(n,e){return(n.values||[]).find(t=>Er(t,e))!==void 0}function Zo(n,e){if(n===e)return 0;const t=Wi(n),r=Wi(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ut(a.integerValue||a.doubleValue),d=ut(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return Tv(n.timestampValue,e.timestampValue);case 4:return Tv(Pl(n),Pl(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Hi(a),d=Hi(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const _=Ve(h[m],d[m]);if(_!==0)return _}return Ve(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ve(ut(a.latitude),ut(u.latitude));return h!==0?h:Ve(ut(a.longitude),ut(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Iv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,d,m,_;const E=a.fields||{},T=u.fields||{},S=(h=E[uf])===null||h===void 0?void 0:h.arrayValue,k=(d=T[uf])===null||d===void 0?void 0:d.arrayValue,D=Ve(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((_=k==null?void 0:k.values)===null||_===void 0?void 0:_.length)||0);return D!==0?D:Iv(S,k)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Pc.mapValue&&u===Pc.mapValue)return 0;if(a===Pc.mapValue)return 1;if(u===Pc.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),m=u.fields||{},_=Object.keys(m);d.sort(),_.sort();for(let E=0;E<d.length&&E<_.length;++E){const T=Ve(d[E],_[E]);if(T!==0)return T;const S=Zo(h[d[E]],m[_[E]]);if(S!==0)return S}return Ve(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function Tv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=qi(n),r=qi(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function Iv(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Zo(t[o],r[o]);if(a)return a}return Ve(t.length,r.length)}function ea(n){return dp(n)}function dp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=qi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Hi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=dp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${dp(t.fields[u])}`;return o+"}"}(n.mapValue):Ae()}function Bc(n){switch(Wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(n);return e?16+Bc(e):16;case 5:return 2*n.stringValue.length;case 6:return Hi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Bc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Xi(r.fields,(a,u)=>{o+=a.length+Bc(u)}),o}(n.mapValue);default:throw Ae()}}function cf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pp(n){return!!n&&"integerValue"in n}function om(n){return!!n&&"arrayValue"in n}function Sv(n){return!!n&&"nullValue"in n}function Av(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qc(n){return!!n&&"mapValue"in n}function Gb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pw])===null||t===void 0?void 0:t.stringValue)===mw}function wl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Kb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=Dt.emptyPath(),r={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,o),r={},o=[],t=h.popLast()}u?r[h.lastSegment()]=wl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());qc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Xi(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new un(wl(this.value))}}function gw(n){const e=[];return Xi(n.fields,(t,r)=>{const o=new Dt([t]);if(qc(r)){const a=gw(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,r,o,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zt(e,0,Ce.min(),Ce.min(),Ce.min(),un.empty(),0)}static newFoundDocument(e,t,r,o){return new zt(e,1,t,Ce.min(),r,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ce.min(),Ce.min(),un.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ce.min(),Ce.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.position=e,this.inclusive=t}}function Rv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),t.key):r=Zo(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{}class pt extends yw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Jb(e,t,r):t==="array-contains"?new tx(e,r):t==="in"?new nx(e,r):t==="not-in"?new rx(e,r):t==="array-contains-any"?new ix(e,r):new pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Zb(e,r):new ex(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zo(t,this.value)):t!==null&&Wi(this.value)===Wi(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends yw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new er(e,t)}matches(e){return _w(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _w(n){return n.op==="and"}function vw(n){return Xb(n)&&_w(n)}function Xb(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function mp(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+ea(n.value);if(vw(n))return n.filters.map(e=>mp(e)).join(",");{const e=n.filters.map(t=>mp(t)).join(",");return`${n.op}(${e})`}}function Ew(n,e){return n instanceof pt?function(r,o){return o instanceof pt&&r.op===o.op&&r.field.isEqual(o.field)&&Er(r.value,o.value)}(n,e):n instanceof er?function(r,o){return o instanceof er&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,h)=>a&&Ew(u,o.filters[h]),!0):!1}(n,e):void Ae()}function ww(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${ea(t.value)}`}(n):n instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(ww).join(" ,")+"}"}(n):"Filter"}class Jb extends pt{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zb extends pt{constructor(e,t){super(e,"in",t),this.keys=Tw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ex extends pt{constructor(e,t){super(e,"not-in",t),this.keys=Tw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}class tx extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return om(t)&&xl(t.arrayValue,this.value)}}class nx extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xl(this.value.arrayValue,t)}}class rx extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xl(this.value.arrayValue,t)}}class ix extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!om(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function kv(n,e=null,t=[],r=[],o=null,a=null,u=null){return new sx(n,e,t,r,o,a,u)}function am(n){const e=Pe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),kf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ea(r)).join(",")),e.le=t}return e.le}function lm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ew(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cv(n.startAt,e.startAt)&&Cv(n.endAt,e.endAt)}function gp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t=null,r=[],o=[],a=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ox(n,e,t,r,o,a,u,h){return new $s(n,e,t,r,o,a,u,h)}function um(n){return new $s(n)}function Pv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cm(n){return n.collectionGroup!==null}function Go(n){const e=Pe(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new wt(Dt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ol(a,r))}),t.has(Dt.keyField().canonicalString())||e.he.push(new Ol(Dt.keyField(),r))}return e.he}function _r(n){const e=Pe(n);return e.Pe||(e.Pe=ax(e,Go(n))),e.Pe}function ax(n,e){if(n.limitType==="F")return kv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ol(o.field,a)});const t=n.endAt?new ta(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ta(n.startAt.position,n.startAt.inclusive):null;return kv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yp(n,e){const t=n.filters.concat([e]);return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ff(n,e,t){return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xf(n,e){return lm(_r(n),_r(e))&&n.limitType===e.limitType}function Iw(n){return`${am(_r(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>ww(o)).join(", ")}]`),kf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ea(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ea(o)).join(",")),`Target(${r})`}(_r(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Go(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,h,d){const m=Rv(u,h,d);return u.inclusive?m<=0:m<0}(r.startAt,Go(r),o)||r.endAt&&!function(u,h,d){const m=Rv(u,h,d);return u.inclusive?m>=0:m>0}(r.endAt,Go(r),o))}(n,e)}function lx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Sw(n){return(e,t)=>{let r=!1;for(const o of Go(n)){const a=ux(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function ux(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,u,h){const d=u.data.field(a),m=h.data.field(a);return d!==null&&m!==null?Zo(d,m):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return lw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new st(we.comparator);function Jr(){return cx}const Aw=new st(we.comparator);function yl(...n){let e=Aw;for(const t of n)e=e.insert(t.key,t);return e}function Rw(n){let e=Aw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bs(){return Tl()}function Cw(){return Tl()}function Tl(){return new js(n=>n.toString(),(n,e)=>n.isEqual(e))}const fx=new st(we.comparator),hx=new wt(we.comparator);function De(...n){let e=hx;for(const t of n)e=e.add(t);return e}const dx=new wt(Ve);function px(){return dx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function kw(n){return{integerValue:""+n}}function mx(n,e){return zb(e)?kw(e):fm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function gx(n,e,t){return n instanceof Nl?function(o,a){const u={fields:{[fw]:{stringValue:cw},[dw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Pf(a)&&(a=bf(a)),a&&(u.fields[hw]=a),{mapValue:u}}(t,e):n instanceof Dl?bw(n,e):n instanceof Ll?xw(n,e):function(o,a){const u=Pw(o,a),h=bv(u)+bv(o.Ie);return pp(u)&&pp(o.Ie)?kw(h):fm(o.serializer,h)}(n,e)}function yx(n,e,t){return n instanceof Dl?bw(n,e):n instanceof Ll?xw(n,e):t}function Pw(n,e){return n instanceof hf?function(r){return pp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Nl extends Nf{}class Dl extends Nf{constructor(e){super(),this.elements=e}}function bw(n,e){const t=Ow(e);for(const r of n.elements)t.some(o=>Er(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ll extends Nf{constructor(e){super(),this.elements=e}}function xw(n,e){let t=Ow(e);for(const r of n.elements)t=t.filter(o=>!Er(o,r));return{arrayValue:{values:t}}}class hf extends Nf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function bv(n){return ut(n.integerValue||n.doubleValue)}function Ow(n){return om(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t){this.field=e,this.transform=t}}function vx(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Dl&&o instanceof Dl||r instanceof Ll&&o instanceof Ll?Jo(r.elements,o.elements,Er):r instanceof hf&&o instanceof hf?Er(r.Ie,o.Ie):r instanceof Nl&&o instanceof Nl}(n.transform,e.transform)}class Ex{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Df{}function Nw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hm(n.key,Jn.none()):new Xl(n.key,n.data,Jn.none());{const t=n.data,r=un.empty();let o=new wt(Dt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Ji(n.key,r,new _n(o.toArray()),Jn.none())}}function wx(n,e,t){n instanceof Xl?function(o,a,u){const h=o.value.clone(),d=Ov(o.fieldTransforms,a,u.transformResults);h.setAll(d),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ji?function(o,a,u){if(!Hc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Ov(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(Dw(o)),d.setAll(h),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Il(n,e,t,r){return n instanceof Xl?function(a,u,h,d){if(!Hc(a.precondition,u))return h;const m=a.value.clone(),_=Nv(a.fieldTransforms,d,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ji?function(a,u,h,d){if(!Hc(a.precondition,u))return h;const m=Nv(a.fieldTransforms,d,u),_=u.data;return _.setAll(Dw(a)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(a,u,h){return Hc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Tx(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=Pw(r.transform,o||null);a!=null&&(t===null&&(t=un.empty()),t.set(r.field,a))}return t||null}function xv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Jo(r,o,(a,u)=>vx(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xl extends Df{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends Df{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Dw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ov(n,e,t){const r=new Map;qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,yx(u,h,t[o]))}return r}function Nv(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,gx(a,u,e))}return r}class hm extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&wx(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Il(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Il(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Cw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const d=Nw(u,h);d!==null&&r.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(t,r)=>xv(t,r))&&Jo(this.baseMutations,e.baseMutations,(t,r)=>xv(t,r))}}class dm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){qe(e.mutations.length===r.length);let o=function(){return fx}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new dm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Fe;function Cx(n){switch(n){case J.OK:return Ae();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae()}}function Lw(n){if(n===void 0)return Xr("GRPC error has no .code"),J.UNKNOWN;switch(n){case dt.OK:return J.OK;case dt.CANCELLED:return J.CANCELLED;case dt.UNKNOWN:return J.UNKNOWN;case dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case dt.INTERNAL:return J.INTERNAL;case dt.UNAVAILABLE:return J.UNAVAILABLE;case dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case dt.NOT_FOUND:return J.NOT_FOUND;case dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case dt.ABORTED:return J.ABORTED;case dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case dt.DATA_LOSS:return J.DATA_LOSS;default:return Ae()}}(Fe=dt||(dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Ui([4294967295,4294967295],0);function Dv(n){const e=kx().encode(n),t=new ZE;return t.update(e),new Uint8Array(t.digest())}function Lv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ui([t,r],0),new Ui([o,a],0)]}class pm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _l(`Invalid padding: ${t}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _l(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ui.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(Ui.fromNumber(r)));return o.compare(Px)===1&&(o=new Ui([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Dv(e),[r,o]=Lv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new pm(a,o,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=Dv(e),[r,o]=Lv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lf(Ce.min(),o,new st(Ve),Jr(),De())}}class Jl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jl(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class Vw{constructor(e,t){this.targetId=e,this.ge=t}}class Mw{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Vv{constructor(){this.pe=0,this.ye=Mv(),this.we=Lt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=De(),t=De(),r=De();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ae()}}),new Jl(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Mv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class bx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Jr(),this.$e=bc(),this.Ke=bc(),this.Ue=new st(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(gp(a))if(r===0){const u=new we(a.path);this.ze(t,u,zt.newNoDocument(u,Ce.min()))}else qe(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Hi(r).toUint8Array()}catch(d){if(d instanceof uw)return Xo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new pm(u,o,a)}catch(d){return Xo(d instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&gp(h.target)){const d=new we(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,zt.newNoDocument(d,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=De();this.Ke.forEach((a,u)=>{let h=!0;u.forEachWhile(d=>{const m=this.Xe(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Lf(e,t,this.Ue,this.Qe,r);return this.Qe=Jr(),this.$e=bc(),this.Ke=bc(),this.Ue=new st(Ve),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Vv,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new wt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new wt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Vv),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function bc(){return new st(we.comparator)}function Mv(){return new st(we.comparator)}const xx={asc:"ASCENDING",desc:"DESCENDING"},Ox={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nx={and:"AND",or:"OR"};class Dx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _p(n,e){return n.useProto3Json||kf(e)?e:{value:e}}function df(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lx(n,e){return df(n,e.toTimestamp())}function vr(n){return qe(!!n),Ce.fromTimestamp(function(t){const r=qi(t);return new Et(r.seconds,r.nanos)}(n))}function mm(n,e){return vp(n,e).canonicalString()}function vp(n,e){const t=function(o){return new Xe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Uw(n){const e=Xe.fromString(n);return qe(qw(e)),e}function Ep(n,e){return mm(n.databaseId,e.path)}function Kd(n,e){const t=Uw(e);if(t.get(1)!==n.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(jw(t))}function $w(n,e){return mm(n.databaseId,e)}function Vx(n){const e=Uw(n);return e.length===4?Xe.emptyPath():jw(e)}function wp(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jw(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Fv(n,e,t){return{name:Ep(n,e),fields:t.value.mapValue.fields}}function Mx(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(qe(_===void 0||typeof _=="string"),Lt.fromBase64String(_||"")):(qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Lt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const _=m.code===void 0?J.UNKNOWN:Lw(m.code);return new he(_,m.message||"")}(u);t=new Mw(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Kd(n,r.document.name),a=vr(r.document.updateTime),u=r.document.createTime?vr(r.document.createTime):Ce.min(),h=new un({mapValue:{fields:r.document.fields}}),d=zt.newFoundDocument(o,a,u,h),m=r.targetIds||[],_=r.removedTargetIds||[];t=new Wc(m,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Kd(n,r.document),a=r.readTime?vr(r.readTime):Ce.min(),u=zt.newNoDocument(o,a),h=r.removedTargetIds||[];t=new Wc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Kd(n,r.document),a=r.removedTargetIds||[];t=new Wc([],a,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new Rx(o,a),h=r.targetId;t=new Vw(h,u)}}return t}function Fx(n,e){let t;if(e instanceof Xl)t={update:Fv(n,e.key,e.value)};else if(e instanceof hm)t={delete:Ep(n,e.key)};else if(e instanceof Ji)t={update:Fv(n,e.key,e.data),updateMask:Kx(e.fieldMask)};else{if(!(e instanceof Ix))return Ae();t={verify:Ep(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof Nl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Dl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ll)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hf)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Lx(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(n,e.precondition)),t}function Ux(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?vr(o.updateTime):vr(a);return u.isEqual(Ce.min())&&(u=vr(a)),new Ex(u,o.transformResults||[])}(t,e))):[]}function $x(n,e){return{documents:[$w(n,e.path)]}}function jx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$w(n,o);const a=function(m){if(m.length!==0)return Bw(er.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:$o(T.field),direction:qx(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=_p(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function zx(n){let e=Vx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){qe(r===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const T=zw(E);return T instanceof er&&vw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(T=>function(k){return new Ol(jo(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,kf(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(E){const T=!!E.before,S=E.values||[];return new ta(S,T)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const T=!E.before,S=E.values||[];return new ta(S,T)}(t.endAt)),ox(e,o,u,a,h,"F",d,m)}function Bx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=jo(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=jo(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jo(t.unaryFilter.field);return pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=jo(t.unaryFilter.field);return pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(jo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(r=>zw(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function qx(n){return xx[n]}function Hx(n){return Ox[n]}function Wx(n){return Nx[n]}function $o(n){return{fieldPath:n.canonicalString()}}function jo(n){return Dt.fromServerFormat(n.fieldPath)}function Bw(n){return n instanceof pt?function(t){if(t.op==="=="){if(Av(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NAN"}};if(Sv(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Av(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NAN"}};if(Sv(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(t.field),op:Hx(t.op),value:t.value}}}(n):n instanceof er?function(t){const r=t.getFilters().map(o=>Bw(o));return r.length===1?r[0]:{compositeFilter:{op:Wx(t.op),filters:r}}}(n):Ae()}function Kx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t,r,o,a=Ce.min(),u=Ce.min(),h=Lt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.Tt=e}}function Qx(n){const e=zx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.Tn=new Xx}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Bi.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class Xx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new wt(Xe.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new wt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hw=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Hw,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new na(0)}static Un(){return new na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="LruGarbageCollector",Jx=1048576;function jv([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class Zx{constructor(e){this.Hn=e,this.buffer=new wt(jv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe($v,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){da(t)?pe($v,"Ignoring IndexedDB error during garbage collection: ",t):await ha(t)}await this.er(3e5)})}}class tO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Cf.ae);const r=new Zx(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Uv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,a,u,h,d,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,t))).next(E=>(a=E,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(m=Date.now(),Fo()<=Ne.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(d-h)+`ms
	Removed ${E} documents in `+(m-d)+`ms
Total Duration: ${m-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function nO(n,e){return new tO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Il(r.mutation,o,_n.empty(),Et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){const o=bs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=yl();return a.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=bs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,o){let a=Jr();const u=Tl(),h=function(){return Tl()}();return t.forEach((d,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Ji)?a=a.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),Il(_.mutation,m,_.mutation.getFieldMask(),Et.now())):u.set(m.key,_n.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var E;return h.set(m,new iO(_,(E=u.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Tl();let o=new st((u,h)=>u-h),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let _=r.get(d)||_n.empty();_=h.applyToLocalView(m,_),r.set(d,_);const E=(o.get(h.batchId)||De()).add(d);o=o.insert(h.batchId,E)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,_=d.value,E=Cw();_.forEach(T=>{if(!a.has(T)){const S=Nw(t.get(T),r.get(T));S!==null&&E.set(T,S),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ee.resolve(bs());let h=kl,d=a;return u.next(m=>ee.forEach(m,(_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{d=d.insert(_,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,d,m,De())).next(_=>({batchId:h,changes:Rw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let o=yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=yl();return this.indexManager.getCollectionParents(e,a).next(h=>ee.forEach(h,d=>{const m=function(E,T){return new $s(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(_=>{_.forEach((E,T)=>{u=u.insert(E,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((d,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,zt.newInvalidDocument(_)))});let h=yl();return u.forEach((d,m)=>{const _=a.get(d);_!==void 0&&Il(_.mutation,m,_n.empty(),Et.now()),Of(t,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:Qx(o.bundledQuery),readTime:vr(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.overlays=new st(we.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bs();return ee.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Et(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const o=bs(),a=t.length+1,u=new we(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&d.largestBatchId>r&&o.set(d.getKey(),d)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new st((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=a.get(m.largestBatchId);_===null&&(_=bs(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=bs(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=o)););return ee.resolve(h)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ax(t,r));let a=this.Rr.get(t);a===void 0&&(a=De(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Vr=new wt(Ct.mr),this.gr=new wt(Ct.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ct(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ct(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new we(new Xe([])),r=new Ct(t,e),o=new Ct(t,e+1),a=[];return this.gr.forEachInRange([r,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new we(new Xe([])),r=new Ct(t,e),o=new Ct(t,e+1);let a=De();return this.gr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ct(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return we.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Ct.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Sx(a,t,r,o);this.mutationQueue.push(u);for(const h of o)this.Mr=this.Mr.add(new Ct(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?sm:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,o],u=>{const h=this.Or(u.Cr);a.push(h)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ve);return t.forEach(o=>{const a=new Ct(o,0),u=new Ct(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{r=r.add(h.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const u=new Ct(new we(a),0);let h=new wt(Ve);return this.Mr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(d.Cr)),!0)},u),ee.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(t.mutations,o=>{const a=new Ct(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ct(t,0),o=this.Mr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.kr=e,this.docs=function(){return new st(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let r=Jr();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():zt.newInvalidDocument(o))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Jr();const u=t.path,h=new we(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:_}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Fb(Mb(_),r)<=0||(o.has(_.key)||Of(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ae()}qr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fO(this)}getSize(e){return ee.resolve(this.size)}}class fO extends rO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.persistence=e,this.Qr=new js(t=>am(t),lm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gm,this.targetCount=0,this.Ur=na.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new na(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ee.waitFor(a).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Cf(0),this.zr=!1,this.zr=!0,this.jr=new lO,this.referenceDelegate=e(this),this.Hr=new hO(this),this.indexManager=new Yx,this.remoteDocumentCache=function(o){return new cO(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Gx(t),this.Yr=new oO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new uO(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const o=new dO(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class dO extends $b{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.ti=new gm,this.ni=null}static ri(e){return new ym(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const o=we.fromPath(r);return this.si(e,o).next(a=>{a||t.removeEntry(o,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class pf{constructor(e,t){this.persistence=e,this.oi=new js(r=>Bb(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=nO(this,t)}static ri(e,t){return new pf(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(a=>a?ee.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bc(e.data.value)),t}ar(e,t,r){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=De(),o=De();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new _m(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zC()?8:jb(Bt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new pO;return this._s(e,t,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>a.result)}us(e,t,r,o){return r.documentReadCount<this.es?(Fo()<=Ne.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Fo()<=Ne.DEBUG&&pe("QueryEngine","Query:",Uo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Fo()<=Ne.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):ee.resolve())}rs(e,t){if(Pv(t))return ee.resolve(null);let r=_r(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ff(t,null,"F"),r=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.cs(t,h);return this.ls(t,m,u,d.readTime)?this.rs(e,ff(t,null,"F")):this.hs(e,m,t,d)}))})))}ss(e,t,r,o){return Pv(t)||o.isEqual(Ce.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,o)?ee.resolve(null):(Fo()<=Ne.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.hs(e,u,t,Vb(o,kl)).next(h=>h))})}cs(e,t){let r=new wt(Sw(e));return t.forEach((o,a)=>{Of(e,a)&&(r=r.add(a))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,r){return Fo()<=Ne.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.ns.getDocumentsMatchingQuery(e,t,Bi.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="LocalStore",gO=3e8;class yO{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new st(Ve),this.Is=new js(a=>am(a),lm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function _O(n,e,t,r){return new yO(n,e,t,r)}async function Kw(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let d=De();for(const m of o){u.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}for(const m of a){h.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(r,d).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function vO(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,m,_){const E=m.batch,T=E.keys();let S=ee.resolve();return T.forEach(k=>{S=S.next(()=>_.getEntry(d,k)).next(D=>{const x=m.docVersions.get(k);qe(x!==null),D.version.compareTo(x)<0&&(E.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),_.addEntry(D)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(d,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=De();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Gw(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function EO(n,e){const t=Pe(n),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((_,E)=>{const T=o.get(E);if(!T)return;h.push(t.Hr.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(a,_.addedDocuments,E)));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(Lt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,r)),o=o.insert(E,S),function(D,x,L){return D.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=gO?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(T,S,_)&&h.push(t.Hr.updateTargetData(a,S))});let d=Jr(),m=De();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(wO(a,u,e.documentUpdates).next(_=>{d=_.Vs,m=_.fs})),!r.isEqual(Ce.min())){const _=t.Hr.getLastRemoteSnapshotVersion(a).next(E=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(_)}return ee.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,m)).next(()=>d)}).then(a=>(t.Ts=o,a))}function wO(n,e,t){let r=De(),o=De();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Jr();return t.forEach((h,d)=>{const m=a.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(vm,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Vs:u,fs:o}})}function TO(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IO(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(a=>a?(o=a,ee.resolve(o)):t.Hr.allocateTargetId(r).next(u=>(o=new Li(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Tp(n,e,t){const r=Pe(n),o=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!da(u))throw u;pe(vm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function zv(n,e,t){const r=Pe(n);let o=Ce.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,_){const E=Pe(d),T=E.Is.get(_);return T!==void 0?ee.resolve(E.Ts.get(T)):E.Hr.getTargetData(m,_)}(r,u,_r(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?a:De())).next(h=>(SO(r,lx(e),h),{documents:h,gs:a})))}function SO(n,e,t){let r=n.Es.get(e)||Ce.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class Bv{constructor(){this.activeTargetIds=px()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AO{constructor(){this.ho=new Bv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Bv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="ConnectivityMonitor";class Hv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(qv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(qv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function Ip(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",CO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===lf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,a){const u=Ip(),h=this.bo(e,t.toUriEncodedString());pe(Gd,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,o,a),this.vo(e,h,d,r).then(m=>(pe(Gd,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Xo(Gd,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",r),m})}Co(e,t,r,o,a,u){return this.So(e,t,r,o,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const r=CO[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class bO extends kO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const a=Ip();return new Promise((u,h)=>{const d=new ew;d.setWithCredentials(!0),d.listenOnce(tw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case zc.NO_ERROR:const _=d.getResponseJson();pe($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case zc.TIMEOUT:pe($t,`RPC '${e}' ${a} timed out`),h(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const E=d.getStatus();if(pe($t,`RPC '${e}' ${a} failed with status:`,E,"response text:",d.getResponseText()),E>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const k=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(L)>=0?L:J.UNKNOWN}(S.status);h(new he(k,S.message))}else h(new he(J.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new he(J.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{pe($t,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);pe($t,`RPC '${e}' ${a} sending request:`,o),d.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=Ip(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iw(),h=rw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const _=a.join("");pe($t,`Creating RPC '${e}' stream ${o}: ${_}`,d);const E=u.createWebChannel(_,d);let T=!1,S=!1;const k=new PO({Fo:x=>{S?pe($t,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(T||(pe($t,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),pe($t,`RPC '${e}' stream ${o} sending:`,x),E.send(x))},Mo:()=>E.close()}),D=(x,L,z)=>{x.listen(L,j=>{try{z(j)}catch(Y){setTimeout(()=>{throw Y},0)}})};return D(E,gl.EventType.OPEN,()=>{S||(pe($t,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),D(E,gl.EventType.CLOSE,()=>{S||(S=!0,pe($t,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),D(E,gl.EventType.ERROR,x=>{S||(S=!0,Xo($t,`RPC '${e}' stream ${o} transport errored:`,x),k.Ko(new he(J.UNAVAILABLE,"The operation could not be completed")))}),D(E,gl.EventType.MESSAGE,x=>{var L;if(!S){const z=x.data[0];qe(!!z);const j=z,Y=(j==null?void 0:j.error)||((L=j[0])===null||L===void 0?void 0:L.error);if(Y){pe($t,`RPC '${e}' stream ${o} received error:`,Y);const le=Y.status;let oe=function(C){const V=dt[C];if(V!==void 0)return Lw(V)}(le),O=Y.message;oe===void 0&&(oe=J.INTERNAL,O="Unknown error status: "+le+" with message "+Y.message),S=!0,k.Ko(new he(oe,O)),E.close()}else pe($t,`RPC '${e}' stream ${o} received:`,z),k.Uo(z)}}),D(h,nw.STAT_EVENT,x=>{x.stat===hp.PROXY?pe($t,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===hp.NOPROXY&&pe($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n){return new Dx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class Yw{constructor(e,t,r,o,a,u,h,d){this.Ti=e,this.n_=r,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Qw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(Wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xO extends Yw{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Mx(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?vr(u.readTime):Ce.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=wp(this.serializer),t.addTarget=function(a,u){let h;const d=u.target;if(h=gp(d)?{documents:$x(a,d)}:{query:jx(a,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Fw(a,u.resumeToken);const m=_p(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=df(a,u.snapshotVersion.toTimestamp());const m=_p(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=Bx(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=wp(this.serializer),t.removeTarget=e,this.I_(t)}}class OO extends Yw{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Ux(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=wp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Fx(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{}class DO extends NO{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,vp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(J.UNKNOWN,a.toString())})}Co(e,t,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,vp(t,r),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class LO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xr(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class VO{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{zs(this)&&(pe(Fs,"Restarting streams for network reachability change."),await async function(d){const m=Pe(d);m.W_.add(4),await Zl(m),m.j_.set("Unknown"),m.W_.delete(4),await Mf(m)}(this))})}),this.j_=new LO(r,o)}}async function Mf(n){if(zs(n))for(const e of n.G_)await e(!0)}async function Zl(n){for(const e of n.G_)await e(!1)}function Xw(n,e){const t=Pe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Im(t)?Tm(t):pa(t).c_()&&wm(t,e))}function Em(n,e){const t=Pe(n),r=pa(t);t.U_.delete(e),r.c_()&&Jw(t,e),t.U_.size===0&&(r.c_()?r.P_():zs(t)&&t.j_.set("Unknown"))}function wm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pa(n).y_(e)}function Jw(n,e){n.H_.Ne(e),pa(n).w_(e)}function Tm(n){n.H_=new bx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),pa(n).start(),n.j_.B_()}function Im(n){return zs(n)&&!pa(n).u_()&&n.U_.size>0}function zs(n){return Pe(n).W_.size===0}function Zw(n){n.H_=void 0}async function MO(n){n.j_.set("Online")}async function FO(n){n.U_.forEach((e,t)=>{wm(n,e)})}async function UO(n,e){Zw(n),Im(n)?(n.j_.q_(e),Tm(n)):n.j_.set("Unknown")}async function $O(n,e,t){if(n.j_.set("Online"),e instanceof Mw&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.U_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.U_.delete(h),o.H_.removeTarget(h))}(n,e)}catch(r){pe(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mf(n,r)}else if(e instanceof Wc?n.H_.We(e):e instanceof Vw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const r=await Gw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const _=a.U_.get(m);_&&a.U_.set(m,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const _=a.U_.get(d);if(!_)return;a.U_.set(d,_.withResumeToken(Lt.EMPTY_BYTE_STRING,_.snapshotVersion)),Jw(a,d);const E=new Li(_.target,d,m,_.sequenceNumber);wm(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(Fs,"Failed to raise snapshot:",r),await mf(n,r)}}async function mf(n,e,t){if(!da(e))throw e;n.W_.add(1),await Zl(n),n.j_.set("Offline"),t||(t=()=>Gw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Fs,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Mf(n)})}function eT(n,e){return e().catch(t=>mf(n,t,e))}async function Ff(n){const e=Pe(n),t=Ki(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:sm;for(;jO(e);)try{const o=await TO(e.localStore,r);if(o===null){e.K_.length===0&&t.P_();break}r=o.batchId,zO(e,o)}catch(o){await mf(e,o)}tT(e)&&nT(e)}function jO(n){return zs(n)&&n.K_.length<10}function zO(n,e){n.K_.push(e);const t=Ki(n);t.c_()&&t.S_&&t.b_(e.mutations)}function tT(n){return zs(n)&&!Ki(n).u_()&&n.K_.length>0}function nT(n){Ki(n).start()}async function BO(n){Ki(n).C_()}async function qO(n){const e=Ki(n);for(const t of n.K_)e.b_(t.mutations)}async function HO(n,e,t){const r=n.K_.shift(),o=dm.from(r,e,t);await eT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ff(n)}async function WO(n,e){e&&Ki(n).S_&&await async function(r,o){if(function(u){return Cx(u)&&u!==J.ABORTED}(o.code)){const a=r.K_.shift();Ki(r).h_(),await eT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ff(r)}}(n,e),tT(n)&&nT(n)}async function Kv(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),pe(Fs,"RemoteStore received new credentials");const r=zs(t);t.W_.add(3),await Zl(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Mf(t)}async function KO(n,e){const t=Pe(n);e?(t.W_.delete(2),await Mf(t)):e||(t.W_.add(2),await Zl(t),t.j_.set("Unknown"))}function pa(n){return n.J_||(n.J_=function(t,r,o){const a=Pe(t);return a.M_(),new xO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:MO.bind(null,n),No:FO.bind(null,n),Lo:UO.bind(null,n),p_:$O.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Im(n)?Tm(n):n.j_.set("Unknown")):(await n.J_.stop(),Zw(n))})),n.J_}function Ki(n){return n.Y_||(n.Y_=function(t,r,o){const a=Pe(t);return a.M_(),new OO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:BO.bind(null,n),Lo:WO.bind(null,n),D_:qO.bind(null,n),v_:HO.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ff(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(Fs,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,h=new Sm(e,t,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),da(n))return new he(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=yl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.Z_=new st(we.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ra{constructor(e,t,r,o,a,u,h,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ra(e,t,Qo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class QO{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=Pe(t),a=o.queries;o.queries=Qv(),a.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function Qv(){return new js(n=>Iw(n),xf)}async function YO(n,e){const t=Pe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(r=2):(a=new GO,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Am(u,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Rm(t)}async function XO(n,e){const t=Pe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function JO(n,e){const t=Pe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.ta)h.oa(o)&&(r=!0);u.ea=o}}r&&Rm(t)}function ZO(n,e,t){const r=Pe(n),o=r.queries.get(e);if(o)for(const a of o.ta)a.onError(t);r.queries.delete(e)}function Rm(n){n.ia.forEach(e=>{e.next()})}var Sp,Yv;(Yv=Sp||(Sp={}))._a="default",Yv.Cache="cache";class eN{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.key=e}}class iT{constructor(e){this.key=e}}class tN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=Sw(e),this.wa=new Qo(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new Gv,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const T=o.get(_),S=Of(this.query,E)?E:null,k=!!T&&this.mutatedKeys.has(T.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;T&&S?T.data.isEqual(S.data)?k!==D&&(r.track({type:3,doc:S}),x=!0):this.va(T,S)||(r.track({type:2,doc:S}),x=!0,(d&&this.ya(S,d)>0||m&&this.ya(S,m)<0)&&(h=!0)):!T&&S?(r.track({type:0,doc:S}),x=!0):T&&!S&&(r.track({type:1,doc:T}),x=!0,(d||m)&&(h=!0)),x&&(S?(u=u.add(S),a=D?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{wa:u,Da:r,ls:h,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,E)=>function(S,k){const D=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return D(S)-D(k)}(_.type,E.type)||this.ya(_.doc,E.doc)),this.Ca(r),o=o!=null&&o;const h=t&&!o?this.Fa():[],d=this.pa.size===0&&this.current&&!o?1:0,m=d!==this.ga;return this.ga=d,u.length!==0||m?{snapshot:new ra(this.query,e.wa,a,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=De(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new iT(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new rT(r))}),t}Oa(e){this.fa=e.gs,this.pa=De();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ra.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cm="SyncEngine";class nN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rN{constructor(e){this.key=e,this.Ba=!1}}class iN{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new js(h=>Iw(h),xf),this.qa=new Map,this.Qa=new Set,this.$a=new st(we.comparator),this.Ka=new Map,this.Ua=new gm,this.Wa={},this.Ga=new Map,this.za=na.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sN(n,e,t=!0){const r=cT(n);let o;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await sT(r,e,t,!0),o}async function oN(n,e){const t=cT(n);await sT(t,e,!0,!1)}async function sT(n,e,t,r){const o=await IO(n.localStore,_r(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await aN(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&Xw(n.remoteStore,o),h}async function aN(n,e,t,r,o){n.Ha=(E,T,S)=>async function(D,x,L,z){let j=x.view.ba(L);j.ls&&(j=await zv(D.localStore,x.query,!1).then(({documents:O})=>x.view.ba(O,j)));const Y=z&&z.targetChanges.get(x.targetId),le=z&&z.targetMismatches.get(x.targetId)!=null,oe=x.view.applyChanges(j,D.isPrimaryClient,Y,le);return Jv(D,x.targetId,oe.Ma),oe.snapshot}(n,E,T,S);const a=await zv(n.localStore,e,!0),u=new tN(e,a.gs),h=u.ba(a.documents),d=Jl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,d);Jv(n,t,m.Ma);const _=new nN(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function lN(n,e,t){const r=Pe(n),o=r.ka.get(e),a=r.qa.get(o.targetId);if(a.length>1)return r.qa.set(o.targetId,a.filter(u=>!xf(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Em(r.remoteStore,o.targetId),Ap(r,o.targetId)}).catch(ha)):(Ap(r,o.targetId),await Tp(r.localStore,o.targetId,!0))}async function uN(n,e){const t=Pe(n),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Em(t.remoteStore,r.targetId))}async function cN(n,e,t){const r=yN(n);try{const o=await function(u,h){const d=Pe(u),m=Et.now(),_=h.reduce((S,k)=>S.add(k.key),De());let E,T;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let k=Jr(),D=De();return d.ds.getEntries(S,_).next(x=>{k=x,k.forEach((L,z)=>{z.isValidDocument()||(D=D.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,k)).next(x=>{E=x;const L=[];for(const z of h){const j=Tx(z,E.get(z.key).overlayedDocument);j!=null&&L.push(new Ji(z.key,j,gw(j.value.mapValue),Jn.exists(!0)))}return d.mutationQueue.addMutationBatch(S,m,L,h)}).next(x=>{T=x;const L=x.applyToLocalDocumentSet(E,D);return d.documentOverlayCache.saveOverlays(S,x.batchId,L)})}).then(()=>({batchId:T.batchId,changes:Rw(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,d){let m=u.Wa[u.currentUser.toKey()];m||(m=new st(Ve)),m=m.insert(h,d),u.Wa[u.currentUser.toKey()]=m}(r,o.batchId,t),await eu(r,o.changes),await Ff(r.remoteStore)}catch(o){const a=Am(o,"Failed to persist write");t.reject(a)}}async function oT(n,e){const t=Pe(n);try{const r=await EO(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ka.get(a);u&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?qe(u.Ba):o.removedDocuments.size>0&&(qe(u.Ba),u.Ba=!1))}),await eu(t,r,e)}catch(r){await ha(r)}}function Xv(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const d=Pe(u);d.onlineState=h;let m=!1;d.queries.forEach((_,E)=>{for(const T of E.ta)T.sa(h)&&(m=!0)}),m&&Rm(d)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fN(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ka.get(e),a=o&&o.key;if(a){let u=new st(we.comparator);u=u.insert(a,zt.newNoDocument(a,Ce.min()));const h=De().add(a),d=new Lf(Ce.min(),new Map,new st(Ve),u,h);await oT(r,d),r.$a=r.$a.remove(a),r.Ka.delete(e),km(r)}else await Tp(r.localStore,e,!1).then(()=>Ap(r,e,t)).catch(ha)}async function hN(n,e){const t=Pe(n),r=e.batch.batchId;try{const o=await vO(t.localStore,e);lT(t,r,null),aT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await eu(t,o)}catch(o){await ha(o)}}async function dN(n,e,t){const r=Pe(n);try{const o=await function(u,h){const d=Pe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return d.mutationQueue.lookupMutationBatch(m,h).next(E=>(qe(E!==null),_=E.keys(),d.mutationQueue.removeMutationBatch(m,E))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>d.localDocuments.getDocuments(m,_))})}(r.localStore,e);lT(r,e,t),aT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await eu(r,o)}catch(o){await ha(o)}}function aT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function lT(n,e,t){const r=Pe(n);let o=r.Wa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function Ap(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||uT(n,r)})}function uT(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Em(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),km(n))}function Jv(n,e,t){for(const r of t)r instanceof rT?(n.Ua.addReference(r.key,e),pN(n,r)):r instanceof iT?(pe(Cm,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||uT(n,r.key)):Ae()}function pN(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(Cm,"New document in limbo: "+t),n.Qa.add(r),km(n))}function km(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new we(Xe.fromString(e)),r=n.za.next();n.Ka.set(r,new rN(t)),n.$a=n.$a.insert(t,r),Xw(n.remoteStore,new Li(_r(um(t.path)),r,"TargetPurposeLimboResolution",Cf.ae))}}async function eu(n,e,t){const r=Pe(n),o=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(m=>{var _;if((m||t)&&r.isPrimaryClient){const E=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(d.targetId,E?"current":"not-current")}if(m){o.push(m);const E=_m.Yi(d.targetId,m);a.push(E)}}))}),await Promise.all(u),r.La.p_(o),await async function(d,m){const _=Pe(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ee.forEach(m,T=>ee.forEach(T.Hi,S=>_.persistence.referenceDelegate.addReference(E,T.targetId,S)).next(()=>ee.forEach(T.Ji,S=>_.persistence.referenceDelegate.removeReference(E,T.targetId,S)))))}catch(E){if(!da(E))throw E;pe(vm,"Failed to update sequence numbers: "+E)}for(const E of m){const T=E.targetId;if(!E.fromCache){const S=_.Ts.get(T),k=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(k);_.Ts=_.Ts.insert(T,D)}}}(r.localStore,a))}async function mN(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){pe(Cm,"User change. New user:",e.toKey());const r=await Kw(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(d=>{d.reject(new he(J.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(t,r.Rs)}}function gN(n,e){const t=Pe(n),r=t.Ka.get(e);if(r&&r.Ba)return De().add(r.key);{let o=De();const a=t.qa.get(e);if(!a)return o;for(const u of a){const h=t.ka.get(u);o=o.unionWith(h.view.Sa)}return o}}function cT(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fN.bind(null,e),e.La.p_=JO.bind(null,e.eventManager),e.La.Ja=ZO.bind(null,e.eventManager),e}function yN(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dN.bind(null,e),e}class gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return _O(this.persistence,new mO,e.initialUser,this.serializer)}Xa(e){return new Ww(ym.ri,this.serializer)}Za(e){return new AO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gf.provider={build:()=>new gf};class _N extends gf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){qe(this.persistence.referenceDelegate instanceof pf);const r=this.persistence.referenceDelegate.garbageCollector;return new eO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Ww(r=>pf.ri(r,t),this.serializer)}}class Rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mN.bind(null,this.syncEngine),await KO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QO}()}createDatastore(e){const t=Vf(e.databaseInfo.databaseId),r=function(a){return new bO(a)}(e.databaseInfo);return function(a,u,h,d){return new DO(a,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,h){return new VO(r,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Xv(this.syncEngine,t,0),function(){return Hv.D()?new Hv:new RO}())}createSyncEngine(e,t){return function(o,a,u,h,d,m,_){const E=new iN(o,a,u,h,d,m);return _&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Pe(o);pe(Fs,"RemoteStore shutting down."),a.W_.add(5),await Zl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="FirestoreClient";class EN{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=ow.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{pe(Gi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(Gi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Am(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yd(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Gi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Kw(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Zv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await wN(n);pe(Gi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Kv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Kv(e.remoteStore,o)),n._onlineComponents=e}async function wN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Gi,"Using user provided OfflineComponentProvider");try{await Yd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await Yd(n,new gf)}}else pe(Gi,"Using default OfflineComponentProvider"),await Yd(n,new _N(void 0));return n._offlineComponents}async function fT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Gi,"Using user provided OnlineComponentProvider"),await Zv(n,n._uninitializedComponentsProvider._online)):(pe(Gi,"Using default OnlineComponentProvider"),await Zv(n,new Rp))),n._onlineComponents}function TN(n){return fT(n).then(e=>e.syncEngine)}async function e0(n){const e=await fT(n),t=e.eventManager;return t.onListen=sN.bind(null,e.syncEngine),t.onUnlisten=lN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uN.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IN(n,e,t,r){if(e===!0&&r===!0)throw new he(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n0(n){if(!we.isDocumentKey(n))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r0(n){if(we.isDocumentKey(n))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function $i(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uf(n);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function SN(n,e){if(e<=0)throw new he(J.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firestore.googleapis.com",i0=!0;class s0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pT,this.ssl=i0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jx)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kb;switch(r.type){case"firstParty":return new Ob(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=t0.get(t);r&&(pe("ComponentProvider","Removing Datastore"),t0.delete(t),r.terminate())}(this),Promise.resolve()}}function AN(n,e,t,r={}){var o;const a=(n=$i(n,$f))._getSettings(),u=`${e}:${t}`;if(a.host!==pT&&a.host!==u&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=jt.MOCK_USER;else{h=LC(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new jt(m)}n._authCredentials=new Pb(new sw(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ji extends ni{constructor(e,t,r){super(e,t,um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new we(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function Pm(n,e,...t){if(n=ct(n),dT("collection","path",e),n instanceof $f){const r=Xe.fromString(e,...t);return r0(r),new ji(n,null,r)}{if(!(n instanceof cn||n instanceof ji))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return r0(r),new ji(n.firestore,null,r)}}function RN(n,e,...t){if(n=ct(n),arguments.length===1&&(e=ow.newId()),dT("doc","path",e),n instanceof $f){const r=Xe.fromString(e,...t);return n0(r),new cn(n,null,new we(r))}{if(!(n instanceof cn||n instanceof ji))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return n0(r),new cn(n.firestore,n instanceof ji?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="AsyncQueue";class a0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Qw(this,"async_queue_retry"),this.Su=()=>{const r=Qd();r&&pe(o0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Qd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Qd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!da(e))throw e;pe(o0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Xr("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Sm.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function l0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ia extends $f{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new a0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a0(e),this._firestoreClient=void 0,await e}}}function CN(n,e){const t=typeof n=="object"?n:pE(),r=typeof n=="string"?n:lf,o=Hp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=NC("firestore");a&&AN(o,...a)}return o}function mT(n){if(n._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kN(n),n._firestoreClient}function kN(n){var e,t,r;const o=n._freezeSettings(),a=function(h,d,m,_){return new Wb(h,d,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,hT(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new EN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(Lt.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sa(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=/^__.*__$/;class bN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}class gT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Om{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(yT(this.Lu)&&PN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vf(e)}ju(e,t,r,o=!1){return new Om({Lu:e,methodName:t,zu:r,path:Dt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(n){const e=n._freezeSettings(),t=Vf(n._databaseId);return new xN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ON(n,e,t,r,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Dm("Data must be an object, but it was:",u,r);const h=vT(r,u);let d,m;if(a.merge)d=new _n(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const T=Cp(e,E,t);if(!u.contains(T))throw new he(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);wT(_,T)||_.push(T)}d=new _n(_),m=u.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,m=u.fieldTransforms;return new bN(new un(h),d,m)}class qf extends zf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}class Nm extends zf{_toFieldTransform(e){return new _x(e.path,new Nl)}isEqual(e){return e instanceof Nm}}function NN(n,e,t,r){const o=n.ju(1,e,t);Dm("Data must be an object, but it was:",o,r);const a=[],u=un.empty();Xi(r,(d,m)=>{const _=Lm(e,d,t);m=ct(m);const E=o.Ku(_);if(m instanceof qf)a.push(_);else{const T=tu(m,E);T!=null&&(a.push(_),u.set(_,T))}});const h=new _n(a);return new gT(u,h,o.fieldTransforms)}function DN(n,e,t,r,o,a){const u=n.ju(1,e,t),h=[Cp(e,r,t)],d=[o];if(a.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(Cp(e,a[T])),d.push(a[T+1]);const m=[],_=un.empty();for(let T=h.length-1;T>=0;--T)if(!wT(m,h[T])){const S=h[T];let k=d[T];k=ct(k);const D=u.Ku(S);if(k instanceof qf)m.push(S);else{const x=tu(k,D);x!=null&&(m.push(S),_.set(S,x))}}const E=new _n(m);return new gT(_,E,u.fieldTransforms)}function _T(n,e,t,r=!1){return tu(t,n.ju(r?4:3,e))}function tu(n,e){if(ET(n=ct(n)))return Dm("Unsupported field value:",e,n),vT(n,e);if(n instanceof zf)return function(r,o){if(!yT(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const h of r){let d=tu(h,o.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Et.fromDate(r);return{timestampValue:df(o.serializer,a)}}if(r instanceof Et){const a=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:df(o.serializer,a)}}if(r instanceof bm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sa)return{bytesValue:Fw(o.serializer,r._byteString)};if(r instanceof cn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof xm)return function(u,h){return{mapValue:{fields:{[pw]:{stringValue:mw},[uf]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return fm(h.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${Uf(r)}`)}(n,e)}function vT(n,e){const t={};return lw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(n,(r,o)=>{const a=tu(o,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function ET(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Et||n instanceof bm||n instanceof sa||n instanceof cn||n instanceof zf||n instanceof xm)}function Dm(n,e,t){if(!ET(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Uf(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Cp(n,e,t){if((e=ct(e))instanceof jf)return e._internalPath;if(typeof e=="string")return Lm(n,e);throw yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const LN=new RegExp("[~\\*/\\[\\]]");function Lm(n,e,t){if(e.search(LN)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jf(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yf(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${o}`),d+=")"),new he(J.INVALID_ARGUMENT,h+n+d)}function wT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VN extends Vm{data(){return super.data()}}function Hf(n,e){return typeof e=="string"?Lm(n,e):e instanceof jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mm{}class Wf extends Mm{}function zD(n,e,...t){let r=[];e instanceof Mm&&r.push(e),r=r.concat(t),function(a){const u=a.filter(d=>d instanceof Fm).length,h=a.filter(d=>d instanceof Kf).length;if(u>1||u>0&&h>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Kf extends Wf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Kf(e,t,r)}_apply(e){const t=this._parse(e);return TT(e._query,t),new ni(e.firestore,e.converter,yp(e._query,t))}_parse(e){const t=Bf(e.firestore);return function(a,u,h,d,m,_,E){let T;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){c0(E,_);const k=[];for(const D of E)k.push(u0(d,a,D));T={arrayValue:{values:k}}}else T=u0(d,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||c0(E,_),T=_T(h,u,E,_==="in"||_==="not-in");return pt.create(m,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function BD(n,e,t){const r=e,o=Hf("where",n);return Kf._create(o,r,t)}class Fm extends Mm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const d of h)TT(u,d),u=yp(u,d)}(e._query,t),new ni(e.firestore,e.converter,yp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Um extends Wf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Um(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(a,u)}(e._query,this._field,this._direction);return new ni(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new $s(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function qD(n,e="asc"){const t=e,r=Hf("orderBy",n);return Um._create(r,t)}class $m extends Wf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new $m(e,t,r)}_apply(e){return new ni(e.firestore,e.converter,ff(e._query,this._limit,this._limitType))}}function HD(n){return SN("limit",n),$m._create("limit",n,"F")}class jm extends Wf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jm(e,t,r)}_apply(e){const t=FN(e,this.type,this._docOrFields,this._inclusive);return new ni(e.firestore,e.converter,function(o,a){return new $s(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function WD(...n){return jm._create("startAfter",n,!1)}function FN(n,e,t,r){if(t[0]=ct(t[0]),t[0]instanceof Vm)return function(a,u,h,d,m){if(!d)throw new he(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const _=[];for(const E of Go(a))if(E.field.isKeyField())_.push(cf(u,d.key));else{const T=d.data.field(E.field);if(Pf(T))throw new he(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const S=E.field.canonicalString();throw new he(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}_.push(T)}return new ta(_,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Bf(n.firestore);return function(u,h,d,m,_,E){const T=u.explicitOrderBy;if(_.length>T.length)throw new he(J.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let k=0;k<_.length;k++){const D=_[k];if(T[k].field.isKeyField()){if(typeof D!="string")throw new he(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof D}`);if(!cm(u)&&D.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${D}' contains a slash.`);const x=u.path.child(Xe.fromString(D));if(!we.isDocumentKey(x))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const L=new we(x);S.push(cf(h,L))}else{const x=_T(d,m,D);S.push(x)}}return new ta(S,E)}(n._query,n.firestore._databaseId,o,e,t,r)}}function u0(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cm(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xe.fromString(t));if(!we.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cf(n,new we(r))}if(t instanceof cn)return cf(n,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(t)}.`)}function c0(n,e){if(!Array.isArray(n)||n.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TT(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class UN{convertValue(e,t="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xi(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[uf].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>ut(u.doubleValue));return new xm(a)}convertGeoPoint(e){return new bm(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=qi(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);qe(qw(r));const o=new bl(r.get(1),r.get(3)),a=new we(r.popFirst(5));return o.isEqual(t)||Xr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IT extends Vm{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Kc extends IT{data(e={}){return super.data(e)}}class jN{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Kc(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const d=new Kc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new vl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const d=new Kc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new vl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:zN(h.type),doc:d,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class ST extends UN{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function KD(n,e,t,...r){n=$i(n,cn);const o=$i(n.firestore,ia),a=Bf(o);let u;return u=typeof(e=ct(e))=="string"||e instanceof jf?DN(a,"updateDoc",n._key,e,t,r):NN(a,"updateDoc",n._key,e),zm(o,[u.toMutation(n._key,Jn.exists(!0))])}function GD(n){return zm($i(n.firestore,ia),[new hm(n._key,Jn.none())])}function QD(n,e){const t=$i(n.firestore,ia),r=RN(n),o=$N(n.converter,e);return zm(t,[ON(Bf(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function YD(n,...e){var t,r,o;n=ct(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||l0(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(l0(e[u])){const E=e[u];e[u]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[u+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[u+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let d,m,_;if(n instanceof cn)m=$i(n.firestore,ia),_=um(n._key.path),d={next:E=>{e[u]&&e[u](BN(m,n,E))},error:e[u+1],complete:e[u+2]};else{const E=$i(n,ni);m=$i(E.firestore,ia),_=E._query;const T=new ST(m);d={next:S=>{e[u]&&e[u](new jN(m,T,E,S))},error:e[u+1],complete:e[u+2]},MN(n._query)}return function(T,S,k,D){const x=new vN(D),L=new eN(S,x,k);return T.asyncQueue.enqueueAndForget(async()=>YO(await e0(T),L)),()=>{x.su(),T.asyncQueue.enqueueAndForget(async()=>XO(await e0(T),L))}}(mT(m),_,h,d)}function zm(n,e){return function(r,o){const a=new Os;return r.asyncQueue.enqueueAndForget(async()=>cN(await TN(r),o,a)),a.promise}(mT(n),e)}function BN(n,e,t){const r=t.docs.get(e._key),o=new ST(n);return new IT(n,o,e._key,r,new vl(t.hasPendingWrites,t.fromCache),e.converter)}function XD(){return new Nm("serverTimestamp")}(function(e,t=!0){(function(o){fa=o})(ua),Yo(new Ds("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new ia(new bb(r.getProvider("auth-internal")),new Nb(u,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(m.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Fi(dv,pv,e),Fi(dv,pv,"esm2017")})();const qN={apiKey:"AIzaSyDZgN1UJe6A8hzBTsldzWzw1_-66gn8iJQ",authDomain:"todo-60a12.firebaseapp.com",projectId:"todo-60a12",storageBucket:"todo-60a12.firebasestorage.app",messagingSenderId:"284483277024",appId:"1:284483277024:web:0990458bc810b970900085"},HN=dE(qN),AT=wb(),WN=CN(HN),RT=Pm(WN,"users"),JD=n=>Pm(RT,n,"tasks"),ZD=n=>Pm(RT,n,"tags"),eL=()=>{const n=new Date;n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0);const e=new Date(n);e.setDate(e.getDate()+1);const t=new Date(e);t.setDate(t.getDate()+1);const r=new Date(t),o=new Date(t);return o.setDate(o.getDate()+5),{today:{start:n.getTime(),end:e.getTime()},tomorrow:{start:e.getTime(),end:t.getTime()},near:{start:r.getTime(),end:o.getTime()}}},KN=n=>n>=A0&&n<=R0,tL=n=>new Date(n*1e3).toLocaleString("ru-RU",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}).replace(",",""),nL=n=>new Date(n*1e3).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});class Vl extends Error{constructor(e="Not Found"){super(e),this.name="NotFoundError"}}const rL=n=>{if(n instanceof Vl)throw new Vl},GN=n=>n instanceof Vl,iL=n=>{if(!n)throw new Vl;return n},sL=n=>{const e=Number(n);if(!Number.isInteger(e)||!KN(e))throw new Vl;return e},QN=n=>n instanceof Error?n:new Error(typeof n=="string"?n:"An unknown error occurred"),oL=()=>{const n=AT.currentUser;if(!n)throw new Error("The user is not logged in");return n},YN=()=>{const[n,e,t]=Ab(AT);t&&console.error(t);const r=t?QN(t):void 0;return[n??null,e,r]},XN="_screen_12ylh_9",JN="_spinner_12ylh_17",f0={screen:XN,spinner:JN},ZN=()=>Z.jsxs("div",{className:f0.screen,children:[Z.jsx("span",{className:"visually-hidden",children:C0.common}),Z.jsx("div",{className:f0.spinner})]});function CT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=CT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ns(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=CT(n))&&(r&&(r+=" "),r+=e);return r}function e2(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}e2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nu=n=>typeof n=="number"&&!isNaN(n),Us=n=>typeof n=="string",Zr=n=>typeof n=="function",t2=n=>Us(n)||nu(n),kp=n=>Us(n)||Zr(n)?n:null,n2=(n,e)=>n===!1||nu(n)&&n>0?n:e,Pp=n=>F.isValidElement(n)||Us(n)||Zr(n)||nu(n);function r2(n,e,t=300){let{scrollHeight:r,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function kT({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:h,done:d,nodeRef:m,isIn:_,playToast:E}){let T=t?`${n}--${u}`:n,S=t?`${e}--${u}`:e,k=F.useRef(0);return F.useLayoutEffect(()=>{let D=m.current,x=T.split(" "),L=z=>{z.target===m.current&&(E(),D.removeEventListener("animationend",L),D.removeEventListener("animationcancel",L),k.current===0&&z.type!=="animationcancel"&&D.classList.remove(...x))};D.classList.add(...x),D.addEventListener("animationend",L),D.addEventListener("animationcancel",L)},[]),F.useEffect(()=>{let D=m.current,x=()=>{D.removeEventListener("animationend",x),r?r2(D,d,o):d()};_||(h?x():(k.current=1,D.className+=` ${S}`,D.addEventListener("animationend",x)))},[_]),Ue.createElement(Ue.Fragment,null,a)}}function h0(n,e){return{content:PT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function PT(n,e,t=!1){return F.isValidElement(n)&&!Us(n.type)?F.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Zr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function i2({closeToast:n,theme:e,ariaLabel:t="close"}){return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function s2({delay:n,isRunning:e,closeToast:t,type:r="default",hide:o,className:a,controlledProgress:u,progress:h,rtl:d,isIn:m,theme:_}){let E=o||u&&h===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(T.transform=`scaleX(${h})`);let S=Ns("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),k=Zr(a)?a({rtl:d,type:r,defaultClassName:S}):Ns(S,a),D={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&t()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${r}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:k,style:T,...D}))}var o2=1,bT=()=>`${o2++}`;function a2(n,e,t){let r=1,o=0,a=[],u=[],h=e,d=new Map,m=new Set,_=z=>(m.add(z),()=>m.delete(z)),E=()=>{u=Array.from(d.values()),m.forEach(z=>z())},T=({containerId:z,toastId:j,updateId:Y})=>{let le=z?z!==n:n!==1,oe=d.has(j)&&Y==null;return le||oe},S=(z,j)=>{d.forEach(Y=>{var le;(j==null||j===Y.props.toastId)&&((le=Y.toggle)==null||le.call(Y,z))})},k=z=>{var j,Y;(Y=(j=z.props)==null?void 0:j.onClose)==null||Y.call(j,z.removalReason),z.isActive=!1},D=z=>{if(z==null)d.forEach(k);else{let j=d.get(z);j&&k(j)}E()},x=()=>{o-=a.length,a=[]},L=z=>{var j,Y;let{toastId:le,updateId:oe}=z.props,O=oe==null;z.staleId&&d.delete(z.staleId),z.isActive=!0,d.set(le,z),E(),t(h0(z,O?"added":"updated")),O&&((Y=(j=z.props).onOpen)==null||Y.call(j))};return{id:n,props:h,observe:_,toggle:S,removeToast:D,toasts:d,clearQueue:x,buildToast:(z,j)=>{if(T(j))return;let{toastId:Y,updateId:le,data:oe,staleId:O,delay:A}=j,C=le==null;C&&o++;let V={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([N,R])=>R!=null)),toastId:Y,updateId:le,data:oe,isIn:!1,className:kp(j.className||h.toastClassName),progressClassName:kp(j.progressClassName||h.progressClassName),autoClose:j.isLoading?!1:n2(j.autoClose,h.autoClose),closeToast(N){d.get(Y).removalReason=N,D(Y)},deleteToast(){let N=d.get(Y);if(N!=null){if(t(h0(N,"removed")),d.delete(Y),o--,o<0&&(o=0),a.length>0){L(a.shift());return}E()}}};V.closeButton=h.closeButton,j.closeButton===!1||Pp(j.closeButton)?V.closeButton=j.closeButton:j.closeButton===!0&&(V.closeButton=Pp(h.closeButton)?h.closeButton:!0);let P={content:z,props:V,staleId:O};h.limit&&h.limit>0&&o>h.limit&&C?a.push(P):nu(A)?setTimeout(()=>{L(P)},A):L(P)},setProps(z){h=z},setToggle:(z,j)=>{let Y=d.get(z);Y&&(Y.toggle=j)},isToastActive:z=>{var j;return(j=d.get(z))==null?void 0:j.isActive},getSnapshot:()=>u}}var Gt=new Map,Ml=[],bp=new Set,l2=n=>bp.forEach(e=>e(n)),xT=()=>Gt.size>0;function u2(){Ml.forEach(n=>NT(n.content,n.options)),Ml=[]}var c2=(n,{containerId:e})=>{var t;return(t=Gt.get(e||1))==null?void 0:t.toasts.get(n)};function OT(n,e){var t;if(e)return!!((t=Gt.get(e))!=null&&t.isToastActive(n));let r=!1;return Gt.forEach(o=>{o.isToastActive(n)&&(r=!0)}),r}function f2(n){if(!xT()){Ml=Ml.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||t2(n))Gt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Gt.get(n.containerId);e?e.removeToast(n.id):Gt.forEach(t=>{t.removeToast(n.id)})}}var h2=(n={})=>{Gt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function NT(n,e){Pp(n)&&(xT()||Ml.push({content:n,options:e}),Gt.forEach(t=>{t.buildToast(n,e)}))}function d2(n){var e;(e=Gt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function DT(n,e){Gt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function p2(n){let e=n.containerId||1;return{subscribe(t){let r=a2(e,n,l2);Gt.set(e,r);let o=r.observe(t);return u2(),()=>{o(),Gt.delete(e)}},setProps(t){var r;(r=Gt.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Gt.get(e))==null?void 0:t.getSnapshot()}}}function m2(n){return bp.add(n),()=>{bp.delete(n)}}function g2(n){return n&&(Us(n.toastId)||nu(n.toastId))?n.toastId:bT()}function ru(n,e){return NT(n,e),e.toastId}function Gf(n,e){return{...e,type:e&&e.type||n,toastId:g2(e)}}function Qf(n){return(e,t)=>ru(e,Gf(n,t))}function We(n,e){return ru(n,Gf("default",e))}We.loading=(n,e)=>ru(n,Gf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function y2(n,{pending:e,error:t,success:r},o){let a;e&&(a=Us(e)?We.loading(e,o):We.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,_,E)=>{if(_==null){We.dismiss(a);return}let T={type:m,...u,...o,data:E},S=Us(_)?{render:_}:_;return a?We.update(a,{...T,...S}):We(S.render,{...T,...S}),E},d=Zr(n)?n():n;return d.then(m=>h("success",r,m)).catch(m=>h("error",t,m)),d}We.promise=y2;We.success=Qf("success");We.info=Qf("info");We.error=Qf("error");We.warning=Qf("warning");We.warn=We.warning;We.dark=(n,e)=>ru(n,Gf("default",{theme:"dark",...e}));function _2(n){f2(n)}We.dismiss=_2;We.clearWaitingQueue=h2;We.isActive=OT;We.update=(n,e={})=>{let t=c2(n,e);if(t){let{props:r,content:o}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:bT()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,ru(u,a)}};We.done=n=>{We.update(n,{progress:1})};We.onChange=m2;We.play=n=>DT(!0,n);We.pause=n=>DT(!1,n);function v2(n){var e;let{subscribe:t,getSnapshot:r,setProps:o}=F.useRef(p2(n)).current;o(n);let a=(e=F.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(h){if(!a)return[];let d=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:_}=m.props;d.has(_)||d.set(_,[]),d.get(_).push(m)}),Array.from(d,m=>h(m[0],m[1]))}return{getToastToRender:u,isToastActive:OT,count:a==null?void 0:a.length}}function E2(n){let[e,t]=F.useState(!1),[r,o]=F.useState(!1),a=F.useRef(null),u=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:m,onClick:_,closeOnClick:E}=n;d2({id:n.toastId,containerId:n.containerId,fn:t}),F.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{S()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||L(),window.addEventListener("focus",x),window.addEventListener("blur",L)}function S(){window.removeEventListener("focus",x),window.removeEventListener("blur",L)}function k(O){if(n.draggable===!0||n.draggable===O.pointerType){z();let A=a.current;u.canCloseOnClick=!0,u.canDrag=!0,A.style.transition="none",n.draggableDirection==="x"?(u.start=O.clientX,u.removalDistance=A.offsetWidth*(n.draggablePercent/100)):(u.start=O.clientY,u.removalDistance=A.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function D(O){let{top:A,bottom:C,left:V,right:P}=a.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&n.pauseOnHover&&O.clientX>=V&&O.clientX<=P&&O.clientY>=A&&O.clientY<=C?L():x()}function x(){t(!0)}function L(){t(!1)}function z(){u.didMove=!1,document.addEventListener("pointermove",Y),document.addEventListener("pointerup",le)}function j(){document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",le)}function Y(O){let A=a.current;if(u.canDrag&&A){u.didMove=!0,e&&L(),n.draggableDirection==="x"?u.delta=O.clientX-u.start:u.delta=O.clientY-u.start,u.start!==O.clientX&&(u.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;A.style.transform=`translate3d(${C},0)`,A.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function le(){j();let O=a.current;if(u.canDrag&&u.didMove&&O){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let oe={onPointerDown:k,onPointerUp:D};return h&&d&&(oe.onMouseEnter=L,n.stacked||(oe.onMouseLeave=x)),E&&(oe.onClick=O=>{_&&_(O),u.canCloseOnClick&&m(!0)}),{playToast:x,pauseToast:L,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:oe}}var w2=typeof window<"u"?F.useLayoutEffect:F.useEffect,Yf=({theme:n,type:e,isLoading:t,...r})=>Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function T2(n){return Ue.createElement(Yf,{...n},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function I2(n){return Ue.createElement(Yf,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function S2(n){return Ue.createElement(Yf,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function A2(n){return Ue.createElement(Yf,{...n},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function R2(){return Ue.createElement("div",{className:"Toastify__spinner"})}var xp={info:I2,warning:T2,success:S2,error:A2,spinner:R2},C2=n=>n in xp;function k2({theme:n,type:e,isLoading:t,icon:r}){let o=null,a={theme:n,type:e};return r===!1||(Zr(r)?o=r({...a,isLoading:t}):F.isValidElement(r)?o=F.cloneElement(r,a):t?o=xp.spinner():C2(e)&&(o=xp[e](a))),o}var P2=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:a}=E2(n),{closeButton:u,children:h,autoClose:d,onClick:m,type:_,hideProgressBar:E,closeToast:T,transition:S,position:k,className:D,style:x,progressClassName:L,updateId:z,role:j,progress:Y,rtl:le,toastId:oe,deleteToast:O,isIn:A,isLoading:C,closeOnClick:V,theme:P,ariaLabel:N}=n,R=Ns("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":le},{"Toastify__toast--close-on-click":V}),re=Zr(D)?D({rtl:le,position:k,type:_,defaultClassName:R}):Ns(R,D),ae=k2(n),Se=!!Y||!d,W={closeToast:T,type:_,theme:P},Q=null;return u===!1||(Zr(u)?Q=u(W):F.isValidElement(u)?Q=F.cloneElement(u,W):Q=i2(W)),Ue.createElement(S,{isIn:A,done:O,position:k,preventExitTransition:t,nodeRef:r,playToast:a},Ue.createElement("div",{id:oe,tabIndex:0,onClick:m,"data-in":A,className:re,...o,style:x,ref:r,...A&&{role:j,"aria-label":N}},ae!=null&&Ue.createElement("div",{className:Ns("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},ae),PT(h,n,!e),Q,!n.customProgressBar&&Ue.createElement(s2,{...z&&!Se?{key:`p-${z}`}:{},rtl:le,theme:P,delay:d,isRunning:e,isIn:A,closeToast:T,hide:E,type:_,className:L,controlledProgress:Se,progress:Y||0})))},LT=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),b2=kT(LT("bounce",!0)),VT=kT(LT("slide",!0)),x2={position:"top-right",transition:b2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function O2(n){let e={...x2,...n},t=n.stacked,[r,o]=F.useState(!0),a=F.useRef(null),{getToastToRender:u,isToastActive:h,count:d}=v2(e),{className:m,style:_,rtl:E,containerId:T,hotKeys:S}=e;function k(x){let L=Ns("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":E});return Zr(m)?m({position:x,rtl:E,defaultClassName:L}):Ns(L,kp(m))}function D(){t&&(o(!0),We.play())}return w2(()=>{var x;if(t){let L=a.current.querySelectorAll('[data-in="true"]'),z=12,j=(x=e.position)==null?void 0:x.includes("top"),Y=0,le=0;Array.from(L).reverse().forEach((oe,O)=>{let A=oe;A.classList.add("Toastify__toast--stacked"),O>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=j?"top":"bot");let C=Y*(r?.2:1)+(r?0:z*O);A.style.setProperty("--y",`${j?C:C*-1}px`),A.style.setProperty("--g",`${z}`),A.style.setProperty("--s",`${1-(r?le:0)}`),Y+=A.offsetHeight,le+=.025})}},[r,d,t]),F.useEffect(()=>{function x(L){var z;let j=a.current;S(L)&&((z=j.querySelector('[tabIndex="0"]'))==null||z.focus(),o(!1),We.pause()),L.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(o(!0),We.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[S]),Ue.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(o(!1),We.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((x,L)=>{let z=L.length?{..._}:{..._,pointerEvents:"none"};return Ue.createElement("div",{tabIndex:-1,className:k(x),"data-stacked":t,style:z,key:`c-${x}`},L.map(({content:j,props:Y})=>Ue.createElement(P2,{...Y,stacked:t,collapseAll:D,isIn:h(Y.toastId,Y.containerId),key:`t-${Y.key}`},j)))}))}const N2=n=>{We.error(n,{transition:VT})},aL=n=>{We.success(n,{transition:VT})},D2=(n,e)=>{F.useEffect(()=>{!(e!=null&&e.name)||!(e!=null&&e.message)||N2(n)},[e==null?void 0:e.name,e==null?void 0:e.message,n])},d0="/login",L2="/registration",V2="/today",M2="/tomorrow",F2="/calendar",U2="/privacy-policy",$2="/auth/reset-password",j2="/auth/action",z2="/about",B2=n=>`/tag/${n}`,q2=n=>`/tasks-day/${n}`,H2=F.lazy(()=>En(()=>import("./HomePage-cu1PsKDo.js"),__vite__mapDeps([0,1,2,3]))),W2=F.lazy(()=>En(()=>import("./LoginPage-iJFGSK1i.js"),__vite__mapDeps([4,5,6,7,8,1,2,9]))),K2=F.lazy(()=>En(()=>import("./UpcomingPage-Br4CBQzQ.js"),__vite__mapDeps([10,11,6,7,12,13,14,15,16,17,18,19]))),G2=F.lazy(()=>En(()=>import("./RegistrationPage-C6xvBHy7.js"),__vite__mapDeps([20,5,6,7,8,1,2,14,15,9]))),Q2=F.lazy(()=>En(()=>import("./TodayPage-BrZzQ2o2.js"),__vite__mapDeps([21,22,11,6,7,12,13,14,15,16,17,18]))),Y2=F.lazy(()=>En(()=>import("./TomorrowPage-BQaDfuUH.js"),__vite__mapDeps([23,22,11,6,7,12,13,14,15,16,17,18]))),X2=F.lazy(()=>En(()=>import("./TagPage-BjPVPTyj.js"),__vite__mapDeps([24,22,11,6,7,12,13,14,15,16,17,18,25]))),J2=F.lazy(()=>En(()=>import("./CalendarPage-DtWYDIc3.js"),__vite__mapDeps([26,6,7,11,12,13,14,15,16,25,27]))),Z2=F.lazy(()=>En(()=>import("./TasksDay-xW88gs2v.js"),__vite__mapDeps([28,22,11,6,7,12,13,14,15,16,17,18]))),eD=F.lazy(()=>En(()=>import("./ResetPasswordPage-DYLxDwbZ.js"),__vite__mapDeps([29,1,2,6,7,9]))),tD=F.lazy(()=>En(()=>import("./ActionPage-YOhtqFps.js"),__vite__mapDeps([30,6,7,9,1,2,12,13]))),nD=F.lazy(()=>En(()=>import("./PolicyPage-CR95Z0GB.js"),[])),rD=F.lazy(()=>En(()=>import("./AboutPage-dVOpQ1Zg.js"),__vite__mapDeps([31,1,2]))),iD=()=>{const[n,e,t]=YN();D2(qS.userLoading,t);const r=Z.jsxs(Z.Fragment,{children:[Z.jsx(Ot,{index:!0,element:Z.jsx(F.Suspense,{children:Z.jsx(K2,{})})}),Z.jsx(Ot,{path:V2,element:Z.jsx(F.Suspense,{children:Z.jsx(Q2,{})})}),Z.jsx(Ot,{path:M2,element:Z.jsx(F.Suspense,{children:Z.jsx(Y2,{})})}),Z.jsx(Ot,{path:B2(":id"),element:Z.jsx(F.Suspense,{children:Z.jsx(X2,{})})}),Z.jsx(Ot,{path:F2,element:Z.jsx(F.Suspense,{children:Z.jsx(J2,{})})}),Z.jsx(Ot,{path:q2(":timestampDay"),element:Z.jsx(F.Suspense,{children:Z.jsx(Z2,{})})}),Z.jsx(Ot,{path:"*",element:Z.jsx(C_,{to:"/"})})]}),o=Z.jsxs(Z.Fragment,{children:[Z.jsx(Ot,{index:!0,element:Z.jsx(F.Suspense,{children:Z.jsx(H2,{})})}),Z.jsx(Ot,{path:d0,element:Z.jsx(F.Suspense,{children:Z.jsx(W2,{})})}),Z.jsx(Ot,{path:L2,element:Z.jsx(F.Suspense,{children:Z.jsx(G2,{})})}),Z.jsx(Ot,{path:$2,element:Z.jsx(F.Suspense,{children:Z.jsx(eD,{})})}),Z.jsx(Ot,{path:"*",element:Z.jsx(C_,{to:d0})})]});return e?Z.jsx(ZN,{}):Z.jsx(zA,{children:Z.jsxs(Ot,{element:Z.jsx(AC,{}),children:[Z.jsx(Ot,{path:j2,element:Z.jsx(F.Suspense,{children:Z.jsx(tD,{})})}),Z.jsx(Ot,{path:U2,element:Z.jsx(F.Suspense,{children:Z.jsx(nD,{})})}),Z.jsx(Ot,{path:z2,element:Z.jsx(F.Suspense,{children:Z.jsx(rD,{})})}),n?r:o]})})},sD="_section_1bryu_1",oD="_body_1bryu_11",aD="_description_1bryu_18",Xd={section:sD,body:oD,description:aD},lD=n=>{F.useEffect(()=>{const e=n?`${w_} | ${n}`:w_;document.title=e},[n])},p0=({title:n,description:e,isHomeButton:t,onClickHomeButton:r})=>{lD(n);const o=F.useId();return Z.jsx("section",{className:Xd.section,"aria-labelledby":o,children:Z.jsx("div",{className:"container",children:Z.jsxs("div",{className:Xd.body,children:[Z.jsx("h1",{id:o,className:"h1",children:n}),Z.jsx("div",{className:Xd.description,children:e}),t&&Z.jsx(q0,{to:"/",styleType:"border",onClick:r,children:" "})]})})})},uD=F.createContext(null),Jd={didCatch:!1,error:null};class cD extends F.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Jd}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,r,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];(t=(r=this.props).onReset)===null||t===void 0||t.call(r,{args:a,reason:"imperative-api"}),this.setState(Jd)}}componentDidCatch(e,t){var r,o;(r=(o=this.props).onError)===null||r===void 0||r.call(o,e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:o}=this.props;if(r&&t.error!==null&&fD(e.resetKeys,o)){var a,u;(a=(u=this.props).onReset)===null||a===void 0||a.call(u,{next:o,prev:e.resetKeys,reason:"keys"}),this.setState(Jd)}}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:o}=this.props,{didCatch:a,error:u}=this.state;let h=e;if(a){const d={error:u,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")h=t(d);else if(r)h=F.createElement(r,d);else if(o!==void 0)h=o;else throw u}return F.createElement(uD.Provider,{value:{didCatch:a,error:u,resetErrorBoundary:this.resetErrorBoundary}},h)}}function fD(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,r)=>!Object.is(t,e[r]))}const hD=({children:n})=>{const e=({error:t,resetErrorBoundary:r})=>GN(t)?Z.jsx(p0,{title:"404",description:",   ,     .  URL-     ",isHomeButton:!0,onClickHomeButton:()=>r()}):Z.jsx(p0,{title:"",description:"    .   "});return Z.jsx(cD,{fallbackRender:e,children:n})};var MT=Op();const lL=Fl(MT),FT="#toast",m0=document.querySelector(FT),dD=n=>n.ctrlKey&&n.key==="t",pD=()=>{if(!m0)throw new Error(`Element with selector "${FT}" not found`);return Z.jsx(Z.Fragment,{children:MT.createPortal(Z.jsx(O2,{hotKeys:dD,"aria-label":" Control + T"}),m0)})},mD=()=>Z.jsx(hR,{children:Z.jsxs(hD,{children:[Z.jsx(iD,{}),Z.jsx(pD,{})]})});var Oc={},g0;function gD(){if(g0)return Oc;g0=1;var n=Op();return Oc.createRoot=n.createRoot,Oc.hydrateRoot=n.hydrateRoot,Oc}var yD=gD();EC({string:{email:BS.emailIncorrect}});S0.setAppElement("#root");yD.createRoot(document.getElementById("root")).render(Z.jsx(F.StrictMode,{children:Z.jsx(mD,{})}));export{qD as $,Ef as A,q0 as B,F2 as C,tL as D,qS as E,YD as F,CD as G,q2 as H,YN as I,RN as J,ZD as K,d0 as L,Vl as M,PD as N,sL as O,U2 as P,AD as Q,$2 as R,bD as S,V2 as T,nL as U,HS as V,TR as W,vC as X,zD as Y,HD as Z,RD as _,UD as a,B0 as a0,VS as a1,_D as a2,Ul as a3,Fl as a4,y0 as a5,KD as a6,QD as a7,XD as a8,GD as a9,KN as aA,TD as aB,ED as aC,vD as aD,ND as aE,oL as aa,dR as ab,B2 as ac,pC as ad,zp as ae,Et as af,BD as ag,ID as ah,WD as ai,JD as aj,$D as ak,z2 as al,xD as am,Ns as an,lL as ao,IR as ap,QS as aq,FD as ar,LD as as,DD as at,VD as au,kD as av,hC as aw,Q0 as ax,wD as ay,BS as az,AT as b,Qt as c,L2 as d,nE as e,SD as f,eL as g,D2 as h,M2 as i,Z as j,MD as k,jp as l,N2 as m,QN as n,V0 as o,OD as p,iL as q,F as r,aL as s,rL as t,lD as u,GN as v,Ue as w,MT as x,C0 as y,GS as z};
