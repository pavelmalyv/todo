import{j as T,c as ie,B as qt,r as fe,V as Nt,D as Pt,X as Bt,x as w,ax as Z,ay as _t,af as $t,az as Qe,aA as E,aB as Ht,aC as et,aD as tt,aE as rt,aF as Wt}from"./index-BgGn9oyM.js";const Gt="_body_vlvhg_1",Xt="_footer_vlvhg_7",zt="_error_vlvhg_11",Kt="_error_visible_vlvhg_14",ce={body:Gt,footer:Xt,error:zt,error_visible:Kt},Yt="_error_1kgn3_1",Zt={error:Yt},Jt=({message:e,className:r})=>T.jsx("div",{className:ie(Zt.error,r),role:"status",children:e}),Qt=({children:e,buttonName:r,isDisabledButtonName:t,errorMessage:i,isLoading:a=!1,className:l,onSubmit:u,["aria-labelledby"]:y})=>{const g=F=>{F.stopPropagation(),u&&u(F)};return T.jsxs("form",{className:ie(ce.form,l),"aria-labelledby":y,onSubmit:g,noValidate:!0,children:[T.jsxs("fieldset",{className:ce.body,disabled:a,children:[e,r&&T.jsx("div",{className:ce.footer,children:T.jsx(qt,{type:"submit",isFull:!0,isLoading:a,disabled:t,children:r})})]}),T.jsx(Jt,{className:ie(ce.error,{[ce.error_visible]:i}),message:i})]})},er=({children:e})=>T.jsx("div",{className:ce.footer,children:e});Qt.Footer=er;const tr="_body_1785i_1",rr="_button_1785i_5",st={body:tr,button:rr},sr="_label_11dhp_1",ir="_body_11dhp_12",ar="_field_11dhp_16",nr="_skeleton_11dhp_43",ue={"label-wrapper":"_label-wrapper_11dhp_1",label:sr,body:ir,field:ar,skeleton:nr},lr="_message_1dshq_1",or="_message_visible_1dshq_5",it={message:lr,message_visible:or},ur=({id:e,message:r})=>T.jsx("div",{id:e,className:ie(it.message,{[it.message_visible]:r}),"aria-live":"polite",children:r}),dr=fe.forwardRef(({label:e,isSkeleton:r,isLoading:t=!1,errorMessage:i,className:a,isVisuallyHiddenLabel:l=!0,children:u,id:y,...g},F)=>{const b=fe.useId(),v=fe.useId(),S=y??b;return T.jsx("div",{className:ue.wrapper,children:T.jsx(Nt,{isLoading:t,children:r?T.jsx(Pt,{className:ie(a==null?void 0:a.skeleton,ue.skeleton)}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:ue["label-wrapper"],children:[T.jsx("label",{htmlFor:S,className:ie(ue.label,{"visually-hidden":l}),children:e}),T.jsxs("div",{className:ie(ue.body,a==null?void 0:a.body),children:[T.jsx("input",{ref:F,id:S,className:ie(a==null?void 0:a.field,ue.field),...g}),u]})]}),T.jsx(ur,{id:v,message:i||null})]})})})}),Lr=fe.forwardRef(({isPassword:e=!1,className:r,...t},i)=>{const a=fe.useId(),[l,u]=fe.useState(!0),y=e&&l?"password":"text";return T.jsx(dr,{ref:i,type:y,id:a,className:{body:st.body,field:r},...t,children:e&&T.jsx(Bt,{hiddenName:"Показать пароль",onClick:()=>u(g=>!g),"aria-pressed":!l,"aria-controls":a,className:st.button,children:l?"visibility":"visibility_off"})})});var xe=e=>e.type==="checkbox",ne=e=>e instanceof Date,q=e=>e==null;const gt=e=>typeof e=="object";var k=e=>!q(e)&&!Array.isArray(e)&&gt(e)&&!ne(e),vt=e=>k(e)&&e.target?xe(e.target)?e.target.checked:e.target.value:e,cr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,bt=(e,r)=>e.has(cr(r)),fr=e=>{const r=e.constructor&&e.constructor.prototype;return k(r)&&r.hasOwnProperty("isPrototypeOf")},Ue=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function N(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ue&&(e instanceof Blob||i))&&(t||k(e)))if(r=t?[]:{},!t&&!fr(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=N(e[a]));else return e;return r}var De=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,c=(e,r,t)=>{if(!r||!k(e))return t;const i=De(r.split(/[,[\].]+?/)).reduce((a,l)=>q(a)?a:a[l],e);return D(i)||i===e?D(e[r])?t:e[r]:i},W=e=>typeof e=="boolean",je=e=>/^\w*$/.test(e),mt=e=>De(e.replace(/["|']|\]/g,"").split(/\.|\[/)),p=(e,r,t)=>{let i=-1;const a=je(r)?[r]:mt(r),l=a.length,u=l-1;for(;++i<l;){const y=a[i];let g=t;if(i!==u){const F=e[y];g=k(F)||Array.isArray(F)?F:isNaN(+a[i+1])?{}:[]}if(y==="__proto__"||y==="constructor"||y==="prototype")return;e[y]=g,e=e[y]}return e};const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},X={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yr=w.createContext(null),qe=()=>w.useContext(yr);var xt=(e,r,t,i=!0)=>{const a={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(a,l,{get:()=>{const u=l;return r._proxyFormState[u]!==X.all&&(r._proxyFormState[u]=!i||X.all),t&&(t[u]=!0),e[u]}});return a},P=e=>k(e)&&!Object.keys(e).length,Ft=(e,r,t,i)=>{t(e);const{name:a,...l}=e;return P(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(u=>r[u]===(!i||X.all))},be=e=>Array.isArray(e)?e:[e],Vt=(e,r,t)=>!e||!r||e===r||be(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i)));function Ne(e){const r=w.useRef(e);r.current=e,w.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function hr(e){const r=qe(),{control:t=r.control,disabled:i,name:a,exact:l}=e||{},[u,y]=w.useState(t._formState),g=w.useRef(!0),F=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),b=w.useRef(a);return b.current=a,Ne({disabled:i,next:v=>g.current&&Vt(b.current,v.name,l)&&Ft(v,F.current,t._updateFormState)&&y({...t._formState,...v}),subject:t._subjects.state}),w.useEffect(()=>(g.current=!0,F.current.isValid&&t._updateValid(!0),()=>{g.current=!1}),[t]),w.useMemo(()=>xt(u,t,F.current,!1),[u,t])}var Y=e=>typeof e=="string",At=(e,r,t,i,a)=>Y(e)?(i&&r.watch.add(e),c(t,e,a)):Array.isArray(e)?e.map(l=>(i&&r.watch.add(l),c(t,l))):(i&&(r.watchAll=!0),t);function _r(e){const r=qe(),{control:t=r.control,name:i,defaultValue:a,disabled:l,exact:u}=e||{},y=w.useRef(i);y.current=i,Ne({disabled:l,subject:t._subjects.values,next:b=>{Vt(y.current,b.name,u)&&F(N(At(y.current,t._names,b.values||t._formValues,!1,a)))}});const[g,F]=w.useState(t._getWatch(i,a));return w.useEffect(()=>t._removeUnmounted()),g}function gr(e){const r=qe(),{name:t,disabled:i,control:a=r.control,shouldUnregister:l}=e,u=bt(a._names.array,t),y=_r({control:a,name:t,defaultValue:c(a._formValues,t,c(a._defaultValues,t,e.defaultValue)),exact:!0}),g=hr({control:a,name:t,exact:!0}),F=w.useRef(a.register(t,{...e.rules,value:y,...W(e.disabled)?{disabled:e.disabled}:{}})),b=w.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(g.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(g.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(g.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(g.validatingFields,t)},error:{enumerable:!0,get:()=>c(g.errors,t)}}),[g,t]),v=w.useMemo(()=>({name:t,value:y,...W(i)||g.disabled?{disabled:g.disabled||i}:{},onChange:S=>F.current.onChange({target:{value:vt(S),name:t},type:pe.CHANGE}),onBlur:()=>F.current.onBlur({target:{value:c(a._formValues,t),name:t},type:pe.BLUR}),ref:S=>{const z=c(a._fields,t);z&&S&&(z._f.ref={focus:()=>S.focus(),select:()=>S.select(),setCustomValidity:M=>S.setCustomValidity(M),reportValidity:()=>S.reportValidity()})}}),[t,a._formValues,i,g.disabled,y,a._fields]);return w.useEffect(()=>{const S=a._options.shouldUnregister||l,z=(M,j)=>{const B=c(a._fields,M);B&&B._f&&(B._f.mount=j)};if(z(t,!0),S){const M=N(c(a._options.defaultValues,t));p(a._defaultValues,t,M),D(c(a._formValues,t))&&p(a._formValues,t,M)}return!u&&a.register(t),()=>{(u?S&&!a._state.action:S)?a.unregister(t):z(t,!1)}},[t,a,u,l]),w.useEffect(()=>{a._updateDisabledField({disabled:i,fields:a._fields,name:t})},[i,t,a]),w.useMemo(()=>({field:v,formState:g,fieldState:b}),[v,g,b])}const Ir=e=>e.render(gr(e));var pt=(e,r,t,i,a)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:a||!0}}:{},at=e=>({isOnSubmit:!e||e===X.onSubmit,isOnBlur:e===X.onBlur,isOnChange:e===X.onChange,isOnAll:e===X.all,isOnTouch:e===X.onTouched}),nt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const me=(e,r,t,i)=>{for(const a of t||Object.keys(e)){const l=c(e,a);if(l){const{_f:u,...y}=l;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],a)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(me(y,r))break}else if(k(y)&&me(y,r))break}}};var vr=(e,r,t)=>{const i=be(c(e,t));return p(i,"root",r[t]),p(e,t,i),e},Pe=e=>e.type==="file",K=e=>typeof e=="function",we=e=>{if(!Ue)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ae=e=>Y(e),Be=e=>e.type==="radio",Se=e=>e instanceof RegExp;const lt={value:!1,isValid:!1},ot={value:!0,isValid:!0};var wt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?ot:{value:e[0].value,isValid:!0}:ot:lt}return lt};const ut={isValid:!1,value:null};var St=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ut):ut;function dt(e,r,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||W(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:r}}var de=e=>k(e)&&!Se(e)?e:{value:e,message:""},ct=async(e,r,t,i,a,l)=>{const{ref:u,refs:y,required:g,maxLength:F,minLength:b,min:v,max:S,pattern:z,validate:M,name:j,valueAsNumber:B,mount:te}=e._f,V=c(t,j);if(!te||r.has(j))return{};const J=y?y[0]:u,Q=x=>{a&&J.reportValidity&&(J.setCustomValidity(W(x)?"":x||""),J.reportValidity())},C={},le=Be(u),Fe=xe(u),ae=le||Fe,oe=(B||Pe(u))&&D(u.value)&&D(V)||we(u)&&u.value===""||V===""||Array.isArray(V)&&!V.length,$=pt.bind(null,j,i,C),Ve=(x,A,R,U=ee.maxLength,G=ee.minLength)=>{const H=x?A:R;C[j]={type:x?U:G,message:H,ref:u,...$(x?U:G,H)}};if(l?!Array.isArray(V)||!V.length:g&&(!ae&&(oe||q(V))||W(V)&&!V||Fe&&!wt(y).isValid||le&&!St(y).isValid)){const{value:x,message:A}=Ae(g)?{value:!!g,message:g}:de(g);if(x&&(C[j]={type:ee.required,message:A,ref:J,...$(ee.required,A)},!i))return Q(A),C}if(!oe&&(!q(v)||!q(S))){let x,A;const R=de(S),U=de(v);if(!q(V)&&!isNaN(V)){const G=u.valueAsNumber||V&&+V;q(R.value)||(x=G>R.value),q(U.value)||(A=G<U.value)}else{const G=u.valueAsDate||new Date(V),H=_e=>new Date(new Date().toDateString()+" "+_e),ye=u.type=="time",he=u.type=="week";Y(R.value)&&V&&(x=ye?H(V)>H(R.value):he?V>R.value:G>new Date(R.value)),Y(U.value)&&V&&(A=ye?H(V)<H(U.value):he?V<U.value:G<new Date(U.value))}if((x||A)&&(Ve(!!x,R.message,U.message,ee.max,ee.min),!i))return Q(C[j].message),C}if((F||b)&&!oe&&(Y(V)||l&&Array.isArray(V))){const x=de(F),A=de(b),R=!q(x.value)&&V.length>+x.value,U=!q(A.value)&&V.length<+A.value;if((R||U)&&(Ve(R,x.message,A.message),!i))return Q(C[j].message),C}if(z&&!oe&&Y(V)){const{value:x,message:A}=de(z);if(Se(x)&&!V.match(x)&&(C[j]={type:ee.pattern,message:A,ref:u,...$(ee.pattern,A)},!i))return Q(A),C}if(M){if(K(M)){const x=await M(V,t),A=dt(x,J);if(A&&(C[j]={...A,...$(ee.validate,A.message)},!i))return Q(A.message),C}else if(k(M)){let x={};for(const A in M){if(!P(x)&&!i)break;const R=dt(await M[A](V,t),J,A);R&&(x={...R,...$(A,R.message)},Q(R.message),i&&(C[j]=x))}if(!P(x)&&(C[j]={ref:J,...x},!i))return C}}return Q(!0),C};function br(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=D(e)?i++:e[r[i++]];return e}function mr(e){for(const r in e)if(e.hasOwnProperty(r)&&!D(e[r]))return!1;return!0}function O(e,r){const t=Array.isArray(r)?r:je(r)?[r]:mt(r),i=t.length===1?e:br(e,t),a=t.length-1,l=t[a];return i&&delete i[l],a!==0&&(k(i)&&P(i)||Array.isArray(i)&&mr(i))&&O(e,t.slice(0,-1)),e}var Oe=()=>{let e=[];return{get observers(){return e},next:a=>{for(const l of e)l.next&&l.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(l=>l!==a)}}),unsubscribe:()=>{e=[]}}},Me=e=>q(e)||!gt(e);function se(e,r){if(Me(e)||Me(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const a of t){const l=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const u=r[a];if(ne(l)&&ne(u)||k(l)&&k(u)||Array.isArray(l)&&Array.isArray(u)?!se(l,u):l!==u)return!1}}return!0}var Et=e=>e.type==="select-multiple",xr=e=>Be(e)||xe(e),Le=e=>we(e)&&e.isConnected,Dt=e=>{for(const r in e)if(K(e[r]))return!0;return!1};function Ee(e,r={}){const t=Array.isArray(e);if(k(e)||t)for(const i in e)Array.isArray(e[i])||k(e[i])&&!Dt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ee(e[i],r[i])):q(e[i])||(r[i]=!0);return r}function kt(e,r,t){const i=Array.isArray(e);if(k(e)||i)for(const a in e)Array.isArray(e[a])||k(e[a])&&!Dt(e[a])?D(r)||Me(t[a])?t[a]=Array.isArray(e[a])?Ee(e[a],[]):{...Ee(e[a])}:kt(e[a],q(r)?{}:r[a],t[a]):t[a]=!se(e[a],r[a]);return t}var ge=(e,r)=>kt(e,r,Ee(r)),Tt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>D(e)?e:r?e===""?NaN:e&&+e:t&&Y(e)?new Date(e):i?i(e):e;function Ie(e){const r=e.ref;return Pe(r)?r.files:Be(r)?St(e.refs).value:Et(r)?[...r.selectedOptions].map(({value:t})=>t):xe(r)?wt(e.refs).value:Tt(D(r.value)?e.ref.value:r.value,e)}var Fr=(e,r,t,i)=>{const a={};for(const l of e){const u=c(r,l);u&&p(a,l,u._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:i}},ve=e=>D(e)?e:Se(e)?e.source:k(e)?Se(e.value)?e.value.source:e.value:e;const ft="AsyncFunction";var Vr=e=>!!e&&!!e.validate&&!!(K(e.validate)&&e.validate.constructor.name===ft||k(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ft)),Ar=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function yt(e,r,t){const i=c(e,t);if(i||je(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),u=c(r,l),y=c(e,l);if(u&&!Array.isArray(u)&&t!==l)return{name:t};if(y&&y.type)return{name:l,error:y};a.pop()}return{name:t}}var pr=(e,r,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(r||e):(t?i.isOnBlur:a.isOnBlur)?!e:(t?i.isOnChange:a.isOnChange)?e:!0,wr=(e,r)=>!De(c(e,r)).length&&O(e,r);const Sr={mode:X.onSubmit,reValidateMode:X.onChange,shouldFocusError:!0};function Er(e={}){let r={...Sr,...e},t={submitCount:0,isDirty:!1,isLoading:K(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},a=k(r.defaultValues)||k(r.values)?N(r.defaultValues||r.values)||{}:{},l=r.shouldUnregister?{}:N(a),u={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,F=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Oe(),array:Oe(),state:Oe()},S=at(r.mode),z=at(r.reValidateMode),M=r.criteriaMode===X.all,j=s=>n=>{clearTimeout(F),F=setTimeout(s,n)},B=async s=>{if(!r.disabled&&(b.isValid||s)){const n=r.resolver?P((await ae()).errors):await $(i,!0);n!==t.isValid&&v.state.next({isValid:n})}},te=(s,n)=>{!r.disabled&&(b.isValidating||b.validatingFields)&&((s||Array.from(y.mount)).forEach(o=>{o&&(n?p(t.validatingFields,o,n):O(t.validatingFields,o))}),v.state.next({validatingFields:t.validatingFields,isValidating:!P(t.validatingFields)}))},V=(s,n=[],o,h,f=!0,d=!0)=>{if(h&&o&&!r.disabled){if(u.action=!0,d&&Array.isArray(c(i,s))){const _=o(c(i,s),h.argA,h.argB);f&&p(i,s,_)}if(d&&Array.isArray(c(t.errors,s))){const _=o(c(t.errors,s),h.argA,h.argB);f&&p(t.errors,s,_),wr(t.errors,s)}if(b.touchedFields&&d&&Array.isArray(c(t.touchedFields,s))){const _=o(c(t.touchedFields,s),h.argA,h.argB);f&&p(t.touchedFields,s,_)}b.dirtyFields&&(t.dirtyFields=ge(a,l)),v.state.next({name:s,isDirty:x(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else p(l,s,n)},J=(s,n)=>{p(t.errors,s,n),v.state.next({errors:t.errors})},Q=s=>{t.errors=s,v.state.next({errors:t.errors,isValid:!1})},C=(s,n,o,h)=>{const f=c(i,s);if(f){const d=c(l,s,D(o)?c(a,s):o);D(d)||h&&h.defaultChecked||n?p(l,s,n?d:Ie(f._f)):U(s,d),u.mount&&B()}},le=(s,n,o,h,f)=>{let d=!1,_=!1;const m={name:s};if(!r.disabled){const L=!!(c(i,s)&&c(i,s)._f&&c(i,s)._f.disabled);if(!o||h){b.isDirty&&(_=t.isDirty,t.isDirty=m.isDirty=x(),d=_!==m.isDirty);const I=L||se(c(a,s),n);_=!!(!L&&c(t.dirtyFields,s)),I||L?O(t.dirtyFields,s):p(t.dirtyFields,s,!0),m.dirtyFields=t.dirtyFields,d=d||b.dirtyFields&&_!==!I}if(o){const I=c(t.touchedFields,s);I||(p(t.touchedFields,s,o),m.touchedFields=t.touchedFields,d=d||b.touchedFields&&I!==o)}d&&f&&v.state.next(m)}return d?m:{}},Fe=(s,n,o,h)=>{const f=c(t.errors,s),d=b.isValid&&W(n)&&t.isValid!==n;if(r.delayError&&o?(g=j(()=>J(s,o)),g(r.delayError)):(clearTimeout(F),g=null,o?p(t.errors,s,o):O(t.errors,s)),(o?!se(f,o):f)||!P(h)||d){const _={...h,...d&&W(n)?{isValid:n}:{},errors:t.errors,name:s};t={...t,..._},v.state.next(_)}},ae=async s=>{te(s,!0);const n=await r.resolver(l,r.context,Fr(s||y.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return te(s),n},oe=async s=>{const{errors:n}=await ae(s);if(s)for(const o of s){const h=c(n,o);h?p(t.errors,o,h):O(t.errors,o)}else t.errors=n;return n},$=async(s,n,o={valid:!0})=>{for(const h in s){const f=s[h];if(f){const{_f:d,..._}=f;if(d){const m=y.array.has(d.name),L=f._f&&Vr(f._f);L&&b.validatingFields&&te([h],!0);const I=await ct(f,y.disabled,l,M,r.shouldUseNativeValidation&&!n,m);if(L&&b.validatingFields&&te([h]),I[d.name]&&(o.valid=!1,n))break;!n&&(c(I,d.name)?m?vr(t.errors,I,d.name):p(t.errors,d.name,I[d.name]):O(t.errors,d.name))}!P(_)&&await $(_,n,o)}}return o.valid},Ve=()=>{for(const s of y.unMount){const n=c(i,s);n&&(n._f.refs?n._f.refs.every(o=>!Le(o)):!Le(n._f.ref))&&ke(s)}y.unMount=new Set},x=(s,n)=>!r.disabled&&(s&&n&&p(l,s,n),!se($e(),a)),A=(s,n,o)=>At(s,y,{...u.mount?l:D(n)?a:Y(s)?{[s]:n}:n},o,n),R=s=>De(c(u.mount?l:a,s,r.shouldUnregister?c(a,s,[]):[])),U=(s,n,o={})=>{const h=c(i,s);let f=n;if(h){const d=h._f;d&&(!d.disabled&&p(l,s,Tt(n,d)),f=we(d.ref)&&q(n)?"":n,Et(d.ref)?[...d.ref.options].forEach(_=>_.selected=f.includes(_.value)):d.refs?xe(d.ref)?d.refs.length>1?d.refs.forEach(_=>(!_.defaultChecked||!_.disabled)&&(_.checked=Array.isArray(f)?!!f.find(m=>m===_.value):f===_.value)):d.refs[0]&&(d.refs[0].checked=!!f):d.refs.forEach(_=>_.checked=_.value===f):Pe(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||v.values.next({name:s,values:{...l}})))}(o.shouldDirty||o.shouldTouch)&&le(s,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&_e(s)},G=(s,n,o)=>{for(const h in n){const f=n[h],d=`${s}.${h}`,_=c(i,d);(y.array.has(s)||k(f)||_&&!_._f)&&!ne(f)?G(d,f,o):U(d,f,o)}},H=(s,n,o={})=>{const h=c(i,s),f=y.array.has(s),d=N(n);p(l,s,d),f?(v.array.next({name:s,values:{...l}}),(b.isDirty||b.dirtyFields)&&o.shouldDirty&&v.state.next({name:s,dirtyFields:ge(a,l),isDirty:x(s,d)})):h&&!h._f&&!q(d)?G(s,d,o):U(s,d,o),nt(s,y)&&v.state.next({...t}),v.values.next({name:u.mount?s:void 0,values:{...l}})},ye=async s=>{u.mount=!0;const n=s.target;let o=n.name,h=!0;const f=c(i,o),d=()=>n.type?Ie(f._f):vt(s),_=m=>{h=Number.isNaN(m)||ne(m)&&isNaN(m.getTime())||se(m,c(l,o,m))};if(f){let m,L;const I=d(),re=s.type===pe.BLUR||s.type===pe.FOCUS_OUT,Mt=!Ar(f._f)&&!r.resolver&&!c(t.errors,o)&&!f._f.deps||pr(re,c(t.touchedFields,o),t.isSubmitted,z,S),Ce=nt(o,y,re);p(l,o,I),re?(f._f.onBlur&&f._f.onBlur(s),g&&g(0)):f._f.onChange&&f._f.onChange(s);const Re=le(o,I,re,!1),Ut=!P(Re)||Ce;if(!re&&v.values.next({name:o,type:s.type,values:{...l}}),Mt)return b.isValid&&(r.mode==="onBlur"&&re?B():re||B()),Ut&&v.state.next({name:o,...Ce?{}:Re});if(!re&&Ce&&v.state.next({...t}),r.resolver){const{errors:Ze}=await ae([o]);if(_(I),h){const jt=yt(t.errors,i,o),Je=yt(Ze,i,jt.name||o);m=Je.error,o=Je.name,L=P(Ze)}}else te([o],!0),m=(await ct(f,y.disabled,l,M,r.shouldUseNativeValidation))[o],te([o]),_(I),h&&(m?L=!1:b.isValid&&(L=await $(i,!0)));h&&(f._f.deps&&_e(f._f.deps),Fe(o,L,m,Re))}},he=(s,n)=>{if(c(t.errors,n)&&s.focus)return s.focus(),1},_e=async(s,n={})=>{let o,h;const f=be(s);if(r.resolver){const d=await oe(D(s)?s:f);o=P(d),h=s?!f.some(_=>c(d,_)):o}else s?(h=(await Promise.all(f.map(async d=>{const _=c(i,d);return await $(_&&_._f?{[d]:_}:_)}))).every(Boolean),!(!h&&!t.isValid)&&B()):h=o=await $(i);return v.state.next({...!Y(s)||b.isValid&&o!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:o}:{},errors:t.errors}),n.shouldFocus&&!h&&me(i,he,s?f:y.mount),h},$e=s=>{const n={...u.mount?l:a};return D(s)?n:Y(s)?c(n,s):s.map(o=>c(n,o))},He=(s,n)=>({invalid:!!c((n||t).errors,s),isDirty:!!c((n||t).dirtyFields,s),error:c((n||t).errors,s),isValidating:!!c(t.validatingFields,s),isTouched:!!c((n||t).touchedFields,s)}),Rt=s=>{s&&be(s).forEach(n=>O(t.errors,n)),v.state.next({errors:s?t.errors:{}})},We=(s,n,o)=>{const h=(c(i,s,{_f:{}})._f||{}).ref,f=c(t.errors,s)||{},{ref:d,message:_,type:m,...L}=f;p(t.errors,s,{...L,...n,ref:h}),v.state.next({name:s,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&h&&h.focus&&h.focus()},Ot=(s,n)=>K(s)?v.values.subscribe({next:o=>s(A(void 0,n),o)}):A(s,n,!0),ke=(s,n={})=>{for(const o of s?be(s):y.mount)y.mount.delete(o),y.array.delete(o),n.keepValue||(O(i,o),O(l,o)),!n.keepError&&O(t.errors,o),!n.keepDirty&&O(t.dirtyFields,o),!n.keepTouched&&O(t.touchedFields,o),!n.keepIsValidating&&O(t.validatingFields,o),!r.shouldUnregister&&!n.keepDefaultValue&&O(a,o);v.values.next({values:{...l}}),v.state.next({...t,...n.keepDirty?{isDirty:x()}:{}}),!n.keepIsValid&&B()},Ge=({disabled:s,name:n,field:o,fields:h})=>{(W(s)&&u.mount||s||y.disabled.has(n))&&(s?y.disabled.add(n):y.disabled.delete(n),le(n,Ie(o?o._f:c(h,n)._f),!1,!1,!0))},Te=(s,n={})=>{let o=c(i,s);const h=W(n.disabled)||W(r.disabled);return p(i,s,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:s}},name:s,mount:!0,...n}}),y.mount.add(s),o?Ge({field:o,disabled:W(n.disabled)?n.disabled:r.disabled,name:s}):C(s,!0,n.value),{...h?{disabled:n.disabled||r.disabled}:{},...r.progressive?{required:!!n.required,min:ve(n.min),max:ve(n.max),minLength:ve(n.minLength),maxLength:ve(n.maxLength),pattern:ve(n.pattern)}:{},name:s,onChange:ye,onBlur:ye,ref:f=>{if(f){Te(s,n),o=c(i,s);const d=D(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,_=xr(d),m=o._f.refs||[];if(_?m.find(L=>L===d):d===o._f.ref)return;p(i,s,{_f:{...o._f,..._?{refs:[...m.filter(Le),d,...Array.isArray(c(a,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),C(s,!1,void 0,d)}else o=c(i,s,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(bt(y.array,s)&&u.action)&&y.unMount.add(s)}}},Xe=()=>r.shouldFocusError&&me(i,he,y.mount),Lt=s=>{W(s)&&(v.state.next({disabled:s}),me(i,(n,o)=>{const h=c(i,o);h&&(n.disabled=h._f.disabled||s,Array.isArray(h._f.refs)&&h._f.refs.forEach(f=>{f.disabled=h._f.disabled||s}))},0,!1))},ze=(s,n)=>async o=>{let h;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=N(l);if(y.disabled.size)for(const d of y.disabled)p(f,d,void 0);if(v.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:_}=await ae();t.errors=d,f=_}else await $(i);if(O(t.errors,"root"),P(t.errors)){v.state.next({errors:{}});try{await s(f,o)}catch(d){h=d}}else n&&await n({...t.errors},o),Xe(),setTimeout(Xe);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},It=(s,n={})=>{c(i,s)&&(D(n.defaultValue)?H(s,N(c(a,s))):(H(s,n.defaultValue),p(a,s,N(n.defaultValue))),n.keepTouched||O(t.touchedFields,s),n.keepDirty||(O(t.dirtyFields,s),t.isDirty=n.defaultValue?x(s,N(c(a,s))):x()),n.keepError||(O(t.errors,s),b.isValid&&B()),v.state.next({...t}))},Ke=(s,n={})=>{const o=s?N(s):a,h=N(o),f=P(s),d=f?a:h;if(n.keepDefaultValues||(a=o),!n.keepValues){if(n.keepDirtyValues){const _=new Set([...y.mount,...Object.keys(ge(a,l))]);for(const m of Array.from(_))c(t.dirtyFields,m)?p(d,m,c(l,m)):H(m,c(d,m))}else{if(Ue&&D(s))for(const _ of y.mount){const m=c(i,_);if(m&&m._f){const L=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(we(L)){const I=L.closest("form");if(I){I.reset();break}}}}i={}}l=r.shouldUnregister?n.keepDefaultValues?N(a):{}:N(d),v.array.next({values:{...d}}),v.values.next({values:{...d}})}y={mount:n.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!b.isValid||!!n.keepIsValid||!!n.keepDirtyValues,u.watch=!!r.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:f?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!se(s,a)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&l?ge(a,l):t.dirtyFields:n.keepDefaultValues&&s?ge(a,s):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(s,n)=>Ke(K(s)?s(l):s,n);return{control:{register:Te,unregister:ke,getFieldState:He,handleSubmit:ze,setError:We,_executeSchema:ae,_getWatch:A,_getDirty:x,_updateValid:B,_removeUnmounted:Ve,_updateFieldArray:V,_updateDisabledField:Ge,_getFieldArray:R,_reset:Ke,_resetDefaultValues:()=>K(r.defaultValues)&&r.defaultValues().then(s=>{Ye(s,r.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Lt,_subjects:v,_proxyFormState:b,_setErrors:Q,get _fields(){return i},get _formValues(){return l},get _state(){return u},set _state(s){u=s},get _defaultValues(){return a},get _names(){return y},set _names(s){y=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:_e,register:Te,handleSubmit:ze,watch:Ot,setValue:H,getValues:$e,reset:Ye,resetField:It,clearErrors:Rt,unregister:ke,setError:We,setFocus:(s,n={})=>{const o=c(i,s),h=o&&o._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),n.shouldSelect&&K(f.select)&&f.select())}},getFieldState:He}}function Mr(e={}){const r=w.useRef(void 0),t=w.useRef(void 0),[i,a]=w.useState({isDirty:!1,isValidating:!1,isLoading:K(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:K(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Er(e),formState:i});const l=r.current.control;return l._options=e,Ne({subject:l._subjects.state,next:u=>{Ft(u,l._proxyFormState,l._updateFormState,!0)&&a({...l._formState})}}),w.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),w.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==i.isDirty&&l._subjects.state.next({isDirty:u})}},[l,i.isDirty]),w.useEffect(()=>{e.values&&!se(e.values,t.current)?(l._reset(e.values,l._options.resetOptions),t.current=e.values,a(u=>({...u}))):l._resetDefaultValues()},[e.values,l]),w.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),w.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),w.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),r.current.formState=xt(i,l),r.current}const ht=(e,r,t)=>{if(e&&"reportValidity"in e){const i=c(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Ct=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?ht(i.ref,t,e):i&&i.refs&&i.refs.forEach(a=>ht(a,t,e))}},Dr=(e,r)=>{r.shouldUseNativeValidation&&Ct(e,r);const t={};for(const i in e){const a=c(r.fields,i),l=Object.assign(e[i]||{},{ref:a&&a.ref});if(kr(r.names||Object.keys(e),i)){const u=Object.assign({},c(t,i));p(u,"root",l),p(t,i,u)}else p(t,i,l)}return t},kr=(e,r)=>e.some(t=>t.match(`^${r}\\.\\d+`));function Ur(e,r,t){return r===void 0&&(r={}),t===void 0&&(t={}),function(i,a,l){try{return Promise.resolve(function(u,y){try{var g=(r.context,Promise.resolve(e[t.mode==="sync"?"validateSync":"validate"](i,Object.assign({abortEarly:!1},r,{context:a}))).then(function(F){return l.shouldUseNativeValidation&&Ct({},l),{values:t.raw?Object.assign({},i):F,errors:{}}}))}catch(F){return y(F)}return g&&g.then?g.then(void 0,y):g}(0,function(u){if(!u.inner)throw u;return{values:{},errors:Dr((y=u,g=!l.shouldUseNativeValidation&&l.criteriaMode==="all",(y.inner||[]).reduce(function(F,b){if(F[b.path]||(F[b.path]={message:b.message,type:b.type}),g){var v=F[b.path].types,S=v&&v[b.type];F[b.path]=pt(b.path,g,F,b.type,S?[].concat(S,b.message):b.message)}return F},{})),l)};var y,g}))}catch(u){return Promise.reject(u)}}}const jr=Z().email().required(E.emailRequired),qr=Z().required(E.passwordRequired),Nr=Z().min(tt,E.passwordMin(tt)).max(rt,E.passwordMax(rt)).matches(/[A-Z]/,E.passwordUpperCase).matches(/[a-z]/,E.passwordLowerCase).matches(/[0-9]/,E.passwordNumber).required(E.passwordRequired),Pr=e=>Z().oneOf([Wt(e)],E.passwordRepeatIncorrect).required(E.passwordRequired),Br=$t().required(E.dateRequired).nullable(E.dateRequired).test("not-empty",E.dateRequired,e=>e!==null).test("is-valid-range",E.dateRange(),e=>e?Ht(e.getTime()):!1),$r=Z().required(),Hr=Z().max(Qe,E.nameTaskMax(Qe)).required(E.nameTaskRequired),Wr=_t().required(),Gr=Z().max(et,E.nameTagMax(et)).required(E.nameTagRequired),Xr=Z().matches(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,E.hexColorInvalid).required(E.colorRequired),zr=Z().required(),Kr=Z(),Yr=_t().oneOf([!0],E.policyCheckbox).required(E.policyRequired);export{Ir as C,Jt as E,Lr as F,Qt as S,Yr as a,Nr as b,dr as c,$r as d,jr as e,Kr as f,Pr as g,Xr as h,Wr as i,Hr as j,ur as k,Br as l,Gr as n,Ur as o,qr as p,zr as t,Mr as u};
