import{a as h,n as x,b as E,u as b,r as w,j as r,R as S,d as f,e as j}from"./index-w2R4zSUN.js";import{A as I}from"./Auth-CbPE6SMe.js";import{B as d}from"./Book-CTQGqJPP.js";import{u as R,C as u,F as c,o as k,p as v,e as A}from"./fields-CH6Pj5yF.js";import{g as L}from"./firebase-BtoHW9Uj.js";const M=()=>{const[s,,l,e]=h(E);e&&console.error(e);const n=e?x(e):void 0;return[s,l,n]},P=j({email:A,password:v}),y=()=>{b("Вход");const s=w.useId(),[l,e,n]=M();let t;n&&(t=L(n));const{handleSubmit:p,control:m}=R({resolver:k(P),defaultValues:{email:"",password:""}}),g=async a=>{await l(a.email,a.password)};return r.jsx(d,{"aria-labelledby":s,children:r.jsx(d.Main,{title:"Вход",titleId:s,children:r.jsxs(I,{titleId:s,isLoading:e,errorMessage:t,buttonName:"Войти",footerLinks:[{linkName:"Восстановить пароль",linkUrl:S},{description:"Нет аккаунта?",linkName:"Зарегистрироваться",linkUrl:f}],onSubmit:p(g),children:[r.jsx(u,{name:"email",control:m,render:({field:a,fieldState:o})=>{var i;return r.jsx(c,{type:"email",label:"Email",placeholder:"Email",autoComplete:"email","aria-required":!0,"aria-invalid":o.invalid,errorMessage:(i=o.error)==null?void 0:i.message,...a})}}),r.jsx(u,{name:"password",control:m,render:({field:a,fieldState:o})=>{var i;return r.jsx(c,{label:"Пароль",placeholder:"Пароль",autoComplete:"current-password",isPassword:!0,"aria-required":!0,"aria-invalid":o.invalid,errorMessage:(i=o.error)==null?void 0:i.message,...a})}})]})})})};export{y as default};
